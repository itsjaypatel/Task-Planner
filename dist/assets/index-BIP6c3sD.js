(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function DE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qd={exports:{}},Qa={},Hd={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function VE(){if(Yg)return ze;Yg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function F(U,X,Ie){this.props=U,this.context=X,this.refs=H,this.updater=Ie||L}F.prototype.isReactComponent={},F.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},F.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Q(){}Q.prototype=F.prototype;function Y(U,X,Ie){this.props=U,this.context=X,this.refs=H,this.updater=Ie||L}var se=Y.prototype=new Q;se.constructor=Y,O(se,F.prototype),se.isPureReactComponent=!0;var de=Array.isArray,ne=Object.prototype.hasOwnProperty,fe={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(U,X,Ie){var Le,Me={},Fe=null,Ke=null;if(X!=null)for(Le in X.ref!==void 0&&(Ke=X.ref),X.key!==void 0&&(Fe=""+X.key),X)ne.call(X,Le)&&!x.hasOwnProperty(Le)&&(Me[Le]=X[Le]);var qe=arguments.length-2;if(qe===1)Me.children=Ie;else if(1<qe){for(var et=Array(qe),Tt=0;Tt<qe;Tt++)et[Tt]=arguments[Tt+2];Me.children=et}if(U&&U.defaultProps)for(Le in qe=U.defaultProps,qe)Me[Le]===void 0&&(Me[Le]=qe[Le]);return{$$typeof:n,type:U,key:Fe,ref:Ke,props:Me,_owner:fe.current}}function C(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ie){return X[Ie]})}var V=/\/+/g;function A(U,X){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):X.toString(36)}function be(U,X,Ie,Le,Me){var Fe=typeof U;(Fe==="undefined"||Fe==="boolean")&&(U=null);var Ke=!1;if(U===null)Ke=!0;else switch(Fe){case"string":case"number":Ke=!0;break;case"object":switch(U.$$typeof){case n:case e:Ke=!0}}if(Ke)return Ke=U,Me=Me(Ke),U=Le===""?"."+A(Ke,0):Le,de(Me)?(Ie="",U!=null&&(Ie=U.replace(V,"$&/")+"/"),be(Me,X,Ie,"",function(Tt){return Tt})):Me!=null&&(k(Me)&&(Me=C(Me,Ie+(!Me.key||Ke&&Ke.key===Me.key?"":(""+Me.key).replace(V,"$&/")+"/")+U)),X.push(Me)),1;if(Ke=0,Le=Le===""?".":Le+":",de(U))for(var qe=0;qe<U.length;qe++){Fe=U[qe];var et=Le+A(Fe,qe);Ke+=be(Fe,X,Ie,et,Me)}else if(et=I(U),typeof et=="function")for(U=et.call(U),qe=0;!(Fe=U.next()).done;)Fe=Fe.value,et=Le+A(Fe,qe++),Ke+=be(Fe,X,Ie,et,Me);else if(Fe==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ke}function Ye(U,X,Ie){if(U==null)return U;var Le=[],Me=0;return be(U,Le,"","",function(Fe){return X.call(Ie,Fe,Me++)}),Le}function nt(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(Ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ie)},function(Ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ie)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var Oe={current:null},ae={transition:null},Te={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ae,ReactCurrentOwner:fe};function he(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Ye,forEach:function(U,X,Ie){Ye(U,function(){X.apply(this,arguments)},Ie)},count:function(U){var X=0;return Ye(U,function(){X++}),X},toArray:function(U){return Ye(U,function(X){return X})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ze.Component=F,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=Y,ze.StrictMode=i,ze.Suspense=p,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,ze.act=he,ze.cloneElement=function(U,X,Ie){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Le=O({},U.props),Me=U.key,Fe=U.ref,Ke=U._owner;if(X!=null){if(X.ref!==void 0&&(Fe=X.ref,Ke=fe.current),X.key!==void 0&&(Me=""+X.key),U.type&&U.type.defaultProps)var qe=U.type.defaultProps;for(et in X)ne.call(X,et)&&!x.hasOwnProperty(et)&&(Le[et]=X[et]===void 0&&qe!==void 0?qe[et]:X[et])}var et=arguments.length-2;if(et===1)Le.children=Ie;else if(1<et){qe=Array(et);for(var Tt=0;Tt<et;Tt++)qe[Tt]=arguments[Tt+2];Le.children=qe}return{$$typeof:n,type:U.type,key:Me,ref:Fe,props:Le,_owner:Ke}},ze.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},ze.createElement=S,ze.createFactory=function(U){var X=S.bind(null,U);return X.type=U,X},ze.createRef=function(){return{current:null}},ze.forwardRef=function(U){return{$$typeof:d,render:U}},ze.isValidElement=k,ze.lazy=function(U){return{$$typeof:w,_payload:{_status:-1,_result:U},_init:nt}},ze.memo=function(U,X){return{$$typeof:y,type:U,compare:X===void 0?null:X}},ze.startTransition=function(U){var X=ae.transition;ae.transition={};try{U()}finally{ae.transition=X}},ze.unstable_act=he,ze.useCallback=function(U,X){return Oe.current.useCallback(U,X)},ze.useContext=function(U){return Oe.current.useContext(U)},ze.useDebugValue=function(){},ze.useDeferredValue=function(U){return Oe.current.useDeferredValue(U)},ze.useEffect=function(U,X){return Oe.current.useEffect(U,X)},ze.useId=function(){return Oe.current.useId()},ze.useImperativeHandle=function(U,X,Ie){return Oe.current.useImperativeHandle(U,X,Ie)},ze.useInsertionEffect=function(U,X){return Oe.current.useInsertionEffect(U,X)},ze.useLayoutEffect=function(U,X){return Oe.current.useLayoutEffect(U,X)},ze.useMemo=function(U,X){return Oe.current.useMemo(U,X)},ze.useReducer=function(U,X,Ie){return Oe.current.useReducer(U,X,Ie)},ze.useRef=function(U){return Oe.current.useRef(U)},ze.useState=function(U){return Oe.current.useState(U)},ze.useSyncExternalStore=function(U,X,Ie){return Oe.current.useSyncExternalStore(U,X,Ie)},ze.useTransition=function(){return Oe.current.useTransition()},ze.version="18.3.1",ze}var Xg;function zf(){return Xg||(Xg=1,Hd.exports=VE()),Hd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function LE(){if(Jg)return Qa;Jg=1;var n=zf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,y){var w,T={},I=null,L=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(L=p.ref);for(w in p)i.call(p,w)&&!a.hasOwnProperty(w)&&(T[w]=p[w]);if(d&&d.defaultProps)for(w in p=d.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:d,key:I,ref:L,props:T,_owner:o.current}}return Qa.Fragment=t,Qa.jsx=h,Qa.jsxs=h,Qa}var Zg;function bE(){return Zg||(Zg=1,qd.exports=LE()),qd.exports}var P=bE(),G=zf();const zn=DE(G);var nc={},Wd={exports:{}},pn={},Kd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function OE(){return ey||(ey=1,function(n){function e(ae,Te){var he=ae.length;ae.push(Te);e:for(;0<he;){var U=he-1>>>1,X=ae[U];if(0<o(X,Te))ae[U]=Te,ae[he]=X,he=U;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var Te=ae[0],he=ae.pop();if(he!==Te){ae[0]=he;e:for(var U=0,X=ae.length,Ie=X>>>1;U<Ie;){var Le=2*(U+1)-1,Me=ae[Le],Fe=Le+1,Ke=ae[Fe];if(0>o(Me,he))Fe<X&&0>o(Ke,Me)?(ae[U]=Ke,ae[Fe]=he,U=Fe):(ae[U]=Me,ae[Le]=he,U=Le);else if(Fe<X&&0>o(Ke,he))ae[U]=Ke,ae[Fe]=he,U=Fe;else break e}}return Te}function o(ae,Te){var he=ae.sortIndex-Te.sortIndex;return he!==0?he:ae.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],y=[],w=1,T=null,I=3,L=!1,O=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(ae){for(var Te=t(y);Te!==null;){if(Te.callback===null)i(y);else if(Te.startTime<=ae)i(y),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(y)}}function de(ae){if(H=!1,se(ae),!O)if(t(p)!==null)O=!0,nt(ne);else{var Te=t(y);Te!==null&&Oe(de,Te.startTime-ae)}}function ne(ae,Te){O=!1,H&&(H=!1,Q(S),S=-1),L=!0;var he=I;try{for(se(Te),T=t(p);T!==null&&(!(T.expirationTime>Te)||ae&&!M());){var U=T.callback;if(typeof U=="function"){T.callback=null,I=T.priorityLevel;var X=U(T.expirationTime<=Te);Te=n.unstable_now(),typeof X=="function"?T.callback=X:T===t(p)&&i(p),se(Te)}else i(p);T=t(p)}if(T!==null)var Ie=!0;else{var Le=t(y);Le!==null&&Oe(de,Le.startTime-Te),Ie=!1}return Ie}finally{T=null,I=he,L=!1}}var fe=!1,x=null,S=-1,C=5,k=-1;function M(){return!(n.unstable_now()-k<C)}function V(){if(x!==null){var ae=n.unstable_now();k=ae;var Te=!0;try{Te=x(!0,ae)}finally{Te?A():(fe=!1,x=null)}}else fe=!1}var A;if(typeof Y=="function")A=function(){Y(V)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ye=be.port2;be.port1.onmessage=V,A=function(){Ye.postMessage(null)}}else A=function(){F(V,0)};function nt(ae){x=ae,fe||(fe=!0,A())}function Oe(ae,Te){S=F(function(){ae(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){O||L||(O=!0,nt(ne))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var Te=3;break;default:Te=I}var he=I;I=Te;try{return ae()}finally{I=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var he=I;I=ae;try{return Te()}finally{I=he}},n.unstable_scheduleCallback=function(ae,Te,he){var U=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?U+he:U):he=U,ae){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=he+X,ae={id:w++,callback:Te,priorityLevel:ae,startTime:he,expirationTime:X,sortIndex:-1},he>U?(ae.sortIndex=he,e(y,ae),t(p)===null&&ae===t(y)&&(H?(Q(S),S=-1):H=!0,Oe(de,he-U))):(ae.sortIndex=X,e(p,ae),O||L||(O=!0,nt(ne))),ae},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ae){var Te=I;return function(){var he=I;I=Te;try{return ae.apply(this,arguments)}finally{I=he}}}}(Gd)),Gd}var ty;function ME(){return ty||(ty=1,Kd.exports=OE()),Kd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function FE(){if(ny)return pn;ny=1;var n=zf(),e=ME();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function L(r,s,l,c){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,l,c){if(s===null||typeof s>"u"||L(r,s,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(r,s,l,c,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new H(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];F[s]=new H(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new H(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new H(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new H(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new H(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new H(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new H(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new H(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Q,Y);F[s]=new H(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Q,Y);F[s]=new H(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Q,Y);F[s]=new H(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new H(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new H(r,1,!1,r.toLowerCase(),null,!0,!0)});function se(r,s,l,c){var f=F.hasOwnProperty(s)?F[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,f,c)&&(l=null),c||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,c=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?r.setAttributeNS(c,s,l):r.setAttribute(s,l))))}var de=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),fe=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var Ie=!1;function Le(r,s){if(!r||Ie)return"";Ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var c=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){c=q}r.call(s.prototype)}else{try{throw Error()}catch(q){c=q}r()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=c.stack.split(`
`),_=f.length-1,R=g.length-1;1<=_&&0<=R&&f[_]!==g[R];)R--;for(;1<=_&&0<=R;_--,R--)if(f[_]!==g[R]){if(_!==1||R!==1)do if(_--,R--,0>R||f[_]!==g[R]){var D=`
`+f[_].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=_&&0<=R);break}}}finally{Ie=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function Me(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Le(r.type,!1),r;case 11:return r=Le(r.type.render,!1),r;case 1:return r=Le(r.type,!0),r;default:return""}}function Fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case fe:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ye:return s=r.displayName||null,s!==null?s:Fe(r.type)||"Memo";case nt:s=r._payload,r=r._init;try{return Fe(r(s))}catch{}}return null}function Ke(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function et(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=et(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function kn(r){r._valueTracker||(r._valueTracker=Tt(r))}function ai(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=et(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Bn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function hr(r,s){var l=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function rs(r,s){var l=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;l=qe(s.value!=null?s.value:l),r._wrapperState={initialChecked:c,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $s(r,s){s=s.checked,s!=null&&se(r,"checked",s,!1)}function qs(r,s){$s(r,s);var l=qe(s.value),c=s.type;if(l!=null)c==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?$(r,s.type,l):s.hasOwnProperty("defaultValue")&&$(r,s.type,qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function N(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function $(r,s,l){(s!=="number"||Bn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var K=Array.isArray;function ce(r,s,l,c){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&c&&(r[l].defaultSelected=!0)}else{for(l=""+qe(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function le(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ie(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(K(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:qe(l)}}function Se(r,s){var l=qe(s.value),c=qe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),c!=null&&(r.defaultValue=""+c)}function De(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ue(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ue(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ut,is=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ut.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Pn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dr=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(r){Dr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),$n[s]=$n[r]})});function li(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||$n.hasOwnProperty(r)&&$n[r]?(""+s).trim():s+"px"}function ss(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=li(l,s[l],c);l==="float"&&(l="cssFloat"),c?r.setProperty(l,f):r[l]=f}}var ui=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(r,s){if(s){if(ui[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ca(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function Hs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ws=null,xn=null,dr=null;function Ks(r){if(r=La(r)){if(typeof Ws!="function")throw Error(t(280));var s=r.stateNode;s&&(s=yu(s),Ws(r.stateNode,r.type,s))}}function fr(r){xn?dr?dr.push(r):dr=[r]:xn=r}function ha(){if(xn){var r=xn,s=dr;if(dr=xn=null,Ks(r),s)for(r=0;r<s.length;r++)Ks(s[r])}}function as(r,s){return r(s)}function da(){}var Vr=!1;function fa(r,s,l){if(Vr)return r(s,l);Vr=!0;try{return as(r,s,l)}finally{Vr=!1,(xn!==null||dr!==null)&&(da(),ha())}}function yt(r,s){var l=r.stateNode;if(l===null)return null;var c=yu(l);if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Gs=!1;if(d)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Gs=!1}function ls(r,s,l,c,f,g,_,R,D){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(te){this.onError(te)}}var us=!1,Qs=null,Hn=!1,pa=null,vh={onError:function(r){us=!0,Qs=r}};function Ys(r,s,l,c,f,g,_,R,D){us=!1,Qs=null,ls.apply(vh,arguments)}function Bl(r,s,l,c,f,g,_,R,D){if(Ys.apply(this,arguments),us){if(us){var q=Qs;us=!1,Qs=null}else throw Error(t(198));Hn||(Hn=!0,pa=q)}}function Wn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function cs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Kn(r){if(Wn(r)!==r)throw Error(t(188))}function $l(r){var s=r.alternate;if(!s){if(s=Wn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,c=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Kn(f),r;if(g===c)return Kn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==c.return)l=f,c=g;else{for(var _=!1,R=f.child;R;){if(R===l){_=!0,l=f,c=g;break}if(R===c){_=!0,c=f,l=g;break}R=R.sibling}if(!_){for(R=g.child;R;){if(R===l){_=!0,l=g,c=f;break}if(R===c){_=!0,c=g,l=f;break}R=R.sibling}if(!_)throw Error(t(189))}}if(l.alternate!==c)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ma(r){return r=$l(r),r!==null?Xs(r):null}function Xs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Xs(r);if(s!==null)return s;r=r.sibling}return null}var Js=e.unstable_scheduleCallback,ga=e.unstable_cancelCallback,ql=e.unstable_shouldYield,_h=e.unstable_requestPaint,it=e.unstable_now,Hl=e.unstable_getCurrentPriorityLevel,hs=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,ya=e.unstable_LowPriority,Wl=e.unstable_IdlePriority,ds=null,_n=null;function Kl(r){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(ds,r,void 0,(r.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Ql,va=Math.log,Gl=Math.LN2;function Ql(r){return r>>>=0,r===0?32:31-(va(r)/Gl|0)|0}var Zs=64,eo=4194304;function hi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function fs(r,s){var l=r.pendingLanes;if(l===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,_=l&268435455;if(_!==0){var R=_&~f;R!==0?c=hi(R):(g&=_,g!==0&&(c=hi(g)))}else _=l&~f,_!==0?c=hi(_):g!==0&&(c=hi(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)l=31-tn(s),f=1<<l,c|=r[l],s&=~f;return c}function wh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-tn(g),R=1<<_,D=f[_];D===-1?(!(R&l)||R&c)&&(f[_]=wh(R,s)):D<=s&&(r.expiredLanes|=R),g&=~R}}function wn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ps(){var r=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),r}function di(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function fi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-tn(s),r[s]=l}function rt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-tn(l),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,l&=~g}}function pi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-tn(l),f=1<<c;f&s|r[c]&s&&(r[c]|=s),l&=~f}}var He=0;function mi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Yl,to,Xl,Jl,Zl,_a=!1,pr=[],jt=null,Gn=null,Qn=null,gi=new Map,Dn=new Map,mr=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(r,s){switch(r){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(s.pointerId)}}function an(r,s,l,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=La(s),s!==null&&to(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Th(r,s,l,c,f){switch(s){case"focusin":return jt=an(jt,r,s,l,c,f),!0;case"dragenter":return Gn=an(Gn,r,s,l,c,f),!0;case"mouseover":return Qn=an(Qn,r,s,l,c,f),!0;case"pointerover":var g=f.pointerId;return gi.set(g,an(gi.get(g)||null,r,s,l,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Dn.set(g,an(Dn.get(g)||null,r,s,l,c,f)),!0}return!1}function tu(r){var s=_s(r.target);if(s!==null){var l=Wn(s);if(l!==null){if(s=l.tag,s===13){if(s=cs(l),s!==null){r.blockedOn=s,Zl(r.priority,function(){Xl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function br(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=no(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);os=c,l.target.dispatchEvent(c),os=null}else return s=La(l),s!==null&&to(s),r.blockedOn=l,!1;s.shift()}return!0}function ms(r,s,l){br(r)&&l.delete(s)}function nu(){_a=!1,jt!==null&&br(jt)&&(jt=null),Gn!==null&&br(Gn)&&(Gn=null),Qn!==null&&br(Qn)&&(Qn=null),gi.forEach(ms),Dn.forEach(ms)}function Yn(r,s){r.blockedOn===s&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nu)))}function Xn(r){function s(f){return Yn(f,r)}if(0<pr.length){Yn(pr[0],r);for(var l=1;l<pr.length;l++){var c=pr[l];c.blockedOn===r&&(c.blockedOn=null)}}for(jt!==null&&Yn(jt,r),Gn!==null&&Yn(Gn,r),Qn!==null&&Yn(Qn,r),gi.forEach(s),Dn.forEach(s),l=0;l<mr.length;l++)c=mr[l],c.blockedOn===r&&(c.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)tu(l),l.blockedOn===null&&mr.shift()}var Or=de.ReactCurrentBatchConfig,yi=!0;function ct(r,s,l,c){var f=He,g=Or.transition;Or.transition=null;try{He=1,wa(r,s,l,c)}finally{He=f,Or.transition=g}}function Ih(r,s,l,c){var f=He,g=Or.transition;Or.transition=null;try{He=4,wa(r,s,l,c)}finally{He=f,Or.transition=g}}function wa(r,s,l,c){if(yi){var f=no(r,s,l,c);if(f===null)Lh(r,s,c,gs,l),eu(r,c);else if(Th(f,r,s,l,c))c.stopPropagation();else if(eu(r,c),s&4&&-1<Eh.indexOf(r)){for(;f!==null;){var g=La(f);if(g!==null&&Yl(g),g=no(r,s,l,c),g===null&&Lh(r,s,c,gs,l),g===f)break;f=g}f!==null&&c.stopPropagation()}else Lh(r,s,c,null,l)}}var gs=null;function no(r,s,l,c){if(gs=null,r=Hs(c),r=_s(r),r!==null)if(s=Wn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=cs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return gs=r,null}function Ea(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hl()){case hs:return 1;case ci:return 4;case Nn:case ya:return 16;case Wl:return 536870912;default:return 16}default:return 16}}var En=null,ro=null,ln=null;function Ta(){if(ln)return ln;var r,s=ro,l=s.length,c,f="value"in En?En.value:En.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var _=l-r;for(c=1;c<=_&&s[l-c]===f[g-c];c++);return ln=f.slice(r,1<c?1-c:void 0)}function io(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function gr(){return!0}function Ia(){return!1}function zt(r){function s(l,c,f,g,_){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gr:Ia,this.isPropagationStopped=Ia,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=zt(Jn),yr=he({},Jn,{view:0,detail:0}),Sh=zt(yr),oo,Mr,vi,ys=he({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vi&&(vi&&r.type==="mousemove"?(oo=r.screenX-vi.screenX,Mr=r.screenY-vi.screenY):Mr=oo=0,vi=r),oo)},movementY:function(r){return"movementY"in r?r.movementY:Mr}}),ao=zt(ys),Sa=he({},ys,{dataTransfer:0}),ru=zt(Sa),lo=he({},yr,{relatedTarget:0}),uo=zt(lo),iu=he({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=zt(iu),su=he({},Jn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ou=zt(su),au=he({},Jn,{data:0}),Aa=zt(au),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=lu[r])?!!s[r]:!1}function vr(){return uu}var u=he({},yr,{key:function(r){if(r.key){var s=co[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=io(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?nn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(r){return r.type==="keypress"?io(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?io(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=zt(u),v=he({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=zt(v),j=he({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),W=zt(j),ue=he({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=zt(ue),Ct=he({},ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=zt(Ct),Vt=[9,13,27,32],It=d&&"CompositionEvent"in window,Vn=null;d&&"documentMode"in document&&(Vn=document.documentMode);var Tn=d&&"TextEvent"in window&&!Vn,vs=d&&(!It||Vn&&8<Vn&&11>=Vn),ho=" ",qp=!1;function Hp(r,s){switch(r){case"keyup":return Vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fo=!1;function Pw(r,s){switch(r){case"compositionend":return Wp(s);case"keypress":return s.which!==32?null:(qp=!0,ho);case"textInput":return r=s.data,r===ho&&qp?null:r;default:return null}}function xw(r,s){if(fo)return r==="compositionend"||!It&&Hp(r,s)?(r=Ta(),ln=ro=En=null,fo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vs&&s.locale!=="ko"?null:s.data;default:return null}}var Nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Nw[r.type]:s==="textarea"}function Gp(r,s,l,c){fr(c),s=pu(s,"onChange"),0<s.length&&(l=new so("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var Ra=null,Ca=null;function Dw(r){dm(r,0)}function cu(r){var s=vo(r);if(ai(s))return r}function Vw(r,s){if(r==="change")return s}var Qp=!1;if(d){var Ah;if(d){var Rh="oninput"in document;if(!Rh){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Rh=typeof Yp.oninput=="function"}Ah=Rh}else Ah=!1;Qp=Ah&&(!document.documentMode||9<document.documentMode)}function Xp(){Ra&&(Ra.detachEvent("onpropertychange",Jp),Ca=Ra=null)}function Jp(r){if(r.propertyName==="value"&&cu(Ca)){var s=[];Gp(s,Ca,r,Hs(r)),fa(Dw,s)}}function Lw(r,s,l){r==="focusin"?(Xp(),Ra=s,Ca=l,Ra.attachEvent("onpropertychange",Jp)):r==="focusout"&&Xp()}function bw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return cu(Ca)}function Ow(r,s){if(r==="click")return cu(s)}function Mw(r,s){if(r==="input"||r==="change")return cu(s)}function Fw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Zn=typeof Object.is=="function"?Object.is:Fw;function ka(r,s){if(Zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!p.call(s,f)||!Zn(r[f],s[f]))return!1}return!0}function Zp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function em(r,s){var l=Zp(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zp(l)}}function tm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?tm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function nm(){for(var r=window,s=Bn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Bn(r.document)}return s}function Ch(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Uw(r){var s=nm(),l=r.focusedElem,c=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&tm(l.ownerDocument.documentElement,l)){if(c!==null&&Ch(l)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=em(l,g);var _=em(l,c);f&&_&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jw=d&&"documentMode"in document&&11>=document.documentMode,po=null,kh=null,Pa=null,Ph=!1;function rm(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ph||po==null||po!==Bn(c)||(c=po,"selectionStart"in c&&Ch(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pa&&ka(Pa,c)||(Pa=c,c=pu(kh,"onSelect"),0<c.length&&(s=new so("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=po)))}function hu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var mo={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},xh={},im={};d&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function du(r){if(xh[r])return xh[r];if(!mo[r])return r;var s=mo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in im)return xh[r]=s[l];return r}var sm=du("animationend"),om=du("animationiteration"),am=du("animationstart"),lm=du("transitionend"),um=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(r,s){um.set(r,s),a(s,[r])}for(var Nh=0;Nh<cm.length;Nh++){var Dh=cm[Nh],zw=Dh.toLowerCase(),Bw=Dh[0].toUpperCase()+Dh.slice(1);_i(zw,"on"+Bw)}_i(sm,"onAnimationEnd"),_i(om,"onAnimationIteration"),_i(am,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(lm,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function hm(r,s,l){var c=r.type||"unknown-event";r.currentTarget=l,Bl(c,s,void 0,r),r.currentTarget=null}function dm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var R=c[_],D=R.instance,q=R.currentTarget;if(R=R.listener,D!==g&&f.isPropagationStopped())break e;hm(f,R,q),g=D}else for(_=0;_<c.length;_++){if(R=c[_],D=R.instance,q=R.currentTarget,R=R.listener,D!==g&&f.isPropagationStopped())break e;hm(f,R,q),g=D}}}if(Hn)throw r=pa,Hn=!1,pa=null,r}function ot(r,s){var l=s[jh];l===void 0&&(l=s[jh]=new Set);var c=r+"__bubble";l.has(c)||(fm(s,r,2,!1),l.add(c))}function Vh(r,s,l){var c=0;s&&(c|=4),fm(l,r,c,s)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Na(r){if(!r[fu]){r[fu]=!0,i.forEach(function(l){l!=="selectionchange"&&($w.has(l)||Vh(l,!1,r),Vh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[fu]||(s[fu]=!0,Vh("selectionchange",!1,s))}}function fm(r,s,l,c){switch(Ea(s)){case 1:var f=ct;break;case 4:f=Ih;break;default:f=wa}l=f.bind(null,s,l,r),f=void 0,!Gs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Lh(r,s,l,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var R=c.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;R!==null;){if(_=_s(R),_===null)return;if(D=_.tag,D===5||D===6){c=g=_;continue e}R=R.parentNode}}c=c.return}fa(function(){var q=g,te=Hs(l),re=[];e:{var ee=um.get(r);if(ee!==void 0){var pe=so,ve=r;switch(r){case"keypress":if(io(l)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":ve="focus",pe=uo;break;case"focusout":ve="blur",pe=uo;break;case"beforeblur":case"afterblur":pe=uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=W;break;case sm:case om:case am:pe=Fr;break;case lm:pe=tt;break;case"scroll":pe=Sh;break;case"wheel":pe=Ge;break;case"copy":case"cut":case"paste":pe=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=E}var we=(s&4)!==0,vt=!we&&r==="scroll",z=we?ee!==null?ee+"Capture":null:ee;we=[];for(var b=q,B;b!==null;){B=b;var oe=B.stateNode;if(B.tag===5&&oe!==null&&(B=oe,z!==null&&(oe=yt(b,z),oe!=null&&we.push(Da(b,oe,B)))),vt)break;b=b.return}0<we.length&&(ee=new pe(ee,ve,null,l,te),re.push({event:ee,listeners:we}))}}if(!(s&7)){e:{if(ee=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",ee&&l!==os&&(ve=l.relatedTarget||l.fromElement)&&(_s(ve)||ve[Ur]))break e;if((pe||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=q,ve=ve?_s(ve):null,ve!==null&&(vt=Wn(ve),ve!==vt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=q),pe!==ve)){if(we=ao,oe="onMouseLeave",z="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(we=E,oe="onPointerLeave",z="onPointerEnter",b="pointer"),vt=pe==null?ee:vo(pe),B=ve==null?ee:vo(ve),ee=new we(oe,b+"leave",pe,l,te),ee.target=vt,ee.relatedTarget=B,oe=null,_s(te)===q&&(we=new we(z,b+"enter",ve,l,te),we.target=B,we.relatedTarget=vt,oe=we),vt=oe,pe&&ve)t:{for(we=pe,z=ve,b=0,B=we;B;B=go(B))b++;for(B=0,oe=z;oe;oe=go(oe))B++;for(;0<b-B;)we=go(we),b--;for(;0<B-b;)z=go(z),B--;for(;b--;){if(we===z||z!==null&&we===z.alternate)break t;we=go(we),z=go(z)}we=null}else we=null;pe!==null&&pm(re,ee,pe,we,!1),ve!==null&&vt!==null&&pm(re,vt,ve,we,!0)}}e:{if(ee=q?vo(q):window,pe=ee.nodeName&&ee.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ee.type==="file")var Ee=Vw;else if(Kp(ee))if(Qp)Ee=Mw;else{Ee=bw;var Re=Lw}else(pe=ee.nodeName)&&pe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ee=Ow);if(Ee&&(Ee=Ee(r,q))){Gp(re,Ee,l,te);break e}Re&&Re(r,ee,q),r==="focusout"&&(Re=ee._wrapperState)&&Re.controlled&&ee.type==="number"&&$(ee,"number",ee.value)}switch(Re=q?vo(q):window,r){case"focusin":(Kp(Re)||Re.contentEditable==="true")&&(po=Re,kh=q,Pa=null);break;case"focusout":Pa=kh=po=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,rm(re,l,te);break;case"selectionchange":if(jw)break;case"keydown":case"keyup":rm(re,l,te)}var Ce;if(It)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else fo?Hp(r,l)&&(Pe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(vs&&l.locale!=="ko"&&(fo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&fo&&(Ce=Ta()):(En=te,ro="value"in En?En.value:En.textContent,fo=!0)),Re=pu(q,Pe),0<Re.length&&(Pe=new Aa(Pe,r,null,l,te),re.push({event:Pe,listeners:Re}),Ce?Pe.data=Ce:(Ce=Wp(l),Ce!==null&&(Pe.data=Ce)))),(Ce=Tn?Pw(r,l):xw(r,l))&&(q=pu(q,"onBeforeInput"),0<q.length&&(te=new Aa("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:q}),te.data=Ce))}dm(re,s)})}function Da(r,s,l){return{instance:r,listener:s,currentTarget:l}}function pu(r,s){for(var l=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=yt(r,l),g!=null&&c.unshift(Da(r,g,f)),g=yt(r,s),g!=null&&c.push(Da(r,g,f))),r=r.return}return c}function go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function pm(r,s,l,c,f){for(var g=s._reactName,_=[];l!==null&&l!==c;){var R=l,D=R.alternate,q=R.stateNode;if(D!==null&&D===c)break;R.tag===5&&q!==null&&(R=q,f?(D=yt(l,g),D!=null&&_.unshift(Da(l,D,R))):f||(D=yt(l,g),D!=null&&_.push(Da(l,D,R)))),l=l.return}_.length!==0&&r.push({event:s,listeners:_})}var qw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function mm(r){return(typeof r=="string"?r:""+r).replace(qw,`
`).replace(Hw,"")}function mu(r,s,l){if(s=mm(s),mm(r)!==s&&l)throw Error(t(425))}function gu(){}var bh=null,Oh=null;function Mh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(r){return gm.resolve(null).then(r).catch(Gw)}:Fh;function Gw(r){setTimeout(function(){throw r})}function Uh(r,s){var l=s,c=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){r.removeChild(f),Xn(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);Xn(s)}function wi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ym(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var yo=Math.random().toString(36).slice(2),_r="__reactFiber$"+yo,Va="__reactProps$"+yo,Ur="__reactContainer$"+yo,jh="__reactEvents$"+yo,Qw="__reactListeners$"+yo,Yw="__reactHandles$"+yo;function _s(r){var s=r[_r];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ur]||l[_r]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ym(r);r!==null;){if(l=r[_r])return l;r=ym(r)}return s}r=l,l=r.parentNode}return null}function La(r){return r=r[_r]||r[Ur],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function vo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function yu(r){return r[Va]||null}var zh=[],_o=-1;function Ei(r){return{current:r}}function at(r){0>_o||(r.current=zh[_o],zh[_o]=null,_o--)}function st(r,s){_o++,zh[_o]=r.current,r.current=s}var Ti={},Kt=Ei(Ti),un=Ei(!1),ws=Ti;function wo(r,s){var l=r.type.contextTypes;if(!l)return Ti;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function cn(r){return r=r.childContextTypes,r!=null}function vu(){at(un),at(Kt)}function vm(r,s,l){if(Kt.current!==Ti)throw Error(t(168));st(Kt,s),st(un,l)}function _m(r,s,l){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,Ke(r)||"Unknown",f));return he({},l,c)}function _u(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ti,ws=Kt.current,st(Kt,r),st(un,un.current),!0}function wm(r,s,l){var c=r.stateNode;if(!c)throw Error(t(169));l?(r=_m(r,s,ws),c.__reactInternalMemoizedMergedChildContext=r,at(un),at(Kt),st(Kt,r)):at(un),st(un,l)}var jr=null,wu=!1,Bh=!1;function Em(r){jr===null?jr=[r]:jr.push(r)}function Xw(r){wu=!0,Em(r)}function Ii(){if(!Bh&&jr!==null){Bh=!0;var r=0,s=He;try{var l=jr;for(He=1;r<l.length;r++){var c=l[r];do c=c(!0);while(c!==null)}jr=null,wu=!1}catch(f){throw jr!==null&&(jr=jr.slice(r+1)),Js(hs,Ii),f}finally{He=s,Bh=!1}}return null}var Eo=[],To=0,Eu=null,Tu=0,Ln=[],bn=0,Es=null,zr=1,Br="";function Ts(r,s){Eo[To++]=Tu,Eo[To++]=Eu,Eu=r,Tu=s}function Tm(r,s,l){Ln[bn++]=zr,Ln[bn++]=Br,Ln[bn++]=Es,Es=r;var c=zr;r=Br;var f=32-tn(c)-1;c&=~(1<<f),l+=1;var g=32-tn(s)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,zr=1<<32-tn(s)+f|l<<f|c,Br=g+r}else zr=1<<g|l<<f|c,Br=r}function $h(r){r.return!==null&&(Ts(r,1),Tm(r,1,0))}function qh(r){for(;r===Eu;)Eu=Eo[--To],Eo[To]=null,Tu=Eo[--To],Eo[To]=null;for(;r===Es;)Es=Ln[--bn],Ln[bn]=null,Br=Ln[--bn],Ln[bn]=null,zr=Ln[--bn],Ln[bn]=null}var In=null,Sn=null,ht=!1,er=null;function Im(r,s){var l=Un(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Sm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,In=r,Sn=wi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,In=r,Sn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Es!==null?{id:zr,overflow:Br}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Un(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,In=r,Sn=null,!0):!1;default:return!1}}function Hh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Wh(r){if(ht){var s=Sn;if(s){var l=s;if(!Sm(r,s)){if(Hh(r))throw Error(t(418));s=wi(l.nextSibling);var c=In;s&&Sm(r,s)?Im(c,l):(r.flags=r.flags&-4097|2,ht=!1,In=r)}}else{if(Hh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ht=!1,In=r}}}function Am(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;In=r}function Iu(r){if(r!==In)return!1;if(!ht)return Am(r),ht=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Mh(r.type,r.memoizedProps)),s&&(s=Sn)){if(Hh(r))throw Rm(),Error(t(418));for(;s;)Im(r,s),s=wi(s.nextSibling)}if(Am(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Sn=wi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Sn=null}}else Sn=In?wi(r.stateNode.nextSibling):null;return!0}function Rm(){for(var r=Sn;r;)r=wi(r.nextSibling)}function Io(){Sn=In=null,ht=!1}function Kh(r){er===null?er=[r]:er.push(r)}var Jw=de.ReactCurrentBatchConfig;function ba(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var c=l.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var R=f.refs;_===null?delete R[g]:R[g]=_},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Su(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Cm(r){var s=r._init;return s(r._payload)}function km(r){function s(z,b){if(r){var B=z.deletions;B===null?(z.deletions=[b],z.flags|=16):B.push(b)}}function l(z,b){if(!r)return null;for(;b!==null;)s(z,b),b=b.sibling;return null}function c(z,b){for(z=new Map;b!==null;)b.key!==null?z.set(b.key,b):z.set(b.index,b),b=b.sibling;return z}function f(z,b){return z=Ni(z,b),z.index=0,z.sibling=null,z}function g(z,b,B){return z.index=B,r?(B=z.alternate,B!==null?(B=B.index,B<b?(z.flags|=2,b):B):(z.flags|=2,b)):(z.flags|=1048576,b)}function _(z){return r&&z.alternate===null&&(z.flags|=2),z}function R(z,b,B,oe){return b===null||b.tag!==6?(b=Fd(B,z.mode,oe),b.return=z,b):(b=f(b,B),b.return=z,b)}function D(z,b,B,oe){var Ee=B.type;return Ee===x?te(z,b,B.props.children,oe,B.key):b!==null&&(b.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===nt&&Cm(Ee)===b.type)?(oe=f(b,B.props),oe.ref=ba(z,b,B),oe.return=z,oe):(oe=Gu(B.type,B.key,B.props,null,z.mode,oe),oe.ref=ba(z,b,B),oe.return=z,oe)}function q(z,b,B,oe){return b===null||b.tag!==4||b.stateNode.containerInfo!==B.containerInfo||b.stateNode.implementation!==B.implementation?(b=Ud(B,z.mode,oe),b.return=z,b):(b=f(b,B.children||[]),b.return=z,b)}function te(z,b,B,oe,Ee){return b===null||b.tag!==7?(b=xs(B,z.mode,oe,Ee),b.return=z,b):(b=f(b,B),b.return=z,b)}function re(z,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Fd(""+b,z.mode,B),b.return=z,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ne:return B=Gu(b.type,b.key,b.props,null,z.mode,B),B.ref=ba(z,null,b),B.return=z,B;case fe:return b=Ud(b,z.mode,B),b.return=z,b;case nt:var oe=b._init;return re(z,oe(b._payload),B)}if(K(b)||Te(b))return b=xs(b,z.mode,B,null),b.return=z,b;Su(z,b)}return null}function ee(z,b,B,oe){var Ee=b!==null?b.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ee!==null?null:R(z,b,""+B,oe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ne:return B.key===Ee?D(z,b,B,oe):null;case fe:return B.key===Ee?q(z,b,B,oe):null;case nt:return Ee=B._init,ee(z,b,Ee(B._payload),oe)}if(K(B)||Te(B))return Ee!==null?null:te(z,b,B,oe,null);Su(z,B)}return null}function pe(z,b,B,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return z=z.get(B)||null,R(b,z,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ne:return z=z.get(oe.key===null?B:oe.key)||null,D(b,z,oe,Ee);case fe:return z=z.get(oe.key===null?B:oe.key)||null,q(b,z,oe,Ee);case nt:var Re=oe._init;return pe(z,b,B,Re(oe._payload),Ee)}if(K(oe)||Te(oe))return z=z.get(B)||null,te(b,z,oe,Ee,null);Su(b,oe)}return null}function ve(z,b,B,oe){for(var Ee=null,Re=null,Ce=b,Pe=b=0,Ot=null;Ce!==null&&Pe<B.length;Pe++){Ce.index>Pe?(Ot=Ce,Ce=null):Ot=Ce.sibling;var Je=ee(z,Ce,B[Pe],oe);if(Je===null){Ce===null&&(Ce=Ot);break}r&&Ce&&Je.alternate===null&&s(z,Ce),b=g(Je,b,Pe),Re===null?Ee=Je:Re.sibling=Je,Re=Je,Ce=Ot}if(Pe===B.length)return l(z,Ce),ht&&Ts(z,Pe),Ee;if(Ce===null){for(;Pe<B.length;Pe++)Ce=re(z,B[Pe],oe),Ce!==null&&(b=g(Ce,b,Pe),Re===null?Ee=Ce:Re.sibling=Ce,Re=Ce);return ht&&Ts(z,Pe),Ee}for(Ce=c(z,Ce);Pe<B.length;Pe++)Ot=pe(Ce,z,Pe,B[Pe],oe),Ot!==null&&(r&&Ot.alternate!==null&&Ce.delete(Ot.key===null?Pe:Ot.key),b=g(Ot,b,Pe),Re===null?Ee=Ot:Re.sibling=Ot,Re=Ot);return r&&Ce.forEach(function(Di){return s(z,Di)}),ht&&Ts(z,Pe),Ee}function we(z,b,B,oe){var Ee=Te(B);if(typeof Ee!="function")throw Error(t(150));if(B=Ee.call(B),B==null)throw Error(t(151));for(var Re=Ee=null,Ce=b,Pe=b=0,Ot=null,Je=B.next();Ce!==null&&!Je.done;Pe++,Je=B.next()){Ce.index>Pe?(Ot=Ce,Ce=null):Ot=Ce.sibling;var Di=ee(z,Ce,Je.value,oe);if(Di===null){Ce===null&&(Ce=Ot);break}r&&Ce&&Di.alternate===null&&s(z,Ce),b=g(Di,b,Pe),Re===null?Ee=Di:Re.sibling=Di,Re=Di,Ce=Ot}if(Je.done)return l(z,Ce),ht&&Ts(z,Pe),Ee;if(Ce===null){for(;!Je.done;Pe++,Je=B.next())Je=re(z,Je.value,oe),Je!==null&&(b=g(Je,b,Pe),Re===null?Ee=Je:Re.sibling=Je,Re=Je);return ht&&Ts(z,Pe),Ee}for(Ce=c(z,Ce);!Je.done;Pe++,Je=B.next())Je=pe(Ce,z,Pe,Je.value,oe),Je!==null&&(r&&Je.alternate!==null&&Ce.delete(Je.key===null?Pe:Je.key),b=g(Je,b,Pe),Re===null?Ee=Je:Re.sibling=Je,Re=Je);return r&&Ce.forEach(function(NE){return s(z,NE)}),ht&&Ts(z,Pe),Ee}function vt(z,b,B,oe){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ne:e:{for(var Ee=B.key,Re=b;Re!==null;){if(Re.key===Ee){if(Ee=B.type,Ee===x){if(Re.tag===7){l(z,Re.sibling),b=f(Re,B.props.children),b.return=z,z=b;break e}}else if(Re.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===nt&&Cm(Ee)===Re.type){l(z,Re.sibling),b=f(Re,B.props),b.ref=ba(z,Re,B),b.return=z,z=b;break e}l(z,Re);break}else s(z,Re);Re=Re.sibling}B.type===x?(b=xs(B.props.children,z.mode,oe,B.key),b.return=z,z=b):(oe=Gu(B.type,B.key,B.props,null,z.mode,oe),oe.ref=ba(z,b,B),oe.return=z,z=oe)}return _(z);case fe:e:{for(Re=B.key;b!==null;){if(b.key===Re)if(b.tag===4&&b.stateNode.containerInfo===B.containerInfo&&b.stateNode.implementation===B.implementation){l(z,b.sibling),b=f(b,B.children||[]),b.return=z,z=b;break e}else{l(z,b);break}else s(z,b);b=b.sibling}b=Ud(B,z.mode,oe),b.return=z,z=b}return _(z);case nt:return Re=B._init,vt(z,b,Re(B._payload),oe)}if(K(B))return ve(z,b,B,oe);if(Te(B))return we(z,b,B,oe);Su(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,b!==null&&b.tag===6?(l(z,b.sibling),b=f(b,B),b.return=z,z=b):(l(z,b),b=Fd(B,z.mode,oe),b.return=z,z=b),_(z)):l(z,b)}return vt}var So=km(!0),Pm=km(!1),Au=Ei(null),Ru=null,Ao=null,Gh=null;function Qh(){Gh=Ao=Ru=null}function Yh(r){var s=Au.current;at(Au),r._currentValue=s}function Xh(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Ro(r,s){Ru=r,Gh=Ao=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(hn=!0),r.firstContext=null)}function On(r){var s=r._currentValue;if(Gh!==r)if(r={context:r,memoizedValue:s,next:null},Ao===null){if(Ru===null)throw Error(t(308));Ao=r,Ru.dependencies={lanes:0,firstContext:r}}else Ao=Ao.next=r;return s}var Is=null;function Jh(r){Is===null?Is=[r]:Is.push(r)}function xm(r,s,l,c){var f=s.interleaved;return f===null?(l.next=l,Jh(s)):(l.next=f.next,f.next=l),s.interleaved=l,$r(r,c)}function $r(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Si=!1;function Zh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ai(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Xe&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,$r(r,l)}return f=c.interleaved,f===null?(s.next=s,Jh(c)):(s.next=f.next,f.next=s),c.interleaved=s,$r(r,l)}function Cu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,pi(r,l)}}function Dm(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function ku(r,s,l,c){var f=r.updateQueue;Si=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,q=D.next;D.next=null,_===null?g=q:_.next=q,_=D;var te=r.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==_&&(R===null?te.firstBaseUpdate=q:R.next=q,te.lastBaseUpdate=D))}if(g!==null){var re=f.baseState;_=0,te=q=D=null,R=g;do{var ee=R.lane,pe=R.eventTime;if((c&ee)===ee){te!==null&&(te=te.next={eventTime:pe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ve=r,we=R;switch(ee=s,pe=l,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){re=ve.call(pe,re,ee);break e}re=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ee=typeof ve=="function"?ve.call(pe,re,ee):ve,ee==null)break e;re=he({},re,ee);break e;case 2:Si=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[R]:ee.push(R))}else pe={eventTime:pe,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(q=te=pe,D=re):te=te.next=pe,_|=ee;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(te===null&&(D=re),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=te,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Rs|=_,r.lanes=_,r.memoizedState=re}}function Vm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Oa={},wr=Ei(Oa),Ma=Ei(Oa),Fa=Ei(Oa);function Ss(r){if(r===Oa)throw Error(t(174));return r}function ed(r,s){switch(st(Fa,s),st(Ma,r),st(wr,Oa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:je(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=je(s,r)}at(wr),st(wr,s)}function Co(){at(wr),at(Ma),at(Fa)}function Lm(r){Ss(Fa.current);var s=Ss(wr.current),l=je(s,r.type);s!==l&&(st(Ma,r),st(wr,l))}function td(r){Ma.current===r&&(at(wr),at(Ma))}var ft=Ei(0);function Pu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nd=[];function rd(){for(var r=0;r<nd.length;r++)nd[r]._workInProgressVersionPrimary=null;nd.length=0}var xu=de.ReactCurrentDispatcher,id=de.ReactCurrentBatchConfig,As=0,pt=null,kt=null,Lt=null,Nu=!1,Ua=!1,ja=0,Zw=0;function Gt(){throw Error(t(321))}function sd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Zn(r[l],s[l]))return!1;return!0}function od(r,s,l,c,f,g){if(As=g,pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,xu.current=r===null||r.memoizedState===null?rE:iE,r=l(c,f),Ua){g=0;do{if(Ua=!1,ja=0,25<=g)throw Error(t(301));g+=1,Lt=kt=null,s.updateQueue=null,xu.current=sE,r=l(c,f)}while(Ua)}if(xu.current=Lu,s=kt!==null&&kt.next!==null,As=0,Lt=kt=pt=null,Nu=!1,s)throw Error(t(300));return r}function ad(){var r=ja!==0;return ja=0,r}function Er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?pt.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function Mn(){if(kt===null){var r=pt.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=Lt===null?pt.memoizedState:Lt.next;if(s!==null)Lt=s,kt=r;else{if(r===null)throw Error(t(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Lt===null?pt.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function za(r,s){return typeof s=="function"?s(r):s}function ld(r){var s=Mn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var c=kt,f=c.baseQueue,g=l.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}c.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,c=c.baseState;var R=_=null,D=null,q=g;do{var te=q.lane;if((As&te)===te)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:r(c,q.action);else{var re={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(R=D=re,_=c):D=D.next=re,pt.lanes|=te,Rs|=te}q=q.next}while(q!==null&&q!==g);D===null?_=c:D.next=R,Zn(c,s.memoizedState)||(hn=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=D,l.lastRenderedState=c}if(r=l.interleaved,r!==null){f=r;do g=f.lane,pt.lanes|=g,Rs|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ud(r){var s=Mn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var c=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do g=r(g,_.action),_=_.next;while(_!==f);Zn(g,s.memoizedState)||(hn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function bm(){}function Om(r,s){var l=pt,c=Mn(),f=s(),g=!Zn(c.memoizedState,f);if(g&&(c.memoizedState=f,hn=!0),c=c.queue,cd(Um.bind(null,l,c,r),[r]),c.getSnapshot!==s||g||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,Fm.bind(null,l,c,f,s),void 0,null),bt===null)throw Error(t(349));As&30||Mm(l,s,f)}return f}function Mm(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=pt.updateQueue,s===null?(s={lastEffect:null,stores:null},pt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Fm(r,s,l,c){s.value=l,s.getSnapshot=c,jm(s)&&zm(r)}function Um(r,s,l){return l(function(){jm(s)&&zm(r)})}function jm(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Zn(r,l)}catch{return!0}}function zm(r){var s=$r(r,1);s!==null&&ir(s,r,1,-1)}function Bm(r){var s=Er();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=nE.bind(null,pt,r),[s.memoizedState,r]}function Ba(r,s,l,c){return r={tag:r,create:s,destroy:l,deps:c,next:null},s=pt.updateQueue,s===null?(s={lastEffect:null,stores:null},pt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r)),r}function $m(){return Mn().memoizedState}function Du(r,s,l,c){var f=Er();pt.flags|=r,f.memoizedState=Ba(1|s,l,void 0,c===void 0?null:c)}function Vu(r,s,l,c){var f=Mn();c=c===void 0?null:c;var g=void 0;if(kt!==null){var _=kt.memoizedState;if(g=_.destroy,c!==null&&sd(c,_.deps)){f.memoizedState=Ba(s,l,g,c);return}}pt.flags|=r,f.memoizedState=Ba(1|s,l,g,c)}function qm(r,s){return Du(8390656,8,r,s)}function cd(r,s){return Vu(2048,8,r,s)}function Hm(r,s){return Vu(4,2,r,s)}function Wm(r,s){return Vu(4,4,r,s)}function Km(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Gm(r,s,l){return l=l!=null?l.concat([r]):null,Vu(4,4,Km.bind(null,s,r),l)}function hd(){}function Qm(r,s){var l=Mn();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&sd(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function Ym(r,s){var l=Mn();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&sd(s,c[1])?c[0]:(r=r(),l.memoizedState=[r,s],r)}function Xm(r,s,l){return As&21?(Zn(l,s)||(l=ps(),pt.lanes|=l,Rs|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,hn=!0),r.memoizedState=l)}function eE(r,s){var l=He;He=l!==0&&4>l?l:4,r(!0);var c=id.transition;id.transition={};try{r(!1),s()}finally{He=l,id.transition=c}}function Jm(){return Mn().memoizedState}function tE(r,s,l){var c=Pi(r);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Zm(r))eg(s,l);else if(l=xm(r,s,l,c),l!==null){var f=sn();ir(l,r,c,f),tg(l,s,c)}}function nE(r,s,l){var c=Pi(r),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zm(r))eg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,R=g(_,l);if(f.hasEagerState=!0,f.eagerState=R,Zn(R,_)){var D=s.interleaved;D===null?(f.next=f,Jh(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}l=xm(r,s,f,c),l!==null&&(f=sn(),ir(l,r,c,f),tg(l,s,c))}}function Zm(r){var s=r.alternate;return r===pt||s!==null&&s===pt}function eg(r,s){Ua=Nu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function tg(r,s,l){if(l&4194240){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,pi(r,l)}}var Lu={readContext:On,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},rE={readContext:On,useCallback:function(r,s){return Er().memoizedState=[r,s===void 0?null:s],r},useContext:On,useEffect:qm,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Du(4194308,4,Km.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Du(4194308,4,r,s)},useInsertionEffect:function(r,s){return Du(4,2,r,s)},useMemo:function(r,s){var l=Er();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var c=Er();return s=l!==void 0?l(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=tE.bind(null,pt,r),[c.memoizedState,r]},useRef:function(r){var s=Er();return r={current:r},s.memoizedState=r},useState:Bm,useDebugValue:hd,useDeferredValue:function(r){return Er().memoizedState=r},useTransition:function(){var r=Bm(!1),s=r[0];return r=eE.bind(null,r[1]),Er().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var c=pt,f=Er();if(ht){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),bt===null)throw Error(t(349));As&30||Mm(c,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,qm(Um.bind(null,c,g,r),[r]),c.flags|=2048,Ba(9,Fm.bind(null,c,g,l,s),void 0,null),l},useId:function(){var r=Er(),s=bt.identifierPrefix;if(ht){var l=Br,c=zr;l=(c&~(1<<32-tn(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=ja++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Zw++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},iE={readContext:On,useCallback:Qm,useContext:On,useEffect:cd,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:Wm,useMemo:Ym,useReducer:ld,useRef:$m,useState:function(){return ld(za)},useDebugValue:hd,useDeferredValue:function(r){var s=Mn();return Xm(s,kt.memoizedState,r)},useTransition:function(){var r=ld(za)[0],s=Mn().memoizedState;return[r,s]},useMutableSource:bm,useSyncExternalStore:Om,useId:Jm,unstable_isNewReconciler:!1},sE={readContext:On,useCallback:Qm,useContext:On,useEffect:cd,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:Wm,useMemo:Ym,useReducer:ud,useRef:$m,useState:function(){return ud(za)},useDebugValue:hd,useDeferredValue:function(r){var s=Mn();return kt===null?s.memoizedState=r:Xm(s,kt.memoizedState,r)},useTransition:function(){var r=ud(za)[0],s=Mn().memoizedState;return[r,s]},useMutableSource:bm,useSyncExternalStore:Om,useId:Jm,unstable_isNewReconciler:!1};function tr(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function dd(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:he({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var bu={isMounted:function(r){return(r=r._reactInternals)?Wn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var c=sn(),f=Pi(r),g=qr(c,f);g.payload=s,l!=null&&(g.callback=l),s=Ai(r,g,f),s!==null&&(ir(s,r,f,c),Cu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=sn(),f=Pi(r),g=qr(c,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Ai(r,g,f),s!==null&&(ir(s,r,f,c),Cu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=sn(),c=Pi(r),f=qr(l,c);f.tag=2,s!=null&&(f.callback=s),s=Ai(r,f,c),s!==null&&(ir(s,r,c,l),Cu(s,r,c))}};function ng(r,s,l,c,f,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!ka(l,c)||!ka(f,g):!0}function rg(r,s,l){var c=!1,f=Ti,g=s.contextType;return typeof g=="object"&&g!==null?g=On(g):(f=cn(s)?ws:Kt.current,c=s.contextTypes,g=(c=c!=null)?wo(r,f):Ti),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=bu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function ig(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&bu.enqueueReplaceState(s,s.state,null)}function fd(r,s,l,c){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Zh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=On(g):(g=cn(s)?ws:Kt.current,f.context=wo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dd(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&bu.enqueueReplaceState(f,f.state,null),ku(r,l,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ko(r,s){try{var l="",c=s;do l+=Me(c),c=c.return;while(c);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function pd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function md(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var oE=typeof WeakMap=="function"?WeakMap:Map;function sg(r,s,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var c=s.value;return l.callback=function(){Bu||(Bu=!0,xd=c),md(r,s)},l}function og(r,s,l){l=qr(-1,l),l.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;l.payload=function(){return c(f)},l.callback=function(){md(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){md(r,s),typeof c!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),l}function ag(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new oE;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(l)||(f.add(l),r=wE.bind(null,r,s,l),s.then(r,r))}function lg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ug(r,s,l,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=qr(-1,1),s.tag=2,Ai(l,s,1))),l.lanes|=1),r)}var aE=de.ReactCurrentOwner,hn=!1;function rn(r,s,l,c){s.child=r===null?Pm(s,null,l,c):So(s,r.child,l,c)}function cg(r,s,l,c,f){l=l.render;var g=s.ref;return Ro(s,f),c=od(r,s,l,c,g,f),l=ad(),r!==null&&!hn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Hr(r,s,f)):(ht&&l&&$h(s),s.flags|=1,rn(r,s,c,f),s.child)}function hg(r,s,l,c,f){if(r===null){var g=l.type;return typeof g=="function"&&!Md(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,dg(r,s,g,c,f)):(r=Gu(l.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:ka,l(_,c)&&r.ref===s.ref)return Hr(r,s,f)}return s.flags|=1,r=Ni(g,c),r.ref=s.ref,r.return=s,s.child=r}function dg(r,s,l,c,f){if(r!==null){var g=r.memoizedProps;if(ka(g,c)&&r.ref===s.ref)if(hn=!1,s.pendingProps=c=g,(r.lanes&f)!==0)r.flags&131072&&(hn=!0);else return s.lanes=r.lanes,Hr(r,s,f)}return gd(r,s,l,c,f)}function fg(r,s,l){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(xo,An),An|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,st(xo,An),An|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:l,st(xo,An),An|=c}else g!==null?(c=g.baseLanes|l,s.memoizedState=null):c=l,st(xo,An),An|=c;return rn(r,s,f,l),s.child}function pg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function gd(r,s,l,c,f){var g=cn(l)?ws:Kt.current;return g=wo(s,g),Ro(s,f),l=od(r,s,l,c,g,f),c=ad(),r!==null&&!hn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Hr(r,s,f)):(ht&&c&&$h(s),s.flags|=1,rn(r,s,l,f),s.child)}function mg(r,s,l,c,f){if(cn(l)){var g=!0;_u(s)}else g=!1;if(Ro(s,f),s.stateNode===null)Mu(r,s),rg(s,l,c),fd(s,l,c,f),c=!0;else if(r===null){var _=s.stateNode,R=s.memoizedProps;_.props=R;var D=_.context,q=l.contextType;typeof q=="object"&&q!==null?q=On(q):(q=cn(l)?ws:Kt.current,q=wo(s,q));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function";re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==c||D!==q)&&ig(s,_,c,q),Si=!1;var ee=s.memoizedState;_.state=ee,ku(s,c,_,f),D=s.memoizedState,R!==c||ee!==D||un.current||Si?(typeof te=="function"&&(dd(s,l,te,c),D=s.memoizedState),(R=Si||ng(s,l,R,c,ee,D,q))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=D),_.props=c,_.state=D,_.context=q,c=R):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,Nm(r,s),R=s.memoizedProps,q=s.type===s.elementType?R:tr(s.type,R),_.props=q,re=s.pendingProps,ee=_.context,D=l.contextType,typeof D=="object"&&D!==null?D=On(D):(D=cn(l)?ws:Kt.current,D=wo(s,D));var pe=l.getDerivedStateFromProps;(te=typeof pe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==re||ee!==D)&&ig(s,_,c,D),Si=!1,ee=s.memoizedState,_.state=ee,ku(s,c,_,f);var ve=s.memoizedState;R!==re||ee!==ve||un.current||Si?(typeof pe=="function"&&(dd(s,l,pe,c),ve=s.memoizedState),(q=Si||ng(s,l,q,c,ee,ve,D)||!1)?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ve,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ve,D)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ve),_.props=c,_.state=ve,_.context=D,c=q):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),c=!1)}return yd(r,s,l,c,g,f)}function yd(r,s,l,c,f,g){pg(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return f&&wm(s,l,!1),Hr(r,s,g);c=s.stateNode,aE.current=s;var R=_&&typeof l.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=So(s,r.child,null,g),s.child=So(s,null,R,g)):rn(r,s,R,g),s.memoizedState=c.state,f&&wm(s,l,!0),s.child}function gg(r){var s=r.stateNode;s.pendingContext?vm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&vm(r,s.context,!1),ed(r,s.containerInfo)}function yg(r,s,l,c,f){return Io(),Kh(f),s.flags|=256,rn(r,s,l,c),s.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function _d(r){return{baseLanes:r,cachePool:null,transitions:null}}function vg(r,s,l){var c=s.pendingProps,f=ft.current,g=!1,_=(s.flags&128)!==0,R;if((R=_)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),st(ft,f&1),r===null)return Wh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=c.children,r=c.fallback,g?(c=s.mode,g=s.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Qu(_,c,0,null),r=xs(r,c,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=_d(l),s.memoizedState=vd,r):wd(s,_));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return lE(r,s,_,c,R,f,l);if(g){g=c.fallback,_=s.mode,f=r.child,R=f.sibling;var D={mode:"hidden",children:c.children};return!(_&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=D,s.deletions=null):(c=Ni(f,D),c.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=Ni(R,g):(g=xs(g,_,l,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,_=r.child.memoizedState,_=_===null?_d(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~l,s.memoizedState=vd,c}return g=r.child,r=g.sibling,c=Ni(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=l),c.return=s,c.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=c,s.memoizedState=null,c}function wd(r,s){return s=Qu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ou(r,s,l,c){return c!==null&&Kh(c),So(s,r.child,null,l),r=wd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function lE(r,s,l,c,f,g,_){if(l)return s.flags&256?(s.flags&=-257,c=pd(Error(t(422))),Ou(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Qu({mode:"visible",children:c.children},f,0,null),g=xs(g,f,_,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&So(s,r.child,null,_),s.child.memoizedState=_d(_),s.memoizedState=vd,g);if(!(s.mode&1))return Ou(r,s,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(t(419)),c=pd(g,c,void 0),Ou(r,s,_,c)}if(R=(_&r.childLanes)!==0,hn||R){if(c=bt,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,$r(r,f),ir(c,r,f,-1))}return Od(),c=pd(Error(t(421))),Ou(r,s,_,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=EE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Sn=wi(f.nextSibling),In=s,ht=!0,er=null,r!==null&&(Ln[bn++]=zr,Ln[bn++]=Br,Ln[bn++]=Es,zr=r.id,Br=r.overflow,Es=s),s=wd(s,c.children),s.flags|=4096,s)}function _g(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Xh(r.return,s,l)}function Ed(r,s,l,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=f)}function wg(r,s,l){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(rn(r,s,c.children,l),c=ft.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_g(r,l,s);else if(r.tag===19)_g(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(st(ft,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Pu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Ed(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Pu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Ed(s,!0,l,null,g);break;case"together":Ed(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Hr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Rs|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ni(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ni(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function uE(r,s,l){switch(s.tag){case 3:gg(s),Io();break;case 5:Lm(s);break;case 1:cn(s.type)&&_u(s);break;case 4:ed(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;st(Au,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(st(ft,ft.current&1),s.flags|=128,null):l&s.child.childLanes?vg(r,s,l):(st(ft,ft.current&1),r=Hr(r,s,l),r!==null?r.sibling:null);st(ft,ft.current&1);break;case 19:if(c=(l&s.childLanes)!==0,r.flags&128){if(c)return wg(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(ft,ft.current),c)break;return null;case 22:case 23:return s.lanes=0,fg(r,s,l)}return Hr(r,s,l)}var Eg,Td,Tg,Ig;Eg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Td=function(){},Tg=function(r,s,l,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Ss(wr.current);var g=null;switch(l){case"input":f=hr(r,f),c=hr(r,c),g=[];break;case"select":f=he({},f,{value:void 0}),c=he({},c,{value:void 0}),g=[];break;case"textarea":f=le(r,f),c=le(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=gu)}ua(l,c);var _;l=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var R=f[q];for(_ in R)R.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in c){var D=c[q];if(R=f!=null?f[q]:void 0,c.hasOwnProperty(q)&&D!==R&&(D!=null||R!=null))if(q==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in D)D.hasOwnProperty(_)&&R[_]!==D[_]&&(l||(l={}),l[_]=D[_])}else l||(g||(g=[]),g.push(q,l)),l=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&ot("scroll",r),g||R===D||(g=[])):(g=g||[]).push(q,D))}l&&(g=g||[]).push("style",l);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},Ig=function(r,s,l,c){l!==c&&(s.flags|=4)};function $a(r,s){if(!ht)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Qt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function cE(r,s,l){var c=s.pendingProps;switch(qh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return cn(s.type)&&vu(),Qt(s),null;case 3:return c=s.stateNode,Co(),at(un),at(Kt),rd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Iu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,er!==null&&(Vd(er),er=null))),Td(r,s),Qt(s),null;case 5:td(s);var f=Ss(Fa.current);if(l=s.type,r!==null&&s.stateNode!=null)Tg(r,s,l,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Qt(s),null}if(r=Ss(wr.current),Iu(s)){c=s.stateNode,l=s.type;var g=s.memoizedProps;switch(c[_r]=s,c[Va]=g,r=(s.mode&1)!==0,l){case"dialog":ot("cancel",c),ot("close",c);break;case"iframe":case"object":case"embed":ot("load",c);break;case"video":case"audio":for(f=0;f<xa.length;f++)ot(xa[f],c);break;case"source":ot("error",c);break;case"img":case"image":case"link":ot("error",c),ot("load",c);break;case"details":ot("toggle",c);break;case"input":rs(c,g),ot("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},ot("invalid",c);break;case"textarea":ie(c,g),ot("invalid",c)}ua(l,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var R=g[_];_==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&mu(c.textContent,R,r),f=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&mu(c.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&ot("scroll",c)}switch(l){case"input":kn(c),N(c,g,!0);break;case"textarea":kn(c),De(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=gu)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ue(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(l,{is:c.is}):(r=_.createElement(l),l==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,l),r[_r]=s,r[Va]=c,Eg(r,s,!1,!1),s.stateNode=r;e:{switch(_=ca(l,c),l){case"dialog":ot("cancel",r),ot("close",r),f=c;break;case"iframe":case"object":case"embed":ot("load",r),f=c;break;case"video":case"audio":for(f=0;f<xa.length;f++)ot(xa[f],r);f=c;break;case"source":ot("error",r),f=c;break;case"img":case"image":case"link":ot("error",r),ot("load",r),f=c;break;case"details":ot("toggle",r),f=c;break;case"input":rs(r,c),f=hr(r,c),ot("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=he({},c,{value:void 0}),ot("invalid",r);break;case"textarea":ie(r,c),f=le(r,c),ot("invalid",r);break;default:f=c}ua(l,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?ss(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&is(r,D)):g==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&Pn(r,D):typeof D=="number"&&Pn(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&ot("scroll",r):D!=null&&se(r,g,D,_))}switch(l){case"input":kn(r),N(r,c,!1);break;case"textarea":kn(r),De(r);break;case"option":c.value!=null&&r.setAttribute("value",""+qe(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?ce(r,!!c.multiple,g,!1):c.defaultValue!=null&&ce(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=gu)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Qt(s),null;case 6:if(r&&s.stateNode!=null)Ig(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ss(Fa.current),Ss(wr.current),Iu(s)){if(c=s.stateNode,l=s.memoizedProps,c[_r]=s,(g=c.nodeValue!==l)&&(r=In,r!==null))switch(r.tag){case 3:mu(c.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&mu(c.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[_r]=s,s.stateNode=c}return Qt(s),null;case 13:if(at(ft),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ht&&Sn!==null&&s.mode&1&&!(s.flags&128))Rm(),Io(),s.flags|=98560,g=!1;else if(g=Iu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[_r]=s}else Io(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Qt(s),g=!1}else er!==null&&(Vd(er),er=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||ft.current&1?Pt===0&&(Pt=3):Od())),s.updateQueue!==null&&(s.flags|=4),Qt(s),null);case 4:return Co(),Td(r,s),r===null&&Na(s.stateNode.containerInfo),Qt(s),null;case 10:return Yh(s.type._context),Qt(s),null;case 17:return cn(s.type)&&vu(),Qt(s),null;case 19:if(at(ft),g=s.memoizedState,g===null)return Qt(s),null;if(c=(s.flags&128)!==0,_=g.rendering,_===null)if(c)$a(g,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(_=Pu(r),_!==null){for(s.flags|=128,$a(g,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=l,l=s.child;l!==null;)g=l,r=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return st(ft,ft.current&1|2),s.child}r=r.sibling}g.tail!==null&&it()>No&&(s.flags|=128,c=!0,$a(g,!1),s.lanes=4194304)}else{if(!c)if(r=Pu(_),r!==null){if(s.flags|=128,c=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),$a(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!ht)return Qt(s),null}else 2*it()-g.renderingStartTime>No&&l!==1073741824&&(s.flags|=128,c=!0,$a(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(l=g.last,l!==null?l.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=it(),s.sibling=null,l=ft.current,st(ft,c?l&1|2:l&1),s):(Qt(s),null);case 22:case 23:return bd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?An&1073741824&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function hE(r,s){switch(qh(s),s.tag){case 1:return cn(s.type)&&vu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Co(),at(un),at(Kt),rd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return td(s),null;case 13:if(at(ft),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Io()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return at(ft),null;case 4:return Co(),null;case 10:return Yh(s.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var Fu=!1,Yt=!1,dE=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Po(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){gt(r,s,c)}else l.current=null}function Id(r,s,l){try{l()}catch(c){gt(r,s,c)}}var Sg=!1;function fE(r,s){if(bh=yi,r=nm(),Ch(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,R=-1,D=-1,q=0,te=0,re=r,ee=null;t:for(;;){for(var pe;re!==l||f!==0&&re.nodeType!==3||(R=_+f),re!==g||c!==0&&re.nodeType!==3||(D=_+c),re.nodeType===3&&(_+=re.nodeValue.length),(pe=re.firstChild)!==null;)ee=re,re=pe;for(;;){if(re===r)break t;if(ee===l&&++q===f&&(R=_),ee===g&&++te===c&&(D=_),(pe=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=pe}l=R===-1||D===-1?null:{start:R,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Oh={focusedElem:r,selectionRange:l},yi=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,vt=ve.memoizedState,z=s.stateNode,b=z.getSnapshotBeforeUpdate(s.elementType===s.type?we:tr(s.type,we),vt);z.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){gt(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return ve=Sg,Sg=!1,ve}function qa(r,s,l){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Id(s,l,g)}f=f.next}while(f!==c)}}function Uu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var c=l.create;l.destroy=c()}l=l.next}while(l!==s)}}function Sd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Ag(r){var s=r.alternate;s!==null&&(r.alternate=null,Ag(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[_r],delete s[Va],delete s[jh],delete s[Qw],delete s[Yw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Rg(r){return r.tag===5||r.tag===3||r.tag===4}function Cg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Rg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ad(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gu));else if(c!==4&&(r=r.child,r!==null))for(Ad(r,s,l),r=r.sibling;r!==null;)Ad(r,s,l),r=r.sibling}function Rd(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Rd(r,s,l),r=r.sibling;r!==null;)Rd(r,s,l),r=r.sibling}var Bt=null,nr=!1;function Ri(r,s,l){for(l=l.child;l!==null;)kg(r,s,l),l=l.sibling}function kg(r,s,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(ds,l)}catch{}switch(l.tag){case 5:Yt||Po(l,s);case 6:var c=Bt,f=nr;Bt=null,Ri(r,s,l),Bt=c,nr=f,Bt!==null&&(nr?(r=Bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Bt.removeChild(l.stateNode));break;case 18:Bt!==null&&(nr?(r=Bt,l=l.stateNode,r.nodeType===8?Uh(r.parentNode,l):r.nodeType===1&&Uh(r,l),Xn(r)):Uh(Bt,l.stateNode));break;case 4:c=Bt,f=nr,Bt=l.stateNode.containerInfo,nr=!0,Ri(r,s,l),Bt=c,nr=f;break;case 0:case 11:case 14:case 15:if(!Yt&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&Id(l,s,_),f=f.next}while(f!==c)}Ri(r,s,l);break;case 1:if(!Yt&&(Po(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(R){gt(l,s,R)}Ri(r,s,l);break;case 21:Ri(r,s,l);break;case 22:l.mode&1?(Yt=(c=Yt)||l.memoizedState!==null,Ri(r,s,l),Yt=c):Ri(r,s,l);break;default:Ri(r,s,l)}}function Pg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new dE),s.forEach(function(c){var f=TE.bind(null,r,c);l.has(c)||(l.add(c),c.then(f,f))})}}function rr(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var g=r,_=s,R=_;e:for(;R!==null;){switch(R.tag){case 5:Bt=R.stateNode,nr=!1;break e;case 3:Bt=R.stateNode.containerInfo,nr=!0;break e;case 4:Bt=R.stateNode.containerInfo,nr=!0;break e}R=R.return}if(Bt===null)throw Error(t(160));kg(g,_,f),Bt=null,nr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(q){gt(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)xg(s,r),s=s.sibling}function xg(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(rr(s,r),Tr(r),c&4){try{qa(3,r,r.return),Uu(3,r)}catch(we){gt(r,r.return,we)}try{qa(5,r,r.return)}catch(we){gt(r,r.return,we)}}break;case 1:rr(s,r),Tr(r),c&512&&l!==null&&Po(l,l.return);break;case 5:if(rr(s,r),Tr(r),c&512&&l!==null&&Po(l,l.return),r.flags&32){var f=r.stateNode;try{Pn(f,"")}catch(we){gt(r,r.return,we)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,_=l!==null?l.memoizedProps:g,R=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&$s(f,g),ca(R,_);var q=ca(R,g);for(_=0;_<D.length;_+=2){var te=D[_],re=D[_+1];te==="style"?ss(f,re):te==="dangerouslySetInnerHTML"?is(f,re):te==="children"?Pn(f,re):se(f,te,re,q)}switch(R){case"input":qs(f,g);break;case"textarea":Se(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?ce(f,!!g.multiple,pe,!1):ee!==!!g.multiple&&(g.defaultValue!=null?ce(f,!!g.multiple,g.defaultValue,!0):ce(f,!!g.multiple,g.multiple?[]:"",!1))}f[Va]=g}catch(we){gt(r,r.return,we)}}break;case 6:if(rr(s,r),Tr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(we){gt(r,r.return,we)}}break;case 3:if(rr(s,r),Tr(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Xn(s.containerInfo)}catch(we){gt(r,r.return,we)}break;case 4:rr(s,r),Tr(r);break;case 13:rr(s,r),Tr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Pd=it())),c&4&&Pg(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Yt=(q=Yt)||te,rr(s,r),Yt=q):rr(s,r),Tr(r),c&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!te&&r.mode&1)for(ye=r,te=r.child;te!==null;){for(re=ye=te;ye!==null;){switch(ee=ye,pe=ee.child,ee.tag){case 0:case 11:case 14:case 15:qa(4,ee,ee.return);break;case 1:Po(ee,ee.return);var ve=ee.stateNode;if(typeof ve.componentWillUnmount=="function"){c=ee,l=ee.return;try{s=c,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(we){gt(c,l,we)}}break;case 5:Po(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Vg(re);continue}}pe!==null?(pe.return=ee,ye=pe):Vg(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{f=re.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=re.stateNode,D=re.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=li("display",_))}catch(we){gt(r,r.return,we)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=q?"":re.memoizedProps}catch(we){gt(r,r.return,we)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:rr(s,r),Tr(r),c&4&&Pg(r);break;case 21:break;default:rr(s,r),Tr(r)}}function Tr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Rg(l)){var c=l;break e}l=l.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Pn(f,""),c.flags&=-33);var g=Cg(r);Rd(r,g,f);break;case 3:case 4:var _=c.stateNode.containerInfo,R=Cg(r);Ad(r,R,_);break;default:throw Error(t(161))}}catch(D){gt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function pE(r,s,l){ye=r,Ng(r)}function Ng(r,s,l){for(var c=(r.mode&1)!==0;ye!==null;){var f=ye,g=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Fu;if(!_){var R=f.alternate,D=R!==null&&R.memoizedState!==null||Yt;R=Fu;var q=Yt;if(Fu=_,(Yt=D)&&!q)for(ye=f;ye!==null;)_=ye,D=_.child,_.tag===22&&_.memoizedState!==null?Lg(f):D!==null?(D.return=_,ye=D):Lg(f);for(;g!==null;)ye=g,Ng(g),g=g.sibling;ye=f,Fu=R,Yt=q}Dg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ye=g):Dg(r)}}function Dg(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Yt||Uu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Yt)if(l===null)c.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:tr(s.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Vm(s,g,c);break;case 3:var _=s.updateQueue;if(_!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Vm(s,_,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Xn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||s.flags&512&&Sd(s)}catch(ee){gt(s,s.return,ee)}}if(s===r){ye=null;break}if(l=s.sibling,l!==null){l.return=s.return,ye=l;break}ye=s.return}}function Vg(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ye=l;break}ye=s.return}}function Lg(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Uu(4,s)}catch(D){gt(s,l,D)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(D){gt(s,f,D)}}var g=s.return;try{Sd(s)}catch(D){gt(s,g,D)}break;case 5:var _=s.return;try{Sd(s)}catch(D){gt(s,_,D)}}}catch(D){gt(s,s.return,D)}if(s===r){ye=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ye=R;break}ye=s.return}}var mE=Math.ceil,ju=de.ReactCurrentDispatcher,Cd=de.ReactCurrentOwner,Fn=de.ReactCurrentBatchConfig,Xe=0,bt=null,St=null,$t=0,An=0,xo=Ei(0),Pt=0,Ha=null,Rs=0,zu=0,kd=0,Wa=null,dn=null,Pd=0,No=1/0,Wr=null,Bu=!1,xd=null,Ci=null,$u=!1,ki=null,qu=0,Ka=0,Nd=null,Hu=-1,Wu=0;function sn(){return Xe&6?it():Hu!==-1?Hu:Hu=it()}function Pi(r){return r.mode&1?Xe&2&&$t!==0?$t&-$t:Jw.transition!==null?(Wu===0&&(Wu=ps()),Wu):(r=He,r!==0||(r=window.event,r=r===void 0?16:Ea(r.type)),r):1}function ir(r,s,l,c){if(50<Ka)throw Ka=0,Nd=null,Error(t(185));fi(r,l,c),(!(Xe&2)||r!==bt)&&(r===bt&&(!(Xe&2)&&(zu|=l),Pt===4&&xi(r,$t)),fn(r,c),l===1&&Xe===0&&!(s.mode&1)&&(No=it()+500,wu&&Ii()))}function fn(r,s){var l=r.callbackNode;Lr(r,s);var c=fs(r,r===bt?$t:0);if(c===0)l!==null&&ga(l),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(l!=null&&ga(l),s===1)r.tag===0?Xw(Og.bind(null,r)):Em(Og.bind(null,r)),Kw(function(){!(Xe&6)&&Ii()}),l=null;else{switch(mi(c)){case 1:l=hs;break;case 4:l=ci;break;case 16:l=Nn;break;case 536870912:l=Wl;break;default:l=Nn}l=qg(l,bg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function bg(r,s){if(Hu=-1,Wu=0,Xe&6)throw Error(t(327));var l=r.callbackNode;if(Do()&&r.callbackNode!==l)return null;var c=fs(r,r===bt?$t:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Ku(r,c);else{s=c;var f=Xe;Xe|=2;var g=Fg();(bt!==r||$t!==s)&&(Wr=null,No=it()+500,ks(r,s));do try{vE();break}catch(R){Mg(r,R)}while(!0);Qh(),ju.current=g,Xe=f,St!==null?s=0:(bt=null,$t=0,s=Pt)}if(s!==0){if(s===2&&(f=wn(r),f!==0&&(c=f,s=Dd(r,f))),s===1)throw l=Ha,ks(r,0),xi(r,c),fn(r,it()),l;if(s===6)xi(r,c);else{if(f=r.current.alternate,!(c&30)&&!gE(f)&&(s=Ku(r,c),s===2&&(g=wn(r),g!==0&&(c=g,s=Dd(r,g))),s===1))throw l=Ha,ks(r,0),xi(r,c),fn(r,it()),l;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Ps(r,dn,Wr);break;case 3:if(xi(r,c),(c&130023424)===c&&(s=Pd+500-it(),10<s)){if(fs(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){sn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Fh(Ps.bind(null,r,dn,Wr),s);break}Ps(r,dn,Wr);break;case 4:if(xi(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var _=31-tn(c);g=1<<_,_=s[_],_>f&&(f=_),c&=~g}if(c=f,c=it()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*mE(c/1960))-c,10<c){r.timeoutHandle=Fh(Ps.bind(null,r,dn,Wr),c);break}Ps(r,dn,Wr);break;case 5:Ps(r,dn,Wr);break;default:throw Error(t(329))}}}return fn(r,it()),r.callbackNode===l?bg.bind(null,r):null}function Dd(r,s){var l=Wa;return r.current.memoizedState.isDehydrated&&(ks(r,s).flags|=256),r=Ku(r,s),r!==2&&(s=dn,dn=l,s!==null&&Vd(s)),r}function Vd(r){dn===null?dn=r:dn.push.apply(dn,r)}function gE(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],g=f.getSnapshot;f=f.value;try{if(!Zn(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s){for(s&=~kd,s&=~zu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-tn(s),c=1<<l;r[l]=-1,s&=~c}}function Og(r){if(Xe&6)throw Error(t(327));Do();var s=fs(r,0);if(!(s&1))return fn(r,it()),null;var l=Ku(r,s);if(r.tag!==0&&l===2){var c=wn(r);c!==0&&(s=c,l=Dd(r,c))}if(l===1)throw l=Ha,ks(r,0),xi(r,s),fn(r,it()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ps(r,dn,Wr),fn(r,it()),null}function Ld(r,s){var l=Xe;Xe|=1;try{return r(s)}finally{Xe=l,Xe===0&&(No=it()+500,wu&&Ii())}}function Cs(r){ki!==null&&ki.tag===0&&!(Xe&6)&&Do();var s=Xe;Xe|=1;var l=Fn.transition,c=He;try{if(Fn.transition=null,He=1,r)return r()}finally{He=c,Fn.transition=l,Xe=s,!(Xe&6)&&Ii()}}function bd(){An=xo.current,at(xo)}function ks(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Ww(l)),St!==null)for(l=St.return;l!==null;){var c=l;switch(qh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vu();break;case 3:Co(),at(un),at(Kt),rd();break;case 5:td(c);break;case 4:Co();break;case 13:at(ft);break;case 19:at(ft);break;case 10:Yh(c.type._context);break;case 22:case 23:bd()}l=l.return}if(bt=r,St=r=Ni(r.current,null),$t=An=s,Pt=0,Ha=null,kd=zu=Rs=0,dn=Wa=null,Is!==null){for(s=0;s<Is.length;s++)if(l=Is[s],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,g=l.pending;if(g!==null){var _=g.next;g.next=f,c.next=_}l.pending=c}Is=null}return r}function Mg(r,s){do{var l=St;try{if(Qh(),xu.current=Lu,Nu){for(var c=pt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Nu=!1}if(As=0,Lt=kt=pt=null,Ua=!1,ja=0,Cd.current=null,l===null||l.return===null){Pt=1,Ha=s,St=null;break}e:{var g=r,_=l.return,R=l,D=s;if(s=$t,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,te=R,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var pe=lg(_);if(pe!==null){pe.flags&=-257,ug(pe,_,R,g,s),pe.mode&1&&ag(g,q,s),s=pe,D=q;var ve=s.updateQueue;if(ve===null){var we=new Set;we.add(D),s.updateQueue=we}else ve.add(D);break e}else{if(!(s&1)){ag(g,q,s),Od();break e}D=Error(t(426))}}else if(ht&&R.mode&1){var vt=lg(_);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),ug(vt,_,R,g,s),Kh(ko(D,R));break e}}g=D=ko(D,R),Pt!==4&&(Pt=2),Wa===null?Wa=[g]:Wa.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var z=sg(g,D,s);Dm(g,z);break e;case 1:R=D;var b=g.type,B=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ci===null||!Ci.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var oe=og(g,R,s);Dm(g,oe);break e}}g=g.return}while(g!==null)}jg(l)}catch(Ee){s=Ee,St===l&&l!==null&&(St=l=l.return);continue}break}while(!0)}function Fg(){var r=ju.current;return ju.current=Lu,r===null?Lu:r}function Od(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),bt===null||!(Rs&268435455)&&!(zu&268435455)||xi(bt,$t)}function Ku(r,s){var l=Xe;Xe|=2;var c=Fg();(bt!==r||$t!==s)&&(Wr=null,ks(r,s));do try{yE();break}catch(f){Mg(r,f)}while(!0);if(Qh(),Xe=l,ju.current=c,St!==null)throw Error(t(261));return bt=null,$t=0,Pt}function yE(){for(;St!==null;)Ug(St)}function vE(){for(;St!==null&&!ql();)Ug(St)}function Ug(r){var s=$g(r.alternate,r,An);r.memoizedProps=r.pendingProps,s===null?jg(r):St=s,Cd.current=null}function jg(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=hE(l,s),l!==null){l.flags&=32767,St=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,St=null;return}}else if(l=cE(l,s,An),l!==null){St=l;return}if(s=s.sibling,s!==null){St=s;return}St=s=r}while(s!==null);Pt===0&&(Pt=5)}function Ps(r,s,l){var c=He,f=Fn.transition;try{Fn.transition=null,He=1,_E(r,s,l,c)}finally{Fn.transition=f,He=c}return null}function _E(r,s,l,c){do Do();while(ki!==null);if(Xe&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(rt(r,g),r===bt&&(St=bt=null,$t=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||$u||($u=!0,qg(Nn,function(){return Do(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Fn.transition,Fn.transition=null;var _=He;He=1;var R=Xe;Xe|=4,Cd.current=null,fE(r,l),xg(l,r),Uw(Oh),yi=!!bh,Oh=bh=null,r.current=l,pE(l),_h(),Xe=R,He=_,Fn.transition=g}else r.current=l;if($u&&($u=!1,ki=r,qu=f),g=r.pendingLanes,g===0&&(Ci=null),Kl(l.stateNode),fn(r,it()),s!==null)for(c=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(Bu)throw Bu=!1,r=xd,xd=null,r;return qu&1&&r.tag!==0&&Do(),g=r.pendingLanes,g&1?r===Nd?Ka++:(Ka=0,Nd=r):Ka=0,Ii(),null}function Do(){if(ki!==null){var r=mi(qu),s=Fn.transition,l=He;try{if(Fn.transition=null,He=16>r?16:r,ki===null)var c=!1;else{if(r=ki,ki=null,qu=0,Xe&6)throw Error(t(331));var f=Xe;for(Xe|=4,ye=r.current;ye!==null;){var g=ye,_=g.child;if(ye.flags&16){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var q=R[D];for(ye=q;ye!==null;){var te=ye;switch(te.tag){case 0:case 11:case 15:qa(8,te,g)}var re=te.child;if(re!==null)re.return=te,ye=re;else for(;ye!==null;){te=ye;var ee=te.sibling,pe=te.return;if(Ag(te),te===q){ye=null;break}if(ee!==null){ee.return=pe,ye=ee;break}ye=pe}}}var ve=g.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var vt=we.sibling;we.sibling=null,we=vt}while(we!==null)}}ye=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,ye=_;else e:for(;ye!==null;){if(g=ye,g.flags&2048)switch(g.tag){case 0:case 11:case 15:qa(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ye=z;break e}ye=g.return}}var b=r.current;for(ye=b;ye!==null;){_=ye;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,ye=B;else e:for(_=b;ye!==null;){if(R=ye,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Uu(9,R)}}catch(Ee){gt(R,R.return,Ee)}if(R===_){ye=null;break e}var oe=R.sibling;if(oe!==null){oe.return=R.return,ye=oe;break e}ye=R.return}}if(Xe=f,Ii(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(ds,r)}catch{}c=!0}return c}finally{He=l,Fn.transition=s}}return!1}function zg(r,s,l){s=ko(l,s),s=sg(r,s,1),r=Ai(r,s,1),s=sn(),r!==null&&(fi(r,1,s),fn(r,s))}function gt(r,s,l){if(r.tag===3)zg(r,r,l);else for(;s!==null;){if(s.tag===3){zg(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ci===null||!Ci.has(c))){r=ko(l,r),r=og(s,r,1),s=Ai(s,r,1),r=sn(),s!==null&&(fi(s,1,r),fn(s,r));break}}s=s.return}}function wE(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),s=sn(),r.pingedLanes|=r.suspendedLanes&l,bt===r&&($t&l)===l&&(Pt===4||Pt===3&&($t&130023424)===$t&&500>it()-Pd?ks(r,0):kd|=l),fn(r,s)}function Bg(r,s){s===0&&(r.mode&1?(s=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):s=1);var l=sn();r=$r(r,s),r!==null&&(fi(r,s,l),fn(r,l))}function EE(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Bg(r,l)}function TE(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Bg(r,l)}var $g;$g=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||un.current)hn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return hn=!1,uE(r,s,l);hn=!!(r.flags&131072)}else hn=!1,ht&&s.flags&1048576&&Tm(s,Tu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Mu(r,s),r=s.pendingProps;var f=wo(s,Kt.current);Ro(s,l),f=od(null,s,c,r,f,l);var g=ad();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,cn(c)?(g=!0,_u(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Zh(s),f.updater=bu,s.stateNode=f,f._reactInternals=s,fd(s,c,r,l),s=yd(null,s,c,!0,g,l)):(s.tag=0,ht&&g&&$h(s),rn(null,s,f,l),s=s.child),s;case 16:c=s.elementType;e:{switch(Mu(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=SE(c),r=tr(c,r),f){case 0:s=gd(null,s,c,r,l);break e;case 1:s=mg(null,s,c,r,l);break e;case 11:s=cg(null,s,c,r,l);break e;case 14:s=hg(null,s,c,tr(c.type,r),l);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:tr(c,f),gd(r,s,c,f,l);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:tr(c,f),mg(r,s,c,f,l);case 3:e:{if(gg(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,Nm(r,s),ku(s,c,null,l);var _=s.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ko(Error(t(423)),s),s=yg(r,s,c,l,f);break e}else if(c!==f){f=ko(Error(t(424)),s),s=yg(r,s,c,l,f);break e}else for(Sn=wi(s.stateNode.containerInfo.firstChild),In=s,ht=!0,er=null,l=Pm(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Io(),c===f){s=Hr(r,s,l);break e}rn(r,s,c,l)}s=s.child}return s;case 5:return Lm(s),r===null&&Wh(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,_=f.children,Mh(c,f)?_=null:g!==null&&Mh(c,g)&&(s.flags|=32),pg(r,s),rn(r,s,_,l),s.child;case 6:return r===null&&Wh(s),null;case 13:return vg(r,s,l);case 4:return ed(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=So(s,null,c,l):rn(r,s,c,l),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:tr(c,f),cg(r,s,c,f,l);case 7:return rn(r,s,s.pendingProps,l),s.child;case 8:return rn(r,s,s.pendingProps.children,l),s.child;case 12:return rn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,st(Au,c._currentValue),c._currentValue=_,g!==null)if(Zn(g.value,_)){if(g.children===f.children&&!un.current){s=Hr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){_=g.child;for(var D=R.firstContext;D!==null;){if(D.context===c){if(g.tag===1){D=qr(-1,l&-l),D.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?D.next=D:(D.next=te.next,te.next=D),q.pending=D}}g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Xh(g.return,l,s),R.lanes|=l;break}D=D.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),Xh(_,l,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}rn(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Ro(s,l),f=On(f),c=c(f),s.flags|=1,rn(r,s,c,l),s.child;case 14:return c=s.type,f=tr(c,s.pendingProps),f=tr(c.type,f),hg(r,s,c,f,l);case 15:return dg(r,s,s.type,s.pendingProps,l);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:tr(c,f),Mu(r,s),s.tag=1,cn(c)?(r=!0,_u(s)):r=!1,Ro(s,l),rg(s,c,f),fd(s,c,f,l),yd(null,s,c,!0,r,l);case 19:return wg(r,s,l);case 22:return fg(r,s,l)}throw Error(t(156,s.tag))};function qg(r,s){return Js(r,s)}function IE(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(r,s,l,c){return new IE(r,s,l,c)}function Md(r){return r=r.prototype,!(!r||!r.isReactComponent)}function SE(r){if(typeof r=="function")return Md(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===Ye)return 14}return 2}function Ni(r,s){var l=r.alternate;return l===null?(l=Un(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Gu(r,s,l,c,f,g){var _=2;if(c=r,typeof r=="function")Md(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case x:return xs(l.children,f,g,s);case S:_=8,f|=8;break;case C:return r=Un(12,l,s,f|2),r.elementType=C,r.lanes=g,r;case A:return r=Un(13,l,s,f),r.elementType=A,r.lanes=g,r;case be:return r=Un(19,l,s,f),r.elementType=be,r.lanes=g,r;case Oe:return Qu(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:_=10;break e;case M:_=9;break e;case V:_=11;break e;case Ye:_=14;break e;case nt:_=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Un(_,l,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function xs(r,s,l,c){return r=Un(7,r,c,s),r.lanes=l,r}function Qu(r,s,l,c){return r=Un(22,r,c,s),r.elementType=Oe,r.lanes=l,r.stateNode={isHidden:!1},r}function Fd(r,s,l){return r=Un(6,r,null,s),r.lanes=l,r}function Ud(r,s,l){return s=Un(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function AE(r,s,l,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function jd(r,s,l,c,f,g,_,R,D){return r=new AE(r,s,l,R,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Un(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(g),r}function RE(r,s,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:r,containerInfo:s,implementation:l}}function Hg(r){if(!r)return Ti;r=r._reactInternals;e:{if(Wn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(cn(l))return _m(r,l,s)}return s}function Wg(r,s,l,c,f,g,_,R,D){return r=jd(l,c,!0,r,f,g,_,R,D),r.context=Hg(null),l=r.current,c=sn(),f=Pi(l),g=qr(c,f),g.callback=s??null,Ai(l,g,f),r.current.lanes=f,fi(r,f,c),fn(r,c),r}function Yu(r,s,l,c){var f=s.current,g=sn(),_=Pi(f);return l=Hg(l),s.context===null?s.context=l:s.pendingContext=l,s=qr(g,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Ai(f,s,_),r!==null&&(ir(r,f,_,g),Cu(r,f,_)),_}function Xu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Kg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function zd(r,s){Kg(r,s),(r=r.alternate)&&Kg(r,s)}function CE(){return null}var Gg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bd(r){this._internalRoot=r}Ju.prototype.render=Bd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Yu(r,s,null,null)},Ju.prototype.unmount=Bd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Cs(function(){Yu(null,r,null,null)}),s[Ur]=null}};function Ju(r){this._internalRoot=r}Ju.prototype.unstable_scheduleHydration=function(r){if(r){var s=Jl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<mr.length&&s!==0&&s<mr[l].priority;l++);mr.splice(l,0,r),l===0&&tu(r)}};function $d(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Qg(){}function kE(r,s,l,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var q=Xu(_);g.call(q)}}var _=Wg(s,c,r,0,null,!1,!1,"",Qg);return r._reactRootContainer=_,r[Ur]=_.current,Na(r.nodeType===8?r.parentNode:r),Cs(),_}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var R=c;c=function(){var q=Xu(D);R.call(q)}}var D=jd(r,0,!1,null,null,!1,!1,"",Qg);return r._reactRootContainer=D,r[Ur]=D.current,Na(r.nodeType===8?r.parentNode:r),Cs(function(){Yu(s,D,l,c)}),D}function ec(r,s,l,c,f){var g=l._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var R=f;f=function(){var D=Xu(_);R.call(D)}}Yu(s,_,r,f)}else _=kE(l,s,r,f,c);return Xu(_)}Yl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=hi(s.pendingLanes);l!==0&&(pi(s,l|1),fn(s,it()),!(Xe&6)&&(No=it()+500,Ii()))}break;case 13:Cs(function(){var c=$r(r,1);if(c!==null){var f=sn();ir(c,r,1,f)}}),zd(r,1)}},to=function(r){if(r.tag===13){var s=$r(r,134217728);if(s!==null){var l=sn();ir(s,r,134217728,l)}zd(r,134217728)}},Xl=function(r){if(r.tag===13){var s=Pi(r),l=$r(r,s);if(l!==null){var c=sn();ir(l,r,s,c)}zd(r,s)}},Jl=function(){return He},Zl=function(r,s){var l=He;try{return He=r,s()}finally{He=l}},Ws=function(r,s,l){switch(s){case"input":if(qs(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var f=yu(c);if(!f)throw Error(t(90));ai(c),qs(c,f)}}}break;case"textarea":Se(r,l);break;case"select":s=l.value,s!=null&&ce(r,!!l.multiple,s,!1)}},as=Ld,da=Cs;var PE={usingClientEntryPoint:!1,Events:[La,vo,yu,fr,ha,Ld]},Ga={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xE={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ma(r),r===null?null:r.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||CE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{ds=tc.inject(xE),_n=tc}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE,pn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(s))throw Error(t(200));return RE(r,s,null,l)},pn.createRoot=function(r,s){if(!$d(r))throw Error(t(299));var l=!1,c="",f=Gg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=jd(r,1,!1,null,null,l,!1,c,f),r[Ur]=s.current,Na(r.nodeType===8?r.parentNode:r),new Bd(s)},pn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ma(s),r=r===null?null:r.stateNode,r},pn.flushSync=function(r){return Cs(r)},pn.hydrate=function(r,s,l){if(!Zu(s))throw Error(t(200));return ec(null,r,s,!0,l)},pn.hydrateRoot=function(r,s,l){if(!$d(r))throw Error(t(405));var c=l!=null&&l.hydratedSources||null,f=!1,g="",_=Gg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),s=Wg(s,null,r,1,l??null,f,!1,g,_),r[Ur]=s.current,Na(r),c)for(r=0;r<c.length;r++)l=c[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Ju(s)},pn.render=function(r,s,l){if(!Zu(s))throw Error(t(200));return ec(null,r,s,!1,l)},pn.unmountComponentAtNode=function(r){if(!Zu(r))throw Error(t(40));return r._reactRootContainer?(Cs(function(){ec(null,null,r,!1,function(){r._reactRootContainer=null,r[Ur]=null})}),!0):!1},pn.unstable_batchedUpdates=Ld,pn.unstable_renderSubtreeIntoContainer=function(r,s,l,c){if(!Zu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ec(r,s,l,!1,c)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var ry;function UE(){if(ry)return Wd.exports;ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wd.exports=FE(),Wd.exports}var iy;function jE(){if(iy)return nc;iy=1;var n=UE();return nc.createRoot=n.createRoot,nc.hydrateRoot=n.hydrateRoot,nc}var zE=jE(),sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},BE=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],h=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|h&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=a>>2,T=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,L=y&63;p||(L=64,h||(I=64)),i.push(t[w],t[T],t[I],t[L])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||T==null)throw new $E;const I=a<<2|d>>4;if(i.push(I),y!==64){const L=d<<4&240|y>>2;if(i.push(L),T!==64){const O=y<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $E extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qE=function(n){const e=zv(n);return Bv.encodeByteArray(e,!0)},Rc=function(n){return qE(n).replace(/\./g,"")},$v=function(n){try{return Bv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=()=>HE().__FIREBASE_DEFAULTS__,KE=()=>{if(typeof process>"u"||typeof sy>"u")return;const n=sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$v(n[1]);return e&&JSON.parse(e)},Gc=()=>{try{return WE()||KE()||GE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qv=n=>{var e,t;return(t=(e=Gc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QE=n=>{const e=qv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Hv=()=>{var n;return(n=Gc())===null||n===void 0?void 0:n.config},Wv=n=>{var e;return(e=Gc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rc(JSON.stringify(t)),Rc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function ZE(){var n;const e=(n=Gc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rT(){const n=en();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iT(){return!ZE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function oT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="FirebaseError";class si extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=aT,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],h=a?lT(a,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new si(o,d,i)}}function lT(n,e){return n.replace(uT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const uT=/\{\$([^}]+)}/g;function cT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],h=e[o];if(oy(a)&&oy(h)){if(!Cc(a,h))return!1}else if(a!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function oy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function el(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function tl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hT(n,e){const t=new dT(n,e);return t.subscribe.bind(t)}class dT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");fT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new YE;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gT(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const h=this.instances.get(o);return h&&e(h,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(n){return n===Ns?void 0:n}function gT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const vT={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},_T=Be.INFO,wT={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},ET=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=wT[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bf{constructor(e){this.name=e,this._logLevel=_T,this._logHandler=ET,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const TT=(n,e)=>e.some(t=>n instanceof t);let ay,ly;function IT(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ST(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,ff=new WeakMap,Gv=new WeakMap,Yd=new WeakMap,$f=new WeakMap;function AT(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",h)},a=()=>{t(zi(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Kv.set(t,n)}).catch(()=>{}),$f.set(e,n),e}function RT(n){if(ff.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",h),n.removeEventListener("abort",h)},a=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",h),n.addEventListener("abort",h)});ff.set(n,e)}let pf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ff.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Gv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CT(n){pf=n(pf)}function kT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Xd(this),e,...t);return Gv.set(i,e.sort?e.sort():[e]),zi(i)}:ST().includes(n)?function(...e){return n.apply(Xd(this),e),zi(Kv.get(this))}:function(...e){return zi(n.apply(Xd(this),e))}}function PT(n){return typeof n=="function"?kT(n):(n instanceof IDBTransaction&&RT(n),TT(n,IT())?new Proxy(n,pf):n)}function zi(n){if(n instanceof IDBRequest)return AT(n);if(Yd.has(n))return Yd.get(n);const e=PT(n);return e!==n&&(Yd.set(n,e),$f.set(e,n)),e}const Xd=n=>$f.get(n);function xT(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const h=indexedDB.open(n,e),d=zi(h);return i&&h.addEventListener("upgradeneeded",p=>{i(zi(h.result),p.oldVersion,p.newVersion,zi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const NT=["get","getKey","getAll","getAllKeys","count"],DT=["put","add","delete","clear"],Jd=new Map;function uy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=DT.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||NT.includes(t)))return;const a=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Jd.set(e,a),a}CT(n=>({...n,get:(e,t,i)=>uy(e,t)||n.get(e,t,i),has:(e,t)=>!!uy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LT(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function LT(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mf="@firebase/app",cy="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Bf("@firebase/app"),bT="@firebase/app-compat",OT="@firebase/analytics-compat",MT="@firebase/analytics",FT="@firebase/app-check-compat",UT="@firebase/app-check",jT="@firebase/auth",zT="@firebase/auth-compat",BT="@firebase/database",$T="@firebase/data-connect",qT="@firebase/database-compat",HT="@firebase/functions",WT="@firebase/functions-compat",KT="@firebase/installations",GT="@firebase/installations-compat",QT="@firebase/messaging",YT="@firebase/messaging-compat",XT="@firebase/performance",JT="@firebase/performance-compat",ZT="@firebase/remote-config",eI="@firebase/remote-config-compat",tI="@firebase/storage",nI="@firebase/storage-compat",rI="@firebase/firestore",iI="@firebase/vertexai",sI="@firebase/firestore-compat",oI="firebase",aI="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="[DEFAULT]",lI={[mf]:"fire-core",[bT]:"fire-core-compat",[MT]:"fire-analytics",[OT]:"fire-analytics-compat",[UT]:"fire-app-check",[FT]:"fire-app-check-compat",[jT]:"fire-auth",[zT]:"fire-auth-compat",[BT]:"fire-rtdb",[$T]:"fire-data-connect",[qT]:"fire-rtdb-compat",[HT]:"fire-fn",[WT]:"fire-fn-compat",[KT]:"fire-iid",[GT]:"fire-iid-compat",[QT]:"fire-fcm",[YT]:"fire-fcm-compat",[XT]:"fire-perf",[JT]:"fire-perf-compat",[ZT]:"fire-rc",[eI]:"fire-rc-compat",[tI]:"fire-gcs",[nI]:"fire-gcs-compat",[rI]:"fire-fst",[sI]:"fire-fst-compat",[iI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,uI=new Map,yf=new Map;function hy(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qo(n){const e=n.name;if(yf.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;yf.set(e,n);for(const t of kc.values())hy(t,n);for(const t of uI.values())hy(t,n);return!0}function qf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ar(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Il("app","Firebase",cI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=aI;function Qv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(t||(t=Hv()),!t)throw Bi.create("no-options");const a=kc.get(o);if(a){if(Cc(t,a.options)&&Cc(i,a.config))return a;throw Bi.create("duplicate-app",{appName:o})}const h=new yT(o);for(const p of yf.values())h.addComponent(p);const d=new hI(t,i,h);return kc.set(o,d),d}function Yv(n=gf){const e=kc.get(n);if(!e&&n===gf&&Hv())return Qv();if(!e)throw Bi.create("no-app",{appName:n});return e}function $i(n,e,t){var i;let o=(i=lI[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),h=e.match(/\s|\//);if(a||h){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(d.join(" "));return}qo(new Os(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebase-heartbeat-database",fI=1,fl="firebase-heartbeat-store";let Zd=null;function Xv(){return Zd||(Zd=xT(dI,fI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),Zd}async function pI(n){try{const t=(await Xv()).transaction(fl),i=await t.objectStore(fl).get(Jv(n));return await t.done,i}catch(e){if(e instanceof si)ei.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(t.message)}}}async function dy(n,e){try{const i=(await Xv()).transaction(fl,"readwrite");await i.objectStore(fl).put(e,Jv(n)),await i.done}catch(t){if(t instanceof si)ei.warn(t.message);else{const i=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ei.warn(i.message)}}}function Jv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1024,gI=30*24*60*60*1e3;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _I(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(h=>h.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=gI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fy(),{heartbeatsToSend:i,unsentEntries:o}=vI(this._heartbeatsCache.heartbeats),a=Rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ei.warn(t),""}}}function fy(){return new Date().toISOString().substring(0,10)}function vI(n,e=mI){const t=[];let i=n.slice();for(const o of n){const a=t.find(h=>h.agent===o.agent);if(a){if(a.dates.push(o.date),py(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),py(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _I{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?oT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function py(n){return Rc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n){qo(new Os("platform-logger",e=>new VT(e),"PRIVATE")),qo(new Os("heartbeat",e=>new yI(e),"PRIVATE")),$i(mf,cy,n),$i(mf,cy,"esm2017"),$i("fire-js","")}wI("");var EI="firebase",TI="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(EI,TI,"app");const II={apiKey:"AIzaSyBeo-MZU3rgM9rNKFMndec8zDssOk9ESmc",authDomain:"task-manager-38441.firebaseapp.com",projectId:"task-manager-38441",storageBucket:"task-manager-38441.firebasestorage.app",messagingSenderId:"39624560845",appId:"1:39624560845:web:8f5be6f6c59fed91d51984"},Zv=Qv(II);var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,e_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function C(){}C.prototype=S.prototype,x.D=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(k,M,V){for(var A=Array(arguments.length-2),be=2;be<arguments.length;be++)A[be-2]=arguments[be];return S.prototype[M].apply(k,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,C){C||(C=0);var k=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)k[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;16>M;++M)k[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],M=x.g[2];var V=x.g[3],A=S+(V^C&(M^V))+k[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=V+(M^S&(C^M))+k[1]+3905402710&4294967295,V=S+(A<<12&4294967295|A>>>20),A=M+(C^V&(S^C))+k[2]+606105819&4294967295,M=V+(A<<17&4294967295|A>>>15),A=C+(S^M&(V^S))+k[3]+3250441966&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(V^C&(M^V))+k[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=V+(M^S&(C^M))+k[5]+1200080426&4294967295,V=S+(A<<12&4294967295|A>>>20),A=M+(C^V&(S^C))+k[6]+2821735955&4294967295,M=V+(A<<17&4294967295|A>>>15),A=C+(S^M&(V^S))+k[7]+4249261313&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(V^C&(M^V))+k[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=V+(M^S&(C^M))+k[9]+2336552879&4294967295,V=S+(A<<12&4294967295|A>>>20),A=M+(C^V&(S^C))+k[10]+4294925233&4294967295,M=V+(A<<17&4294967295|A>>>15),A=C+(S^M&(V^S))+k[11]+2304563134&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(V^C&(M^V))+k[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=V+(M^S&(C^M))+k[13]+4254626195&4294967295,V=S+(A<<12&4294967295|A>>>20),A=M+(C^V&(S^C))+k[14]+2792965006&4294967295,M=V+(A<<17&4294967295|A>>>15),A=C+(S^M&(V^S))+k[15]+1236535329&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(M^V&(C^M))+k[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^M&(S^C))+k[6]+3225465664&4294967295,V=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(V^S))+k[11]+643717713&4294967295,M=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(M^V))+k[0]+3921069994&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(M^V&(C^M))+k[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^M&(S^C))+k[10]+38016083&4294967295,V=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(V^S))+k[15]+3634488961&4294967295,M=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(M^V))+k[4]+3889429448&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(M^V&(C^M))+k[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^M&(S^C))+k[14]+3275163606&4294967295,V=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(V^S))+k[3]+4107603335&4294967295,M=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(M^V))+k[8]+1163531501&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(M^V&(C^M))+k[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^M&(S^C))+k[2]+4243563512&4294967295,V=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(V^S))+k[7]+1735328473&4294967295,M=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(M^V))+k[12]+2368359562&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(C^M^V)+k[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^M)+k[8]+2272392833&4294967295,V=S+(A<<11&4294967295|A>>>21),A=M+(V^S^C)+k[11]+1839030562&4294967295,M=V+(A<<16&4294967295|A>>>16),A=C+(M^V^S)+k[14]+4259657740&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(C^M^V)+k[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^M)+k[4]+1272893353&4294967295,V=S+(A<<11&4294967295|A>>>21),A=M+(V^S^C)+k[7]+4139469664&4294967295,M=V+(A<<16&4294967295|A>>>16),A=C+(M^V^S)+k[10]+3200236656&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(C^M^V)+k[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^M)+k[0]+3936430074&4294967295,V=S+(A<<11&4294967295|A>>>21),A=M+(V^S^C)+k[3]+3572445317&4294967295,M=V+(A<<16&4294967295|A>>>16),A=C+(M^V^S)+k[6]+76029189&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(C^M^V)+k[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^M)+k[12]+3873151461&4294967295,V=S+(A<<11&4294967295|A>>>21),A=M+(V^S^C)+k[15]+530742520&4294967295,M=V+(A<<16&4294967295|A>>>16),A=C+(M^V^S)+k[2]+3299628645&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(M^(C|~V))+k[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~M))+k[7]+1126891415&4294967295,V=S+(A<<10&4294967295|A>>>22),A=M+(S^(V|~C))+k[14]+2878612391&4294967295,M=V+(A<<15&4294967295|A>>>17),A=C+(V^(M|~S))+k[5]+4237533241&4294967295,C=M+(A<<21&4294967295|A>>>11),A=S+(M^(C|~V))+k[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~M))+k[3]+2399980690&4294967295,V=S+(A<<10&4294967295|A>>>22),A=M+(S^(V|~C))+k[10]+4293915773&4294967295,M=V+(A<<15&4294967295|A>>>17),A=C+(V^(M|~S))+k[1]+2240044497&4294967295,C=M+(A<<21&4294967295|A>>>11),A=S+(M^(C|~V))+k[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~M))+k[15]+4264355552&4294967295,V=S+(A<<10&4294967295|A>>>22),A=M+(S^(V|~C))+k[6]+2734768916&4294967295,M=V+(A<<15&4294967295|A>>>17),A=C+(V^(M|~S))+k[13]+1309151649&4294967295,C=M+(A<<21&4294967295|A>>>11),A=S+(M^(C|~V))+k[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~M))+k[11]+3174756917&4294967295,V=S+(A<<10&4294967295|A>>>22),A=M+(S^(V|~C))+k[2]+718787259&4294967295,M=V+(A<<15&4294967295|A>>>17),A=C+(V^(M|~S))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+V&4294967295}i.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var C=S-this.blockSize,k=this.B,M=this.h,V=0;V<S;){if(M==0)for(;V<=C;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<S;)if(k[M++]=x.charCodeAt(V++),M==this.blockSize){o(this,k),M=0;break}}else for(;V<S;)if(k[M++]=x[V++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=S},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var C=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=C&255,C/=256;for(this.u(x),x=Array(16),S=C=0;4>S;++S)for(var k=0;32>k;k+=8)x[C++]=this.g[S]>>>k&255;return x};function a(x,S){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function h(x,S){this.h=S;for(var C=[],k=!0,M=x.length-1;0<=M;M--){var V=x[M]|0;k&&V==S||(C[M]=V,k=!1)}this.g=C}var d={};function p(x){return-128<=x&&128>x?a(x,function(S){return new h([S|0],0>S?-1:0)}):new h([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return F(y(-x));for(var S=[],C=1,k=0;x>=C;k++)S[k]=x/C|0,C*=4294967296;return new h(S,0)}function w(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return F(w(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),k=T,M=0;M<x.length;M+=8){var V=Math.min(8,x.length-M),A=parseInt(x.substring(M,M+V),S);8>V?(V=y(Math.pow(S,V)),k=k.j(V).add(y(A))):(k=k.j(C),k=k.add(y(A)))}return k}var T=p(0),I=p(1),L=p(16777216);n=h.prototype,n.m=function(){if(H(this))return-F(this).m();for(var x=0,S=1,C=0;C<this.g.length;C++){var k=this.i(C);x+=(0<=k?k:4294967296+k)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(H(this))return"-"+F(this).toString(x);for(var S=y(Math.pow(x,6)),C=this,k="";;){var M=de(C,S).g;C=Q(C,M.j(S));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=M,O(C))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function H(x){return x.h==-1}n.l=function(x){return x=Q(this,x),H(x)?-1:O(x)?0:1};function F(x){for(var S=x.g.length,C=[],k=0;k<S;k++)C[k]=~x.g[k];return new h(C,~x.h).add(I)}n.abs=function(){return H(this)?F(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],k=0,M=0;M<=S;M++){var V=k+(this.i(M)&65535)+(x.i(M)&65535),A=(V>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);k=A>>>16,V&=65535,A&=65535,C[M]=A<<16|V}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(x,S){return x.add(F(S))}n.j=function(x){if(O(this)||O(x))return T;if(H(this))return H(x)?F(this).j(F(x)):F(F(this).j(x));if(H(x))return F(this.j(F(x)));if(0>this.l(L)&&0>x.l(L))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,C=[],k=0;k<2*S;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<x.g.length;M++){var V=this.i(k)>>>16,A=this.i(k)&65535,be=x.i(M)>>>16,Ye=x.i(M)&65535;C[2*k+2*M]+=A*Ye,Y(C,2*k+2*M),C[2*k+2*M+1]+=V*Ye,Y(C,2*k+2*M+1),C[2*k+2*M+1]+=A*be,Y(C,2*k+2*M+1),C[2*k+2*M+2]+=V*be,Y(C,2*k+2*M+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new h(C,0)};function Y(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function se(x,S){this.g=x,this.h=S}function de(x,S){if(O(S))throw Error("division by zero");if(O(x))return new se(T,T);if(H(x))return S=de(F(x),S),new se(F(S.g),F(S.h));if(H(S))return S=de(x,F(S)),new se(F(S.g),S.h);if(30<x.g.length){if(H(x)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,k=S;0>=k.l(x);)C=ne(C),k=ne(k);var M=fe(C,1),V=fe(k,1);for(k=fe(k,2),C=fe(C,2);!O(k);){var A=V.add(k);0>=A.l(x)&&(M=M.add(C),V=A),k=fe(k,1),C=fe(C,1)}return S=Q(x,M.j(S)),new se(M,S)}for(M=T;0<=x.l(S);){for(C=Math.max(1,Math.floor(x.m()/S.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),V=y(C),A=V.j(S);H(A)||0<A.l(x);)C-=k,V=y(C),A=V.j(S);O(V)&&(V=I),M=M.add(V),x=Q(x,A)}return new se(M,x)}n.A=function(x){return de(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)&x.i(k);return new h(C,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)|x.i(k);return new h(C,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)^x.i(k);return new h(C,this.h^x.h)};function ne(x){for(var S=x.g.length+1,C=[],k=0;k<S;k++)C[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(C,x.h)}function fe(x,S){var C=S>>5;S%=32;for(var k=x.g.length-C,M=[],V=0;V<k;V++)M[V]=0<S?x.i(V+C)>>>S|x.i(V+C+1)<<32-S:x.i(V+C);return new h(M,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,e_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,bs=h}).apply(typeof my<"u"?my:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t_,nl,n_,cc,vf,r_,i_,s_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var j=u[E];if(!(j in v))break e;v=v[j]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,E=!1,j={next:function(){if(!E&&v<u.length){var W=v++;return{value:m(W,u[W]),done:!1}}return E=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,E),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,I.apply(null,arguments)}function L(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,j,W){for(var ue=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ue[tt-2]=arguments[tt];return m.prototype[j].apply(E,ue)}}function H(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function F(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const j=u.length||0,W=E.length||0;u.length=j+W;for(let ue=0;ue<W;ue++)u[j+ue]=E[ue]}else u.push(E)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function se(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function de(u){return de[" "](u),u}de[" "]=function(){};var ne=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function fe(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let v,E;for(let j=1;j<arguments.length;j++){E=arguments[j];for(v in E)u[v]=E[v];for(let W=0;W<C.length;W++)v=C[W],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function V(u){d.setTimeout(()=>{throw u},0)}function A(){var u=Te;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const E=Ye.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Ye=new Q(()=>new nt,u=>u.reset());class nt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,ae=!1,Te=new be,he=()=>{const u=d.Promise.resolve(void 0);Oe=()=>{u.then(U)}};var U=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){V(v)}var m=Ye;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Me(u,m){if(Ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ne){e:{try{de(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Me.aa.h.call(this)}}O(Me,Ie);var Fe={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),qe=0;function et(u,m,v,E,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=j,this.key=++qe,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kn(u){this.src=u,this.g={},this.h=0}kn.prototype.add=function(u,m,v,E,j){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ue=Bn(u,m,E,j);return-1<ue?(m=u[ue],v||(m.fa=!1)):(m=new et(m,this.src,W,!!E,j),m.fa=v,u.push(m)),m};function ai(u,m){var v=m.type;if(v in u.g){var E=u.g[v],j=Array.prototype.indexOf.call(E,m,void 0),W;(W=0<=j)&&Array.prototype.splice.call(E,j,1),W&&(Tt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Bn(u,m,v,E){for(var j=0;j<u.length;++j){var W=u[j];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==E)return j}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),rs={};function $s(u,m,v,E,j){if(Array.isArray(m)){for(var W=0;W<m.length;W++)$s(u,m[W],v,E,j);return null}return v=De(v),u&&u[Ke]?u.K(m,v,y(E)?!!E.capture:!!E,j):qs(u,m,v,!1,E,j)}function qs(u,m,v,E,j,W){if(!m)throw Error("Invalid event type");var ue=y(j)?!!j.capture:!!j,tt=ie(u);if(tt||(u[hr]=tt=new kn(u)),v=tt.add(m,v,E,ue,W),v.proxy)return v;if(E=N(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Le||(j=ue),j===void 0&&(j=!1),u.addEventListener(m.toString(),E,j);else if(u.attachEvent)u.attachEvent(ce(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function N(){function u(v){return m.call(u.src,u.listener,v)}const m=le;return u}function $(u,m,v,E,j){if(Array.isArray(m))for(var W=0;W<m.length;W++)$(u,m[W],v,E,j);else E=y(E)?!!E.capture:!!E,v=De(v),u&&u[Ke]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],v=Bn(W,v,E,j),-1<v&&(Tt(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=ie(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Bn(m,v,E,j)),(v=-1<u?m[u]:null)&&K(v))}function K(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ke])ai(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(ce(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=ie(m))?(ai(v,u),v.h==0&&(v.src=null,m[hr]=null)):Tt(u)}}}function ce(u){return u in rs?rs[u]:rs[u]="on"+u}function le(u,m){if(u.da)u=!0;else{m=new Me(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&K(u),u=v.call(E,m)}return u}function ie(u){return u=u[hr],u instanceof kn?u:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(u){return typeof u=="function"?u:(u[Se]||(u[Se]=function(m){return u.handleEvent(m)}),u[Se])}function Ue(){X.call(this),this.i=new kn(this),this.M=this,this.F=null}O(Ue,X),Ue.prototype[Ke]=!0,Ue.prototype.removeEventListener=function(u,m,v,E){$(this,u,m,v,E)};function je(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new Ie(m,u);else if(m instanceof Ie)m.target=m.target||u;else{var j=m;m=new Ie(E,u),k(m,j)}if(j=!0,v)for(var W=v.length-1;0<=W;W--){var ue=m.g=v[W];j=Ut(ue,E,!0,m)&&j}if(ue=m.g=u,j=Ut(ue,E,!0,m)&&j,j=Ut(ue,E,!1,m)&&j,v)for(W=0;W<v.length;W++)ue=m.g=v[W],j=Ut(ue,E,!1,m)&&j}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)Tt(v[E]);delete u.g[m],u.h--}}this.F=null},Ue.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},Ue.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Ut(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,W=0;W<m.length;++W){var ue=m[W];if(ue&&!ue.da&&ue.capture==v){var tt=ue.listener,Ct=ue.ha||ue.src;ue.fa&&ai(u.i,ue),j=tt.call(Ct,E)!==!1&&j}}return j&&!E.defaultPrevented}function is(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Pn(u){u.g=is(()=>{u.g=null,u.i&&(u.i=!1,Pn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $n extends X{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){X.call(this),this.h=u,this.g={}}O(Dr,X);var li=[];function ss(u){fe(u.g,function(m,v){this.g.hasOwnProperty(v)&&K(m)},u),u.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),ss(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ui=d.JSON.stringify,ua=d.JSON.parse,ca=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function os(){}os.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function Ws(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){Ie.call(this,"d")}O(dr,Ie);function Ks(){Ie.call(this,"c")}O(Ks,Ie);var fr={},ha=null;function as(){return ha=ha||new Ue}fr.La="serverreachability";function da(u){Ie.call(this,fr.La,u)}O(da,Ie);function Vr(u){const m=as();je(m,new da(m))}fr.STAT_EVENT="statevent";function fa(u,m){Ie.call(this,fr.STAT_EVENT,u),this.stat=m}O(fa,Ie);function yt(u){const m=as();je(m,new fa(m,u))}fr.Ma="timingevent";function Gs(u,m){Ie.call(this,fr.Ma,u),this.size=m}O(Gs,Ie);function qn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ls(){this.g=!0}ls.prototype.xa=function(){this.g=!1};function us(u,m,v,E,j,W){u.info(function(){if(u.g)if(W)for(var ue="",tt=W.split("&"),Ct=0;Ct<tt.length;Ct++){var Ge=tt[Ct].split("=");if(1<Ge.length){var Vt=Ge[0];Ge=Ge[1];var It=Vt.split("_");ue=2<=It.length&&It[1]=="type"?ue+(Vt+"="+Ge+"&"):ue+(Vt+"=redacted&")}}else ue=null;else ue=W;return"XMLHTTP REQ ("+E+") [attempt "+j+"]: "+m+`
`+v+`
`+ue})}function Qs(u,m,v,E,j,W,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+j+"]: "+m+`
`+v+`
`+W+" "+ue})}function Hn(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+vh(u,v)+(E?" "+E:"")})}function pa(u,m){u.info(function(){return"TIMEOUT: "+m})}ls.prototype.info=function(){};function vh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var j=E[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ue=1;ue<j.length;ue++)j[ue]=""}}}}return ui(v)}catch{return m}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function cs(){}O(cs,os),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},Wn=new cs;function Kn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $l}function $l(){this.i=null,this.g="",this.h=!1}var ma={},Xs={};function Js(u,m,v){u.L=1,u.v=pi(wn(m)),u.m=v,u.P=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),it(u),u.A=wn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),gi(v.i,"t",E),u.C=0,v=u.j.J,u.h=new $l,u.g=au(u.j,v?m:null,!u.m),0<u.O&&(u.M=new $n(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(li[0]=j.toString()),j=li);for(var W=0;W<j.length;W++){var ue=$s(v,j[W],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Vr(),us(u.i,u.u,u.A,u.l,u.R,u.m)}Kn.prototype.ca=function(u){u=u.target;const m=this.M;m&&ln(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const It=ln(this.g);var m=this.g.Ba();const Vn=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||It!=4||m==7||(m==8||0>=Vn?Vr(3):Vr(2)),hs(this);var v=this.g.Z();this.X=v;t:if(ql(this)){var E=Ta(this.g);u="";var j=E.length,W=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),ci(this);var ue="";break t}this.h.i=new d.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(W&&m==j-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,Qs(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ct=this.g;if((tt=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(tt)){var Ge=tt;break t}}Ge=null}if(v=Ge)Hn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,v);else{this.o=!1,this.s=3,yt(12),Nn(this),ci(this);break e}}if(this.P){v=!0;let Tn;for(;!this.J&&this.C<ue.length;)if(Tn=_h(this,ue),Tn==Xs){It==4&&(this.s=4,yt(14),v=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==ma){this.s=4,yt(15),Hn(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else Hn(this.i,this.l,Tn,null),ya(this,Tn);if(ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ue.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Hn(this.i,this.l,ue,"[Invalid Chunked Response]"),Nn(this),ci(this);else if(0<ue.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Sa(Vt),Vt.M=!0,yt(11))}}else Hn(this.i,this.l,ue,null),ya(this,ue);It==4&&Nn(this),this.o&&!this.J&&(It==4?uo(this.j,this):(this.o=!1,it(this)))}else io(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Nn(this),ci(this)}}}catch{}finally{}};function ql(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _h(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Xs:(v=Number(m.substring(v,E)),isNaN(v)?ma:(E+=1,E+v>m.length?Xs:(m=m.slice(E,E+v),u.C=E+v,m)))}Kn.prototype.cancel=function(){this.J=!0,Nn(this)};function it(u){u.S=Date.now()+u.I,Hl(u,u.I)}function Hl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qn(I(u.ba,u),m)}function hs(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pa(this.i,this.A),this.L!=2&&(Vr(),yt(17)),Nn(this),this.s=2,ci(this)):Hl(this,this.S-u)};function ci(u){u.j.G==0||u.J||uo(u.j,u)}function Nn(u){hs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ss(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ya(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||tn(v.h,u))){if(!u.K&&tn(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var j=E;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)lo(v),Jn(v);else break e;ao(v),yt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=qn(I(v.Za,v),6e3));if(1>=Kl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fr(v,11)}else if((u.K||v.g==u)&&lo(v),!Y(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Ge=j[m];if(v.T=Ge[0],Ge=Ge[1],v.G==2)if(Ge[0]=="c"){v.K=Ge[1],v.ia=Ge[2];const Vt=Ge[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const It=Ge[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const Vn=Ge[5];Vn!=null&&typeof Vn=="number"&&0<Vn&&(E=1.5*Vn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Tn=u.g;if(Tn){const vs=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var W=E.h;W.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(va(W,W.h),W.h=null))}if(E.D){const ho=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(E.ya=ho,rt(E.I,E.D,ho))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ue=u;if(E.qa=ou(E,E.J?E.ia:null,E.W),ue.K){Gl(E.h,ue);var tt=ue,Ct=E.L;Ct&&(tt.I=Ct),tt.B&&(hs(tt),it(tt)),E.g=ue}else ys(E);0<v.i.length&&yr(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Fr(v,7);else v.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Fr(v,7):zt(v):Ge[0]!="noop"&&v.l&&v.l.ta(Ge),v.v=0)}}Vr(4)}catch{}}var Wl=class{constructor(u,m){this.g=u,this.map=m}};function ds(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kl(u){return u.h?1:u.g?u.g.size:0}function tn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function va(u,m){u.g?u.g.add(m):u.h=m}function Gl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ds.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ql(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return H(u.i)}function Zs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function eo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function hi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=eo(u),E=Zs(u),j=E.length,W=0;W<j;W++)m.call(void 0,E[W],v&&v[W],u)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),j=null;if(0<=E){var W=u[v].substring(0,E);j=u[v].substring(E+1)}else W=u[v];m(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Lr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Lr){this.h=u.h,ps(this,u.j),this.o=u.o,this.g=u.g,di(this,u.s),this.l=u.l;var m=u.i,v=new pr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),fi(this,v),this.m=u.m}else u&&(m=String(u).match(fs))?(this.h=!1,ps(this,m[1]||"",!0),this.o=He(m[2]||""),this.g=He(m[3]||"",!0),di(this,m[4]),this.l=He(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=He(m[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Lr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(mi(m,to,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mi(m,to,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(mi(v,v.charAt(0)=="/"?Jl:Xl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",mi(v,_a)),u.join("")};function wn(u){return new Lr(u)}function ps(u,m,v){u.j=v?He(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function di(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,v){m instanceof pr?(u.i=m,mr(u.i,u.h)):(v||(m=mi(m,Zl)),u.i=new pr(m,u.h))}function rt(u,m,v){u.i.set(m,v)}function pi(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function He(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Yl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var to=/[#\/\?@]/g,Xl=/[#\?:]/g,Jl=/[#\?]/g,Zl=/[#\?@]/g,_a=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function jt(u){u.g||(u.g=new Map,u.h=0,u.i&&wh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=pr.prototype,n.add=function(u,m){jt(this),this.i=null,u=Dn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Gn(u,m){jt(u),m=Dn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qn(u,m){return jt(u),m=Dn(u,m),u.g.has(m)}n.forEach=function(u,m){jt(this),this.g.forEach(function(v,E){v.forEach(function(j){u.call(m,j,E,this)},this)},this)},n.na=function(){jt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const j=u[E];for(let W=0;W<j.length;W++)v.push(m[E])}return v},n.V=function(u){jt(this);let m=[];if(typeof u=="string")Qn(this,u)&&(m=m.concat(this.g.get(Dn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return jt(this),this.i=null,u=Dn(this,u),Qn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function gi(u,m,v){Gn(u,m),0<v.length&&(u.i=null,u.g.set(Dn(u,m),H(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const W=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var j=W;ue[E]!==""&&(j+="="+encodeURIComponent(String(ue[E]))),u.push(j)}}return this.i=u.join("&")};function Dn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function mr(u,m){m&&!u.j&&(jt(u),u.i=null,u.g.forEach(function(v,E){var j=E.toLowerCase();E!=j&&(Gn(this,E),gi(this,j,v))},u)),u.j=m}function Eh(u,m){const v=new ls;if(d.Image){const E=new Image;E.onload=L(an,v,"TestLoadImage: loaded",!0,m,E),E.onerror=L(an,v,"TestLoadImage: error",!1,m,E),E.onabort=L(an,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=L(an,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function eu(u,m){const v=new ls,E=new AbortController,j=setTimeout(()=>{E.abort(),an(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(W=>{clearTimeout(j),W.ok?an(v,"TestPingServer: ok",!0,m):an(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),an(v,"TestPingServer: error",!1,m)})}function an(u,m,v,E,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),E(v)}catch{}}function Th(){this.g=new ca}function tu(u,m,v){const E=v||"";try{hi(u,function(j,W){let ue=j;y(j)&&(ue=ui(j)),m.push(E+W+"="+encodeURIComponent(ue))})}catch(j){throw m.push(E+"type="+encodeURIComponent("_badmap")),j}}function br(u){this.l=u.Ub||null,this.j=u.eb||!1}O(br,os),br.prototype.g=function(){return new ms(this.l,this.j)},br.prototype.i=function(u){return function(){return u}}({});function ms(u,m){Ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ms,Ue),n=ms.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&nu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},n.Qa=function(u){this.g&&(this.response=u,Yn(this))},n.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Or(u){let m="";return fe(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function yi(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Or(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):rt(u,m,v))}function ct(u){Ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ct,Ue);var Ih=/^https?$/i,wa=["POST","PUT"];n=ct.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Hs(this.o):Hs(Wn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){gs(this,W);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var j in E)v.set(j,E[j]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const W of E.keys())v.set(W,E.get(W));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(wa,m,void 0))||E||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of v)this.g.setRequestHeader(W,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){gs(this,W)}};function gs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,no(u),En(u)}function no(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,je(this,"complete"),je(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},n.bb=function(){Ea(this)};function Ea(u){if(u.h&&typeof h<"u"&&(!u.v[1]||ln(u)!=4||u.Z()!=2)){if(u.u&&ln(u)==4)is(u.Ea,0,u);else if(je(u,"readystatechange"),ln(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ue===0){var j=String(u.D).match(fs)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),E=!Ih.test(j?j.toLowerCase():"")}v=E}if(v)je(u,"complete"),je(u,"success");else{u.m=6;try{var W=2<ln(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",no(u)}}finally{En(u)}}}}function En(u,m){if(u.g){ro(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||je(u,"ready");try{v.onreadystatechange=E}catch{}}}function ro(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ln(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ua(m)}};function Ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function io(u){const m={};u=(u.g&&2<=ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Y(u[E]))continue;var v=M(u[E]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[j]||[];m[j]=W,W.push(v)}x(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,u),this.cb=gr("retryDelaySeedMs",1e4,u),this.Wa=gr("forwardChannelMaxRetries",2,u),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ds(u&&u.concurrentRequestLimit),this.Da=new Th,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ia.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){yt(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=ou(this,null,this.W),yr(this)};function zt(u){if(so(u),u.G==3){var m=u.U++,v=wn(u.I);if(rt(v,"SID",u.K),rt(v,"RID",m),rt(v,"TYPE","terminate"),Mr(u,v),m=new Kn(u,u.j,m),m.L=2,m.v=pi(wn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),it(m)}su(u)}function Jn(u){u.g&&(Sa(u),u.g.cancel(),u.g=null)}function so(u){Jn(u),u.u&&(d.clearTimeout(u.u),u.u=null),lo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function yr(u){if(!_n(u.h)&&!u.s){u.s=!0;var m=u.Ga;Oe||he(),ae||(Oe(),ae=!0),Te.add(m,u),u.B=0}}function Sh(u,m){return Kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qn(I(u.Ga,u,m),iu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Kn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=S(W),k(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=vi(this,j,m),v=wn(this.I),rt(v,"RID",u),rt(v,"CVER",22),this.D&&rt(v,"X-HTTP-Session-Id",this.D),Mr(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(Or(W)))+"&"+m:this.m&&yi(v,this.m,W)),va(this.h,j),this.Ua&&rt(v,"TYPE","init"),this.P?(rt(v,"$req",m),rt(v,"SID","null"),j.T=!0,Js(j,v,null)):Js(j,v,m),this.G=2}}else this.G==3&&(u?oo(this,u):this.i.length==0||_n(this.h)||oo(this))};function oo(u,m){var v;m?v=m.l:v=u.U++;const E=wn(u.I);rt(E,"SID",u.K),rt(E,"RID",v),rt(E,"AID",u.T),Mr(u,E),u.m&&u.o&&yi(E,u.m,u.o),v=new Kn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=vi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,v),Js(v,E,m)}function Mr(u,m){u.H&&fe(u.H,function(v,E){rt(m,E,v)}),u.l&&hi({},function(v,E){rt(m,E,v)})}function vi(u,m,v){v=Math.min(u.i.length,v);var E=u.l?I(u.l.Na,u.l,u):null;e:{var j=u.i;let W=-1;for(;;){const ue=["count="+v];W==-1?0<v?(W=j[0].g,ue.push("ofs="+W)):W=0:ue.push("ofs="+W);let tt=!0;for(let Ct=0;Ct<v;Ct++){let Ge=j[Ct].g;const Vt=j[Ct].map;if(Ge-=W,0>Ge)W=Math.max(0,j[Ct].g-100),tt=!1;else try{tu(Vt,ue,"req"+Ge+"_")}catch{E&&E(Vt)}}if(tt){E=ue.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function ys(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Oe||he(),ae||(Oe(),ae=!0),Te.add(m,u),u.v=0}}function ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qn(I(u.Fa,u),iu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Jn(this),ru(this))};function Sa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function ru(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=wn(u.qa);rt(m,"RID","rpc"),rt(m,"SID",u.K),rt(m,"AID",u.T),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(m,"TO",u.ja),rt(m,"TYPE","xmlhttp"),Mr(u,m),u.m&&u.o&&yi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=pi(wn(m)),v.m=null,v.P=!0,ga(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Jn(this),ao(this),yt(19))};function lo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uo(u,m){var v=null;if(u.g==m){lo(u),Sa(u),u.g=null;var E=2}else if(tn(u.h,m))v=m.D,Gl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;E=as(),je(E,new Gs(E,v)),yr(u)}else ys(u);else if(j=m.s,j==3||j==0&&0<m.X||!(E==1&&Sh(u,m)||E==2&&ao(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Fr(u,5);break;case 4:Fr(u,10);break;case 3:Fr(u,6);break;default:Fr(u,2)}}}function iu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Fr(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),E=u.Xa;const j=!E;E=new Lr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ps(E,"https"),pi(E),j?Eh(E.toString(),v):eu(E.toString(),v)}else yt(2);u.G=0,u.l&&u.l.sa(m),su(u),so(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function su(u){if(u.G=0,u.ka=[],u.l){const m=Ql(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function ou(u,m,v){var E=v instanceof Lr?wn(v):new Lr(v);if(E.g!="")m&&(E.g=m+"."+E.g),di(E,E.s);else{var j=d.location;E=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var W=new Lr(null);E&&ps(W,E),m&&(W.g=m),j&&di(W,j),v&&(W.l=v),E=W}return v=u.D,m=u.ya,v&&m&&rt(E,v,m),rt(E,"VER",u.la),Mr(u,E),E}function au(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ct(new br({eb:v})):new ct(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aa(){}n=Aa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function co(){}co.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Ue.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new vr(this)}O(nn,Ue),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){zt(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ui(u),u=v);m.i.push(new Wl(m.Ya++,u)),m.G==3&&yr(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,nn.aa.N.call(this)};function lu(u){dr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(lu,dr);function uu(){Ks.call(this),this.status=1}O(uu,Ks);function vr(u){this.g=u}O(vr,Aa),vr.prototype.ua=function(){je(this.g,"a")},vr.prototype.ta=function(u){je(this.g,new lu(u))},vr.prototype.sa=function(u){je(this.g,new uu)},vr.prototype.ra=function(){je(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,s_=function(){return new co},i_=function(){return as()},r_=fr,vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,cc=Ys,Bl.COMPLETE="complete",n_=Bl,Ws.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,nl=Ws,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,t_=ct}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const gy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Bf("@firebase/firestore");function Lo(){return Ms.logLevel}function me(n,...e){if(Ms.logLevel<=Be.DEBUG){const t=e.map(Hf);Ms.debug(`Firestore (${Zo}): ${n}`,...t)}}function ti(n,...e){if(Ms.logLevel<=Be.ERROR){const t=e.map(Hf);Ms.error(`Firestore (${Zo}): ${n}`,...t)}}function Ho(n,...e){if(Ms.logLevel<=Be.WARN){const t=e.map(Hf);Ms.warn(`Firestore (${Zo}): ${n}`,...t)}}function Hf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+n;throw ti(e),new Error(e)}function Ze(n,e){n||xe()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class AI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class RI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new o_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Jt(e)}}class CI{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kI{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new CI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const h=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new PI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=NI(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function We(n,e){return n<e?-1:n>e?1:0}function Wo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Nt(0,0))}static max(){return new Ne(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(),i===void 0?i=e.length-t:i>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return pl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),h=t.get(o);if(a<h)return-1;if(a>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ut extends pl{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const DI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends pl{construct(e,t,i){return new Ht(e,t,i)}static isValidIdentifier(e){return DI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(a(),o++)}if(a(),h)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ut.fromString(e))}static fromName(e){return new Ae(ut.fromString(e).popFirst(5))}static empty(){return new Ae(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ut(e.slice()))}}function VI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new Hi(o,Ae.empty(),e)}function LI(n){return new Hi(n.readTime,n.key,-1)}class Hi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hi(Ne.min(),Ae.empty(),-1)}static max(){return new Hi(Ne.max(),Ae.empty(),-1)}}function bI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==OI)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let o=0,a=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++a,h&&a===o&&t()},p=>i(p))}),h=!0,a===o&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(o=>o?J.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new J((i,o)=>{const a=e.length,h=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(w=>{h[y]=w,++d,d===a&&i(h)},w=>o(w))}})}static doWhile(e,t){return new J((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function FI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qc.oe=-1;function Yc(n){return n==null}function Pc(n){return n===0&&1/n==-1/0}function UI(n){return typeof n=="number"&&Number.isInteger(n)&&!Pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yy(e)),e=zI(n.get(t),e);return yy(e)}function zI(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function yy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??qt.RED,this.left=o??qt.EMPTY,this.right=a??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new qt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(e){return new _y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class _y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Dt(Ht.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new u_("Invalid base64 string: "+a):a}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let h=0;h<o.length;++h)a+=String.fromCharCode(o[h]);return a}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const BI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=BI.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ki(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Xc(n){const e=n.mapValue.fields.__previous_value__;return Wf(e)?Xc(e):e}function ml(n){const e=Wi(n.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,i,o,a,h,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class gl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wf(n)?4:HI(n)?9007199254740991:qI(n)?10:11:xe()}function Nr(n,e){if(n===e)return!0;const t=Gi(n);if(t!==Gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const h=Wi(o.timestampValue),d=Wi(a.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ki(o.bytesValue).isEqual(Ki(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return wt(o.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return wt(o.integerValue)===wt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const h=wt(o.doubleValue),d=wt(a.doubleValue);return h===d?Pc(h)===Pc(d):isNaN(h)&&isNaN(d)}return!1}(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,a){const h=o.mapValue.fields||{},d=a.mapValue.fields||{};if(vy(h)!==vy(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Nr(h[p],d[p])))return!1;return!0}(n,e);default:return xe()}}function yl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function Ko(n,e){if(n===e)return 0;const t=Gi(n),i=Gi(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(a,h){const d=wt(a.integerValue||a.doubleValue),p=wt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return wy(n.timestampValue,e.timestampValue);case 4:return wy(ml(n),ml(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(a,h){const d=Ki(a),p=Ki(h);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,h){const d=a.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=We(d[y],p[y]);if(w!==0)return w}return We(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,h){const d=We(wt(a.latitude),wt(h.latitude));return d!==0?d:We(wt(a.longitude),wt(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ey(n.arrayValue,e.arrayValue);case 10:return function(a,h){var d,p,y,w;const T=a.fields||{},I=h.fields||{},L=(d=T.value)===null||d===void 0?void 0:d.arrayValue,O=(p=I.value)===null||p===void 0?void 0:p.arrayValue,H=We(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((w=O==null?void 0:O.values)===null||w===void 0?void 0:w.length)||0);return H!==0?H:Ey(L,O)}(n.mapValue,e.mapValue);case 11:return function(a,h){if(a===sc.mapValue&&h===sc.mapValue)return 0;if(a===sc.mapValue)return 1;if(h===sc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=h.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const I=We(p[T],w[T]);if(I!==0)return I;const L=Ko(d[p[T]],y[w[T]]);if(L!==0)return L}return We(p.length,w.length)}(n.mapValue,e.mapValue);default:throw xe()}}function wy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=Wi(n),i=Wi(e),o=We(t.seconds,i.seconds);return o!==0?o:We(t.nanos,i.nanos)}function Ey(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Ko(t[o],i[o]);if(a)return a}return We(t.length,i.length)}function Go(n){return _f(n)}function _f(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Wi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=_f(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const h of i)a?a=!1:o+=",",o+=`${h}:${_f(t.fields[h])}`;return o+"}"}(n.mapValue):xe()}function hc(n){switch(Gi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xc(n);return e?16+hc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ki(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+hc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Xi(i.fields,(a,h)=>{o+=a.length+hc(h)}),o}(n.mapValue);default:throw xe()}}function Ty(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wf(n){return!!n&&"integerValue"in n}function Kf(n){return!!n&&"arrayValue"in n}function Iy(n){return!!n&&"nullValue"in n}function Sy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dc(n){return!!n&&"mapValue"in n}function qI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ol(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=Ht.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=ol(h):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());dc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Xi(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new yn(ol(this.value))}}function c_(n){const e=[];return Xi(n.fields,(t,i)=>{const o=new Ht([t]);if(dc(i)){const a=c_(i.mapValue).fields;if(a.length===0)e.push(o);else for(const h of a)e.push(o.child(h))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,i,o,a,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Ne.min(),Ne.min(),Ne.min(),yn.empty(),0)}static newFoundDocument(e,t,i,o){return new Zt(e,1,t,Ne.min(),i,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Ne.min(),Ne.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Ne.min(),Ne.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.position=e,this.inclusive=t}}function Ay(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],h=n.position[o];if(a.field.isKeyField()?i=Ae.comparator(Ae.fromName(h.referenceValue),t.key):i=Ko(h,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ry(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function WI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{}class Rt extends h_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new GI(e,t,i):t==="array-contains"?new XI(e,i):t==="in"?new JI(e,i):t==="not-in"?new ZI(e,i):t==="array-contains-any"?new eS(e,i):new Rt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QI(e,i):new YI(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ko(t,this.value)):t!==null&&Gi(this.value)===Gi(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends h_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ar(e,t)}matches(e){return d_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d_(n){return n.op==="and"}function f_(n){return KI(n)&&d_(n)}function KI(n){for(const e of n.filters)if(e instanceof ar)return!1;return!0}function Ef(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(f_(n))return n.filters.map(e=>Ef(e)).join(",");{const e=n.filters.map(t=>Ef(t)).join(",");return`${n.op}(${e})`}}function p_(n,e){return n instanceof Rt?function(i,o){return o instanceof Rt&&i.op===o.op&&i.field.isEqual(o.field)&&Nr(i.value,o.value)}(n,e):n instanceof ar?function(i,o){return o instanceof ar&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,h,d)=>a&&p_(h,o.filters[d]),!0):!1}(n,e):void xe()}function m_(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`}(n):n instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(m_).join(" ,")+"}"}(n):"Filter"}class GI extends Rt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class QI extends Rt{constructor(e,t){super(e,"in",t),this.keys=g_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YI extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=g_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function g_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class XI extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kf(t)&&yl(t.arrayValue,this.value)}}class JI extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yl(this.value.arrayValue,t)}}class ZI extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yl(this.value.arrayValue,t)}}class eS extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t=null,i=[],o=[],a=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=h,this.endAt=d,this.ue=null}}function Cy(n,e=null,t=[],i=[],o=null,a=null,h=null){return new tS(n,e,t,i,o,a,h)}function Gf(n){const e=Ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ef(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Yc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Go(i)).join(",")),e.ue=t}return e.ue}function Qf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!p_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ry(n.startAt,e.startAt)&&Ry(n.endAt,e.endAt)}function Tf(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t=null,i=[],o=[],a=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=h,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nS(n,e,t,i,o,a,h,d){return new Al(n,e,t,i,o,a,h,d)}function Yf(n){return new Al(n)}function ky(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function y_(n){return n.collectionGroup!==null}function al(n){const e=Ve(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Dt(Ht.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Nc(a,i))}),t.has(Ht.keyField().canonicalString())||e.ce.push(new Nc(Ht.keyField(),i))}return e.ce}function Cr(n){const e=Ve(n);return e.le||(e.le=rS(e,al(n))),e.le}function rS(n,e){if(n.limitType==="F")return Cy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Nc(o.field,a)});const t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return Cy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function If(n,e){const t=n.filters.concat([e]);return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sf(n,e,t){return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jc(n,e){return Qf(Cr(n),Cr(e))&&n.limitType===e.limitType}function v_(n){return`${Gf(Cr(n))}|lt:${n.limitType}`}function bo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>m_(o)).join(", ")}]`),Yc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Go(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(Cr(n))}; limitType=${n.limitType})`}function Zc(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ae.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of al(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,d,p){const y=Ay(h,d,p);return h.inclusive?y<=0:y<0}(i.startAt,al(i),o)||i.endAt&&!function(h,d,p){const y=Ay(h,d,p);return h.inclusive?y>=0:y>0}(i.endAt,al(i),o))}(n,e)}function iS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function __(n){return(e,t)=>{let i=!1;for(const o of al(n)){const a=sS(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function sS(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,h,d){const p=h.data.field(a),y=d.data.field(a);return p!==null&&y!==null?Ko(p,y):xe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return l_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new mt(Ae.comparator);function ni(){return oS}const w_=new mt(Ae.comparator);function rl(...n){let e=w_;for(const t of n)e=e.insert(t.key,t);return e}function E_(n){let e=w_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ds(){return ll()}function T_(){return ll()}function ll(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}const aS=new mt(Ae.comparator),lS=new Dt(Ae.comparator);function $e(...n){let e=lS;for(const t of n)e=e.add(t);return e}const uS=new Dt(We);function cS(){return uS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function I_(n){return{integerValue:""+n}}function hS(n,e){return UI(e)?I_(e):Xf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function dS(n,e,t){return n instanceof Dc?function(o,a){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Wf(a)&&(a=Xc(a)),a&&(h.fields.__previous_value__=a),{mapValue:h}}(t,e):n instanceof vl?A_(n,e):n instanceof _l?R_(n,e):function(o,a){const h=S_(o,a),d=Py(h)+Py(o.Pe);return wf(h)&&wf(o.Pe)?I_(d):Xf(o.serializer,d)}(n,e)}function fS(n,e,t){return n instanceof vl?A_(n,e):n instanceof _l?R_(n,e):t}function S_(n,e){return n instanceof Vc?function(i){return wf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Dc extends eh{}class vl extends eh{constructor(e){super(),this.elements=e}}function A_(n,e){const t=C_(e);for(const i of n.elements)t.some(o=>Nr(o,i))||t.push(i);return{arrayValue:{values:t}}}class _l extends eh{constructor(e){super(),this.elements=e}}function R_(n,e){let t=C_(e);for(const i of n.elements)t=t.filter(o=>!Nr(o,i));return{arrayValue:{values:t}}}class Vc extends eh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Py(n){return wt(n.integerValue||n.doubleValue)}function C_(n){return Kf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof vl&&o instanceof vl||i instanceof _l&&o instanceof _l?Wo(i.elements,o.elements,Nr):i instanceof Vc&&o instanceof Vc?Nr(i.Pe,o.Pe):i instanceof Dc&&o instanceof Dc}(n.transform,e.transform)}class mS{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class th{}function k_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jf(n.key,or.none()):new Rl(n.key,n.data,or.none());{const t=n.data,i=yn.empty();let o=new Dt(Ht.comparator);for(let a of e.fields)if(!o.has(a)){let h=t.field(a);h===null&&a.length>1&&(a=a.popLast(),h=t.field(a)),h===null?i.delete(a):i.set(a,h),o=o.add(a)}return new Ji(n.key,i,new Cn(o.toArray()),or.none())}}function gS(n,e,t){n instanceof Rl?function(o,a,h){const d=o.value.clone(),p=Ny(o.fieldTransforms,a,h.transformResults);d.setAll(p),a.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ji?function(o,a,h){if(!fc(o.precondition,a))return void a.convertToUnknownDocument(h.version);const d=Ny(o.fieldTransforms,a,h.transformResults),p=a.data;p.setAll(P_(o)),p.setAll(d),a.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,h){a.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ul(n,e,t,i){return n instanceof Rl?function(a,h,d,p){if(!fc(a.precondition,h))return d;const y=a.value.clone(),w=Dy(a.fieldTransforms,p,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ji?function(a,h,d,p){if(!fc(a.precondition,h))return d;const y=Dy(a.fieldTransforms,p,h),w=h.data;return w.setAll(P_(a)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,h,d){return fc(a.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,e,t)}function yS(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=S_(i.transform,o||null);a!=null&&(t===null&&(t=yn.empty()),t.set(i.field,a))}return t||null}function xy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Wo(i,o,(a,h)=>pS(a,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Rl extends th{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends th{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function P_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ny(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],h=a.transform,d=e.data.field(a.field);i.set(a.field,fS(h,d,t[o]))}return i}function Dy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,h=t.data.field(o.field);i.set(o.field,dS(a,h,e))}return i}class Jf extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vS extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&gS(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=T_();return this.mutations.forEach(o=>{const a=e.get(o.key),h=a.overlayedDocument;let d=this.applyToLocalView(h,a.mutatedFields);d=t.has(o.key)?null:d;const p=k_(h,d);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(t,i)=>xy(t,i))&&Wo(this.baseMutations,e.baseMutations,(t,i)=>xy(t,i))}}class Zf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return aS}();const a=e.mutations;for(let h=0;h<a.length;h++)o=o.insert(a[h].key,i[h].version);return new Zf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Qe;function TS(n){switch(n){default:return xe();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function x_(n){if(n===void 0)return ti("GRPC error has no .code"),Z.UNKNOWN;switch(n){case At.OK:return Z.OK;case At.CANCELLED:return Z.CANCELLED;case At.UNKNOWN:return Z.UNKNOWN;case At.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case At.INTERNAL:return Z.INTERNAL;case At.UNAVAILABLE:return Z.UNAVAILABLE;case At.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case At.NOT_FOUND:return Z.NOT_FOUND;case At.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case At.ABORTED:return Z.ABORTED;case At.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case At.DATA_LOSS:return Z.DATA_LOSS;default:return xe()}}(Qe=At||(At={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new bs([4294967295,4294967295],0);function Vy(n){const e=IS().encode(n),t=new e_;return t.update(e),new Uint8Array(t.digest())}function Ly(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bs([t,i],0),new bs([o,a],0)]}class ep{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new il(`Invalid padding: ${t}`);if(i<0)throw new il(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new il(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=bs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(bs.fromNumber(i)));return o.compare(SS)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Vy(e),[i,o]=Ly(t);for(let a=0;a<this.hashCount;a++){const h=this.Ee(i,o,a);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),h=new ep(a,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=Vy(e),[i,o]=Ly(t);for(let a=0;a<this.hashCount;a++){const h=this.Ee(i,o,a);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new nh(Ne.min(),o,new mt(We),ni(),$e())}}class Cl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Cl(i,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class N_{constructor(e,t){this.targetId=e,this.me=t}}class D_{constructor(e,t,i=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class by{constructor(){this.fe=0,this.ge=Oy(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$e(),t=$e(),i=$e();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:xe()}}),new Cl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Oy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AS{constructor(e){this.Le=e,this.Be=new Map,this.ke=ni(),this.qe=oc(),this.Qe=oc(),this.Ke=new mt(We)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Tf(a))if(i===0){const h=new Ae(a.path);this.We(t,h,Zt.newNoDocument(h,Ne.min()))}else Ze(i===1);else{const h=this.Ze(t);if(h!==i){const d=this.Xe(e),p=d?this.et(d,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let h,d;try{h=Ki(i).toUint8Array()}catch(p){if(p instanceof u_)return Ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ep(h,o,a)}catch(p){return Ho(p instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,h)=>{const d=this.Ye(h);if(d){if(a.current&&Tf(d.target)){const p=new Ae(d.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,Zt.newNoDocument(p,e))}a.be&&(t.set(h,a.ve()),a.Ce())}});let i=$e();this.Qe.forEach((a,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,h)=>h.setReadTime(e));const o=new nh(e,t,this.Ke,this.ke,i);return this.ke=ni(),this.qe=oc(),this.Qe=oc(),this.Ke=new mt(We),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new by,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Dt(We),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt(We),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new by),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function oc(){return new mt(Ae.comparator)}function Oy(){return new mt(Ae.comparator)}const RS={asc:"ASCENDING",desc:"DESCENDING"},CS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kS={and:"AND",or:"OR"};class PS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Af(n,e){return n.useProto3Json||Yc(e)?e:{value:e}}function Lc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xS(n,e){return Lc(n,e.toTimestamp())}function kr(n){return Ze(!!n),Ne.fromTimestamp(function(t){const i=Wi(t);return new Nt(i.seconds,i.nanos)}(n))}function tp(n,e){return Rf(n,e).canonicalString()}function Rf(n,e){const t=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function L_(n){const e=ut.fromString(n);return Ze(U_(e)),e}function Cf(n,e){return tp(n.databaseId,e.path)}function ef(n,e){const t=L_(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(O_(t))}function b_(n,e){return tp(n.databaseId,e)}function NS(n){const e=L_(n);return e.length===4?ut.emptyPath():O_(e)}function kf(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function O_(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function My(n,e,t){return{name:Cf(n,e),fields:t.value.mapValue.fields}}function DS(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Ze(w===void 0||typeof w=="string"),Wt.fromBase64String(w||"")):(Ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Wt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const w=y.code===void 0?Z.UNKNOWN:x_(y.code);return new ge(w,y.message||"")}(h);t=new D_(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ef(n,i.document.name),a=kr(i.document.updateTime),h=i.document.createTime?kr(i.document.createTime):Ne.min(),d=new yn({mapValue:{fields:i.document.fields}}),p=Zt.newFoundDocument(o,a,h,d),y=i.targetIds||[],w=i.removedTargetIds||[];t=new pc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ef(n,i.document),a=i.readTime?kr(i.readTime):Ne.min(),h=Zt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new pc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ef(n,i.document),a=i.removedTargetIds||[];t=new pc([],a,o,null)}else{if(!("filter"in e))return xe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,h=new ES(o,a),d=i.targetId;t=new N_(d,h)}}return t}function VS(n,e){let t;if(e instanceof Rl)t={update:My(n,e.key,e.value)};else if(e instanceof Jf)t={delete:Cf(n,e.key)};else if(e instanceof Ji)t={update:My(n,e.key,e.data),updateMask:BS(e.fieldMask)};else{if(!(e instanceof vS))return xe();t={verify:Cf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,h){const d=h.transform;if(d instanceof Dc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _l)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vc)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw xe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:xS(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe()}(n,e.precondition)),t}function LS(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let h=o.updateTime?kr(o.updateTime):kr(a);return h.isEqual(Ne.min())&&(h=kr(a)),new mS(h,o.transformResults||[])}(t,e))):[]}function bS(n,e){return{documents:[b_(n,e.path)]}}function OS(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=b_(n,o);const a=function(y){if(y.length!==0)return F_(ar.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const h=function(y){if(y.length!==0)return y.map(w=>function(I){return{field:Oo(I.field),direction:US(I.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Af(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function MS(n){let e=NS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(T){const I=M_(T);return I instanceof ar&&f_(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(O){return new Nc(Mo(O.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,Yc(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,L=T.values||[];return new xc(L,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,L=T.values||[];return new xc(L,I)}(t.endAt)),nS(e,o,h,a,d,"F",p,y)}function FS(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Mo(t.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Mo(t.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Mo(t.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(Mo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(i=>M_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe()}function US(n){return RS[n]}function jS(n){return CS[n]}function zS(n){return kS[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return Ht.fromServerFormat(n.fieldPath)}function F_(n){return n instanceof Rt?function(t){if(t.op==="=="){if(Sy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(Iy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Sy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(Iy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:jS(t.op),value:t.value}}}(n):n instanceof ar?function(t){const i=t.getFilters().map(o=>F_(o));return i.length===1?i[0]:{compositeFilter:{op:zS(t.op),filters:i}}}(n):xe()}function BS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function U_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,i,o,a=Ne.min(),h=Ne.min(),d=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.ht=e}}function qS(n){const e=MS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.ln=new WS}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Hi.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class WS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Dt(ut.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Dt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Qo(0)}static Qn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy([n,e],[t,i]){const o=We(n,t);return o===0?We(e,i):o}class KS{constructor(e){this.Gn=e,this.buffer=new Dt(Uy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Uy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Yn(3e5)})}}class QS{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Qc.oe);const i=new KS(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Fy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,h,d,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Lo()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function YS(n,e){return new QS(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ul(i.mutation,o,Cn.empty(),Nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=$e()){const o=Ds();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let h=rl();return a.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,$e()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let a=ni();const h=ll(),d=function(){return ll()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ji)?a=a.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),ul(w.mutation,y,w.mutation.getFieldMask(),Nt.now())):h.set(y.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var T;return d.set(y,new JS(w,(T=h.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ll();let o=new mt((h,d)=>h-d),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||Cn.empty();w=d.applyToLocalView(y,w),i.set(p,w);const T=(o.get(d.batchId)||$e()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,T=T_();w.forEach(I=>{if(!a.has(I)){const L=k_(t.get(I),i.get(I));L!==null&&T.set(I,L),a=a.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return J.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return Ae.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):y_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const h=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):J.resolve(Ds());let d=-1,p=a;return h.next(y=>J.forEach(y,(w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(w)?J.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{p=p.insert(w,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,$e())).next(w=>({batchId:d,changes:E_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=rl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let h=rl();return this.indexManager.getCollectionParents(e,a).next(d=>J.forEach(d,p=>{const y=function(T,I){return new Al(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(a=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(h=>{a.forEach((p,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Zt.newInvalidDocument(w)))});let d=rl();return h.forEach((p,y)=>{const w=a.get(p);w!==void 0&&ul(w.mutation,y,Cn.empty(),Nt.now()),Zc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:qS(o.bundledQuery),readTime:kr(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.overlays=new mt(Ae.comparator),this.Er=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ds();return J.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const o=Ds(),a=t.length+1,h=new Ae(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new mt((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=a.get(y.largestBatchId);w===null&&(w=Ds(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=Ds(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=o)););return J.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new wS(t,i));let a=this.Er.get(t);a===void 0&&(a=$e(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.dr=new Dt(Mt.Ar),this.Rr=new Dt(Mt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Mt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Mt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ae(new ut([])),i=new Mt(t,e),o=new Mt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),a.push(h.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ae(new ut([])),i=new Mt(t,e),o=new Mt(t,e+1);let a=$e();return this.Rr.forEachInRange([i,o],h=>{a=a.add(h.key)}),a}containsKey(e){const t=new Mt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Mt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ae.comparator(e.key,t.key)||We(e.br,t.br)}static Vr(e,t){return We(e.br,t.br)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Dt(Mt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new _S(a,t,i,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Mt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mt(t,0),o=new Mt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],h=>{const d=this.Cr(h.br);a.push(d)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(We);return t.forEach(o=>{const a=new Mt(o,0),h=new Mt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,h],d=>{i=i.add(d.br)})}),J.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ae.isDocumentKey(a)||(a=a.child(""));const h=new Mt(new Ae(a),0);let d=new Dt(We);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},h),J.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return J.forEach(t.mutations,o=>{const a=new Mt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Mt(t,0),o=this.vr.firstAfterOrEqual(i);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.Nr=e,this.docs=function(){return new mt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let i=ni();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Zt.newInvalidDocument(o))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ni();const h=t.path,d=new Ae(h.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||bI(LI(w),i)<=0||(o.has(w.key)||Zc(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,i,o){xe()}Lr(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new s1(this)}getSize(e){return J.resolve(this.size)}}class s1 extends XS{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.persistence=e,this.Br=new js(t=>Gf(t),Qf),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.kr=0,this.qr=new np,this.targetCount=0,this.Qr=Qo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Qo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(h),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),J.waitFor(a).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(h=>{a.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Qc(0),this.Ur=!1,this.Ur=!0,this.Wr=new n1,this.referenceDelegate=e(this),this.Gr=new o1(this),this.indexManager=new HS,this.remoteDocumentCache=function(o){return new i1(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new $S(t),this.jr=new e1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new t1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new r1(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new a1(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return J.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class a1 extends MI{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Zr=new np,this.Xr=null}static ei(e){return new rp(e)}get ti(){if(this.Xr)return this.Xr;throw xe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,i=>{const o=Ae.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ne.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class bc{constructor(e,t){this.persistence=e,this.ri=new js(i=>jI(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=YS(this,t)}static ei(e,t){return new bc(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?J.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(i++,a.removeEntry(h,Ne.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hc(e.data.value)),t}ir(e,t,i){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return J.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=$e(),o=$e();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ip(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return iT()?8:FI(en())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(h=>{a.result=h}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(h=>{a.result=h})}).next(()=>{if(a.result)return;const h=new l1;return this.ts(e,t,h).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Lo()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(Lo()<=Be.DEBUG&&me("QueryEngine","Query:",bo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Lo()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):J.resolve())}Xi(e,t){if(ky(t))return J.resolve(null);let i=Cr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Sf(t,null,"F"),i=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const h=$e(...a);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,h,p.readTime)?this.Xi(e,Sf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return ky(t)||o.isEqual(Ne.min())?J.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const h=this.rs(t,a);return this.ss(t,h,i,o)?J.resolve(null):(Lo()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(t)),this.os(e,h,t,VI(o,-1)).next(d=>d))})}rs(e,t){let i=new Dt(__(e));return t.forEach((o,a)=>{Zc(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Lo()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",bo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Hi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(h=>{a=a.insert(h.key,h)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new mt(We),this.cs=new js(a=>Gf(a),Qf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZS(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function h1(n,e,t,i){return new c1(n,e,t,i)}async function z_(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const h=[],d=[];let p=$e();for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of a){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function d1(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const T=y.batch,I=T.keys();let L=J.resolve();return I.forEach(O=>{L=L.next(()=>w.getEntry(p,O)).next(H=>{const F=y.docVersions.get(O);Ze(F!==null),H.version.compareTo(F)<0&&(T.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),w.addEntry(H)))})}),L.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=$e();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function B_(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function f1(n,e){const t=Ve(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((w,T)=>{const I=o.get(T);if(!I)return;d.push(t.Gr.removeMatchingKeys(a,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,w.addedDocuments,T)));let L=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Wt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,i)),o=o.insert(T,L),function(H,F,Q){return H.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,L,w)&&d.push(t.Gr.updateTargetData(a,L))});let p=ni(),y=$e();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),d.push(p1(a,h,e.documentUpdates).next(w=>{p=w.Is,y=w.Es})),!i.isEqual(Ne.min())){const w=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(w)}return J.waitFor(d).next(()=>h.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function p1(n,e,t){let i=$e(),o=$e();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let h=ni();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function m1(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function g1(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,J.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new ji(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Pf(n,e,t){const i=Ve(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ta(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function jy(n,e,t){const i=Ve(n);let o=Ne.min(),a=$e();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,w){const T=Ve(p),I=T.cs.get(w);return I!==void 0?J.resolve(T.us.get(I)):T.Gr.getTargetData(y,w)}(i,h,Cr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Ne.min(),t?a:$e())).next(d=>(y1(i,iS(e),d),{documents:d,ds:a})))}function y1(n,e,t){let i=n.ls.get(e)||Ne.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class zy{constructor(){this.activeTargetIds=cS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v1{constructor(){this._o=new zy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new zy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function tf(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class T1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,h){const d=tf(),p=this.No(t,i.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,h),this.Bo(t,p,y,o).then(w=>(me("RestConnection",`Received RPC '${t}' ${d}: `,w),w),w=>{throw Ho("RestConnection",`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,a,h,d){return this.Oo(t,i,o,a,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,h)=>t[h]=a),o&&o.headers.forEach((a,h)=>t[h]=a)}No(t,i){const o=w1[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=tf();return new Promise((h,d)=>{const p=new t_;p.setWithCredentials(!0),p.listenOnce(n_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case cc.NO_ERROR:const w=p.getResponseJson();me(Xt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),h(w);break;case cc.TIMEOUT:me(Xt,`RPC '${e}' ${a} timed out`),d(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const T=p.getStatus();if(me(Xt,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I==null?void 0:I.error;if(L&&L.status&&L.message){const O=function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Q)>=0?Q:Z.UNKNOWN}(L.status);d(new ge(O,L.message))}else d(new ge(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{me(Xt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);me(Xt,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=tf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=s_(),d=i_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=a.join("");me(Xt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=h.createWebChannel(w,p);let I=!1,L=!1;const O=new E1({Eo:F=>{L?me(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(I||(me(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),me(Xt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Ao:()=>T.close()}),H=(F,Q,Y)=>{F.listen(Q,se=>{try{Y(se)}catch(de){setTimeout(()=>{throw de},0)}})};return H(T,nl.EventType.OPEN,()=>{L||(me(Xt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),H(T,nl.EventType.CLOSE,()=>{L||(L=!0,me(Xt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),H(T,nl.EventType.ERROR,F=>{L||(L=!0,Ho(Xt,`RPC '${e}' stream ${o} transport errored:`,F),O.Do(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),H(T,nl.EventType.MESSAGE,F=>{var Q;if(!L){const Y=F.data[0];Ze(!!Y);const se=Y,de=(se==null?void 0:se.error)||((Q=se[0])===null||Q===void 0?void 0:Q.error);if(de){me(Xt,`RPC '${e}' stream ${o} received error:`,de);const ne=de.status;let fe=function(C){const k=At[C];if(k!==void 0)return x_(k)}(ne),x=de.message;fe===void 0&&(fe=Z.INTERNAL,x="Unknown error status: "+ne+" with message "+de.message),L=!0,O.Do(new ge(fe,x)),T.close()}else me(Xt,`RPC '${e}' stream ${o} received:`,Y),O.vo(Y)}}),H(d,r_.STAT_EVENT,F=>{F.stat===vf.PROXY?me(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===vf.NOPROXY&&me(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){return new PS(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t,i,o,a,h,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new $_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ge(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I1 extends q_{constructor(e,t,i,o,a,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=DS(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ne.min();const h=a.targetChange;return h.targetIds&&h.targetIds.length?Ne.min():h.readTime?kr(h.readTime):Ne.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=kf(this.serializer),t.addTarget=function(a,h){let d;const p=h.target;if(d=Tf(p)?{documents:bS(a,p)}:{query:OS(a,p).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=V_(a,h.resumeToken);const y=Af(a,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Lc(a,h.snapshotVersion.toTimestamp());const y=Af(a,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=FS(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=kf(this.serializer),t.removeTarget=e,this.c_(t)}}class S1 extends q_{constructor(e,t,i,o,a,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=LS(e.writeResults,e.commitTime),i=kr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=kf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>VS(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,h])=>this.connection.Oo(e,Rf(t,i),o,a,h)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(Z.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Rf(t,i),o,h,d,a)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Z.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class R1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ti(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{zs(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ve(p);y.k_.add(4),await kl(y),y.K_.set("Unknown"),y.k_.delete(4),await ih(y)}(this))})}),this.K_=new R1(i,o)}}async function ih(n){if(zs(n))for(const e of n.q_)await e(!0)}async function kl(n){for(const e of n.q_)await e(!1)}function H_(n,e){const t=Ve(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),lp(t)?ap(t):na(t).s_()&&op(t,e))}function sp(n,e){const t=Ve(n),i=na(t);t.B_.delete(e),i.s_()&&W_(t,e),t.B_.size===0&&(i.s_()?i.a_():zs(t)&&t.K_.set("Unknown"))}function op(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).V_(e)}function W_(n,e){n.U_.xe(e),na(n).m_(e)}function ap(n){n.U_=new AS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),na(n).start(),n.K_.F_()}function lp(n){return zs(n)&&!na(n).i_()&&n.B_.size>0}function zs(n){return Ve(n).k_.size===0}function K_(n){n.U_=void 0}async function k1(n){n.K_.set("Online")}async function P1(n){n.B_.forEach((e,t)=>{op(n,e)})}async function x1(n,e){K_(n),lp(n)?(n.K_.O_(e),ap(n)):n.K_.set("Unknown")}async function N1(n,e,t){if(n.K_.set("Online"),e instanceof D_&&e.state===2&&e.cause)try{await async function(o,a){const h=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Oc(n,i)}else if(e instanceof pc?n.U_.$e(e):e instanceof N_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ne.min()))try{const i=await B_(n.localStore);t.compareTo(i)>=0&&await function(a,h){const d=a.U_.it(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.B_.get(y);w&&a.B_.set(y,w.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const w=a.B_.get(p);if(!w)return;a.B_.set(p,w.withResumeToken(Wt.EMPTY_BYTE_STRING,w.snapshotVersion)),W_(a,p);const T=new ji(w.target,p,y,w.sequenceNumber);op(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){me("RemoteStore","Failed to raise snapshot:",i),await Oc(n,i)}}async function Oc(n,e,t){if(!ta(e))throw e;n.k_.add(1),await kl(n),n.K_.set("Offline"),t||(t=()=>B_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await ih(n)})}function G_(n,e){return e().catch(t=>Oc(n,t,e))}async function sh(n){const e=Ve(n),t=Qi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;D1(e);)try{const o=await m1(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,V1(e,o)}catch(o){await Oc(e,o)}Q_(e)&&Y_(e)}function D1(n){return zs(n)&&n.L_.length<10}function V1(n,e){n.L_.push(e);const t=Qi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Q_(n){return zs(n)&&!Qi(n).i_()&&n.L_.length>0}function Y_(n){Qi(n).start()}async function L1(n){Qi(n).w_()}async function b1(n){const e=Qi(n);for(const t of n.L_)e.g_(t.mutations)}async function O1(n,e,t){const i=n.L_.shift(),o=Zf.from(i,e,t);await G_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await sh(n)}async function M1(n,e){e&&Qi(n).f_&&await async function(i,o){if(function(h){return TS(h)&&h!==Z.ABORTED}(o.code)){const a=i.L_.shift();Qi(i).__(),await G_(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await sh(i)}}(n,e),Q_(n)&&Y_(n)}async function $y(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const i=zs(t);t.k_.add(3),await kl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await ih(t)}async function F1(n,e){const t=Ve(n);e?(t.k_.delete(2),await ih(t)):e||(t.k_.add(2),await kl(t),t.K_.set("Unknown"))}function na(n){return n.W_||(n.W_=function(t,i,o){const a=Ve(t);return a.b_(),new I1(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:k1.bind(null,n),mo:P1.bind(null,n),po:x1.bind(null,n),R_:N1.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),lp(n)?ap(n):n.K_.set("Unknown")):(await n.W_.stop(),K_(n))})),n.W_}function Qi(n){return n.G_||(n.G_=function(t,i,o){const a=Ve(t);return a.b_(),new S1(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:L1.bind(null,n),po:M1.bind(null,n),p_:b1.bind(null,n),y_:O1.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await sh(n)):(await n.G_.stop(),n.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const h=Date.now()+i,d=new up(e,t,h,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(n,e){if(ti("AsyncQueue",`${e}: ${n}`),ta(n))return new ge(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=rl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.z_=new mt(Ae.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):xe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yo{constructor(e,t,i,o,a,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Yo(e,t,jo.emptySet(t),h,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class j1{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ve(t),a=o.queries;o.queries=Hy(),a.forEach((h,d)=>{for(const p of d.J_)p.onError(i)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function Hy(){return new js(n=>v_(n),Jc)}async function X_(n,e){const t=Ve(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new U1,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=cp(h,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&hp(t)}async function J_(n,e){const t=Ve(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const h=a.J_.indexOf(e);h>=0&&(a.J_.splice(h,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function z1(n,e){const t=Ve(n);let i=!1;for(const o of e){const a=o.query,h=t.queries.get(a);if(h){for(const d of h.J_)d.ta(o)&&(i=!0);h.H_=o}}i&&hp(t)}function B1(n,e,t){const i=Ve(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function hp(n){n.X_.forEach(e=>{e.next()})}var xf,Wy;(Wy=xf||(xf={})).na="default",Wy.Cache="cache";class Z_{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.key=e}}class t0{constructor(e){this.key=e}}class $1{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=$e(),this.mutatedKeys=$e(),this.Va=__(e),this.ma=new jo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new qy,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const I=o.get(w),L=Zc(this.query,T)?T:null,O=!!I&&this.mutatedKeys.has(I.key),H=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let F=!1;I&&L?I.data.isEqual(L.data)?O!==H&&(i.track({type:3,doc:L}),F=!0):this.ya(I,L)||(i.track({type:2,doc:L}),F=!0,(p&&this.Va(L,p)>0||y&&this.Va(L,y)<0)&&(d=!0)):!I&&L?(i.track({type:0,doc:L}),F=!0):I&&!L&&(i.track({type:1,doc:I}),F=!0,(p||y)&&(d=!0)),F&&(L?(h=h.add(L),a=H?a.add(w):a.delete(w)):(h=h.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{ma:h,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,T)=>function(L,O){const H=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return H(L)-H(O)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new Yo(this.query,e.ma,a,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new qy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=$e(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new t0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new e0(i))}),t}va(e){this.da=e.ds,this.Ra=$e();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Yo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class q1{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class H1{constructor(e){this.key=e,this.Fa=!1}}class W1{constructor(e,t,i,o,a,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new js(d=>v_(d),Jc),this.Oa=new Map,this.Na=new Set,this.La=new mt(Ae.comparator),this.Ba=new Map,this.ka=new np,this.qa={},this.Qa=new Map,this.Ka=Qo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function K1(n,e,t=!0){const i=a0(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await n0(i,e,t,!0),o}async function G1(n,e){const t=a0(n);await n0(t,e,!0,!1)}async function n0(n,e,t,i){const o=await g1(n.localStore,Cr(e)),a=o.targetId,h=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await Q1(n,e,a,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&H_(n.remoteStore,o),d}async function Q1(n,e,t,i,o){n.Ua=(T,I,L)=>async function(H,F,Q,Y){let se=F.view.ga(Q);se.ss&&(se=await jy(H.localStore,F.query,!1).then(({documents:x})=>F.view.ga(x,se)));const de=Y&&Y.targetChanges.get(F.targetId),ne=Y&&Y.targetMismatches.get(F.targetId)!=null,fe=F.view.applyChanges(se,H.isPrimaryClient,de,ne);return Gy(H,F.targetId,fe.ba),fe.snapshot}(n,T,I,L);const a=await jy(n.localStore,e,!0),h=new $1(e,a.ds),d=h.ga(a.documents),p=Cl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(d,n.isPrimaryClient,p);Gy(n,t,y.ba);const w=new q1(e,t,h);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function Y1(n,e,t){const i=Ve(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(h=>!Jc(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Pf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&sp(i.remoteStore,o.targetId),Nf(i,o.targetId)}).catch(ea)):(Nf(i,o.targetId),await Pf(i.localStore,o.targetId,!0))}async function X1(n,e){const t=Ve(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sp(t.remoteStore,i.targetId))}async function J1(n,e,t){const i=sA(n);try{const o=await function(h,d){const p=Ve(h),y=Nt.now(),w=d.reduce((L,O)=>L.add(O.key),$e());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let O=ni(),H=$e();return p.hs.getEntries(L,w).next(F=>{O=F,O.forEach((Q,Y)=>{Y.isValidDocument()||(H=H.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,O)).next(F=>{T=F;const Q=[];for(const Y of d){const se=yS(Y,T.get(Y.key).overlayedDocument);se!=null&&Q.push(new Ji(Y.key,se,c_(se.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,Q,d)}).next(F=>{I=F;const Q=F.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(L,F.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:E_(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.qa[h.currentUser.toKey()];y||(y=new mt(We)),y=y.insert(d,p),h.qa[h.currentUser.toKey()]=y}(i,o.batchId,t),await Pl(i,o.changes),await sh(i.remoteStore)}catch(o){const a=cp(o,"Failed to persist write");t.reject(a)}}async function r0(n,e){const t=Ve(n);try{const i=await f1(t.localStore,e);e.targetChanges.forEach((o,a)=>{const h=t.Ba.get(a);h&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Ze(h.Fa):o.removedDocuments.size>0&&(Ze(h.Fa),h.Fa=!1))}),await Pl(t,i,e)}catch(i){await ea(i)}}function Ky(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ve(h);p.onlineState=d;let y=!1;p.queries.forEach((w,T)=>{for(const I of T.J_)I.ea(d)&&(y=!0)}),y&&hp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Z1(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let h=new mt(Ae.comparator);h=h.insert(a,Zt.newNoDocument(a,Ne.min()));const d=$e().add(a),p=new nh(Ne.min(),new Map,new mt(We),h,d);await r0(i,p),i.La=i.La.remove(a),i.Ba.delete(e),dp(i)}else await Pf(i.localStore,e,!1).then(()=>Nf(i,e,t)).catch(ea)}async function eA(n,e){const t=Ve(n),i=e.batch.batchId;try{const o=await d1(t.localStore,e);s0(t,i,null),i0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Pl(t,o)}catch(o){await ea(o)}}async function tA(n,e,t){const i=Ve(n);try{const o=await function(h,d){const p=Ve(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next(T=>(Ze(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);s0(i,e,t),i0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Pl(i,o)}catch(o){await ea(o)}}function i0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function s0(n,e,t){const i=Ve(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Nf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||o0(n,i)})}function o0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(sp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),dp(n))}function Gy(n,e,t){for(const i of t)i instanceof e0?(n.ka.addReference(i.key,e),nA(n,i)):i instanceof t0?(me("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||o0(n,i.key)):xe()}function nA(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(me("SyncEngine","New document in limbo: "+t),n.Na.add(i),dp(n))}function dp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ae(ut.fromString(e)),i=n.Ka.next();n.Ba.set(i,new H1(t)),n.La=n.La.insert(t,i),H_(n.remoteStore,new ji(Cr(Yf(t.path)),i,"TargetPurposeLimboResolution",Qc.oe))}}async function Pl(n,e,t){const i=Ve(n),o=[],a=[],h=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{h.push(i.Ua(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=ip.zi(p.targetId,y);a.push(T)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(p,y){const w=Ve(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(y,I=>J.forEach(I.Wi,L=>w.persistence.referenceDelegate.addReference(T,I.targetId,L)).next(()=>J.forEach(I.Gi,L=>w.persistence.referenceDelegate.removeReference(T,I.targetId,L)))))}catch(T){if(!ta(T))throw T;me("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const L=w.us.get(I),O=L.snapshotVersion,H=L.withLastLimboFreeSnapshotVersion(O);w.us=w.us.insert(I,H)}}}(i.localStore,a))}async function rA(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const i=await z_(t.localStore,e);t.currentUser=e,function(a,h){a.Qa.forEach(d=>{d.forEach(p=>{p.reject(new ge(Z.CANCELLED,h))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pl(t,i.Ts)}}function iA(n,e){const t=Ve(n),i=t.Ba.get(e);if(i&&i.Fa)return $e().add(i.key);{let o=$e();const a=t.Oa.get(e);if(!a)return o;for(const h of a){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function a0(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z1.bind(null,e),e.Ma.R_=z1.bind(null,e.eventManager),e.Ma.Wa=B1.bind(null,e.eventManager),e}function sA(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tA.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return h1(this.persistence,new u1,e.initialUser,this.serializer)}ja(e){return new j_(rp.ei,this.serializer)}za(e){return new v1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class oA extends Mc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ze(this.persistence.referenceDelegate instanceof bc);const i=this.persistence.referenceDelegate.garbageCollector;return new GS(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new j_(i=>bc.ei(i,t),this.serializer)}}class Df{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ky(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rA.bind(null,this.syncEngine),await F1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j1}()}createDatastore(e){const t=rh(e.databaseInfo.databaseId),i=function(a){return new T1(a)}(e.databaseInfo);return function(a,h,d,p){return new A1(a,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,h,d){return new C1(i,o,a,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Ky(this.syncEngine,t,0),function(){return By.p()?new By:new _1}())}createSyncEngine(e,t){return function(o,a,h,d,p,y,w){const T=new W1(o,a,h,d,p,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ve(o);me("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await kl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Df.provider={build:()=>new Df};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=a_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=cp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function rf(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await z_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Qy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lA(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>$y(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>$y(e.remoteStore,o)),n._onlineComponents=e}async function lA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await rf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),await rf(n,new Mc)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await rf(n,new oA(void 0));return n._offlineComponents}async function u0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Qy(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Qy(n,new Df))),n._onlineComponents}function uA(n){return u0(n).then(e=>e.syncEngine)}async function c0(n){const e=await u0(n),t=e.eventManager;return t.onListen=K1.bind(null,e.syncEngine),t.onUnlisten=Y1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=G1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=X1.bind(null,e.syncEngine),t}function cA(n,e,t={}){const i=new Xr;return n.asyncQueue.enqueueAndForget(async()=>function(a,h,d,p,y){const w=new l0({next:I=>{w.eu(),h.enqueueAndForget(()=>J_(a,T));const L=I.docs.has(d);!L&&I.fromCache?y.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&I.fromCache&&p&&p.source==="server"?y.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new Z_(Yf(d.path),w,{includeMetadataChanges:!0,ua:!0});return X_(a,T)}(await c0(n),n.asyncQueue,e,t,i)),i.promise}function hA(n,e,t={}){const i=new Xr;return n.asyncQueue.enqueueAndForget(async()=>function(a,h,d,p,y){const w=new l0({next:I=>{w.eu(),h.enqueueAndForget(()=>J_(a,T)),I.fromCache&&p.source==="server"?y.reject(new ge(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new Z_(d,w,{includeMetadataChanges:!0,ua:!0});return X_(a,T)}(await c0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n,e,t){if(!t)throw new ge(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dA(n,e,t,i){if(e===!0&&i===!0)throw new ge(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xy(n){if(!Ae.isDocumentKey(n))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jy(n){if(Ae.isDocumentKey(n))throw new ge(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe()}function ri(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oh(n);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SI;switch(i.type){case"firstParty":return new kI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Yy.get(t);i&&(me("ComponentProvider","Removing Datastore"),Yy.delete(t),i.terminate())}(this),Promise.resolve()}}function fA(n,e,t,i={}){var o;const a=(n=ri(n,ah))._getSettings(),h=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==h&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:h,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Jt.MOCK_USER;else{d=XE(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(y)}n._authCredentials=new AI(new o_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class qi extends ra{constructor(e,t,i){super(e,t,Yf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Ae(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function f0(n,e,...t){if(n=Ft(n),d0("collection","path",e),n instanceof ah){const i=ut.fromString(e,...t);return Jy(i),new qi(n,null,i)}{if(!(n instanceof vn||n instanceof qi))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return Jy(i),new qi(n.firestore,null,i)}}function lh(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=a_.newId()),d0("doc","path",e),n instanceof ah){const i=ut.fromString(e,...t);return Xy(i),new vn(n,null,new Ae(i))}{if(!(n instanceof vn||n instanceof qi))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return Xy(i),new vn(n.firestore,n instanceof qi?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new $_(this,"async_queue_retry"),this.fu=()=>{const i=nf();i&&me("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=nf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=nf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Xr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ta(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(i);throw ti("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=up.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&xe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class ia extends ah{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new ev,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ev(e),this._firestoreClient=void 0,await e}}}function pA(n,e){const t=typeof n=="object"?n:Yv(),i=typeof n=="string"?n:"(default)",o=qf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=QE("firestore");a&&fA(o,...a)}return o}function fp(n){if(n._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mA(n),n._firestoreClient}function mA(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,y,w){return new $I(d,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,h0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new aA(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Wt.fromBase64String(e))}catch(t){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=/^__.*__$/;class yA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rl(e,this.data,t,this.fieldTransforms)}}class p0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function m0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class yp{constructor(e,t,i,o,a,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Fc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(m0(this.Mu)&&gA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class vA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||rh(e)}$u(e,t,i,o=!1){return new yp({Mu:e,methodName:t,Ku:i,path:Ht.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vp(n){const e=n._freezeSettings(),t=rh(n._databaseId);return new vA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _A(n,e,t,i,o,a={}){const h=n.$u(a.merge||a.mergeFields?2:0,e,t,o);_p("Data must be an object, but it was:",h,i);const d=g0(i,h);let p,y;if(a.merge)p=new Cn(h.fieldMask),y=h.fieldTransforms;else if(a.mergeFields){const w=[];for(const T of a.mergeFields){const I=Vf(e,T,t);if(!h.contains(I))throw new ge(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);v0(w,I)||w.push(I)}p=new Cn(w),y=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=h.fieldTransforms;return new yA(new yn(d),p,y)}class ch extends pp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ch}}function wA(n,e,t,i){const o=n.$u(1,e,t);_p("Data must be an object, but it was:",o,i);const a=[],h=yn.empty();Xi(i,(p,y)=>{const w=wp(e,p,t);y=Ft(y);const T=o.Bu(w);if(y instanceof ch)a.push(w);else{const I=xl(y,T);I!=null&&(a.push(w),h.set(w,I))}});const d=new Cn(a);return new p0(h,d,o.fieldTransforms)}function EA(n,e,t,i,o,a){const h=n.$u(1,e,t),d=[Vf(e,i,t)],p=[o];if(a.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(Vf(e,a[I])),p.push(a[I+1]);const y=[],w=yn.empty();for(let I=d.length-1;I>=0;--I)if(!v0(y,d[I])){const L=d[I];let O=p[I];O=Ft(O);const H=h.Bu(L);if(O instanceof ch)y.push(L);else{const F=xl(O,H);F!=null&&(y.push(L),w.set(L,F))}}const T=new Cn(y);return new p0(w,T,h.fieldTransforms)}function TA(n,e,t,i=!1){return xl(t,n.$u(i?4:3,e))}function xl(n,e){if(y0(n=Ft(n)))return _p("Unsupported field value:",e,n),g0(n,e);if(n instanceof pp)return function(i,o){if(!m0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let h=0;for(const d of i){let p=xl(d,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),h++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Nt.fromDate(i);return{timestampValue:Lc(o.serializer,a)}}if(i instanceof Nt){const a=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,a)}}if(i instanceof mp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:V_(o.serializer,i._byteString)};if(i instanceof vn){const a=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(a))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof gp)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Xf(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${oh(i)}`)}(n,e)}function g0(n,e){const t={};return l_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(n,(i,o)=>{const a=xl(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function y0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof mp||n instanceof Xo||n instanceof vn||n instanceof pp||n instanceof gp)}function _p(n,e,t){if(!y0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=oh(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Vf(n,e,t){if((e=Ft(e))instanceof uh)return e._internalPath;if(typeof e=="string")return wp(n,e);throw Fc("Field path arguments must be of type string or ",n,!1,void 0,t)}const IA=new RegExp("[~\\*/\\[\\]]");function wp(n,e,t){if(e.search(IA)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uh(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fc(n,e,t,i,o){const a=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||h)&&(p+=" (found",a&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ge(Z.INVALID_ARGUMENT,d+n+p)}function v0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ep("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SA extends _0{data(){return super.data()}}function Ep(n,e){return typeof e=="string"?wp(n,e):e instanceof uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tp{}class RA extends Tp{}function CA(n,e,...t){let i=[];e instanceof Tp&&i.push(e),i=i.concat(t),function(a){const h=a.filter(p=>p instanceof Dl).length,d=a.filter(p=>p instanceof Nl).length;if(h>1||h>0&&d>0)throw new ge(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Nl extends RA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Nl(e,t,i)}_apply(e){const t=this._parse(e);return w0(e._query,t),new ra(e.firestore,e.converter,If(e._query,t))}_parse(e){const t=vp(e.firestore);return function(a,h,d,p,y,w,T){let I;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){nv(T,w);const L=[];for(const O of T)L.push(tv(p,a,O));I={arrayValue:{values:L}}}else I=tv(p,a,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||nv(T,w),I=TA(d,h,T,w==="in"||w==="not-in");return Rt.create(y,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cl(n,e,t){const i=e,o=Ep("where",n);return Nl._create(o,i,t)}class Dl extends Tp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dl(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let h=o;const d=a.getFlattenedFilters();for(const p of d)w0(h,p),h=If(h,p)}(e._query,t),new ra(e.firestore,e.converter,If(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kA(...n){return n.forEach(e=>PA("and",e)),Dl._create("and",n)}function tv(n,e,t){if(typeof(t=Ft(t))=="string"){if(t==="")throw new ge(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y_(e)&&t.indexOf("/")!==-1)throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ut.fromString(t));if(!Ae.isDocumentKey(i))throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ty(n,new Ae(i))}if(t instanceof vn)return Ty(n,t._key);throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(t)}.`)}function nv(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w0(n,e){const t=function(o,a){for(const h of o)for(const d of h.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function PA(n,e){if(!(e instanceof Nl||e instanceof Dl))throw new ge(Z.INVALID_ARGUMENT,`Function ${n}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class xA{convertValue(e,t="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Xi(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>wt(h.doubleValue));return new gp(a)}convertGeoPoint(e){return new mp(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Xc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);Ze(U_(i));const o=new gl(i.get(1),i.get(3)),a=new Ae(i.popFirst(5));return o.isEqual(t)||ti(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E0 extends _0{constructor(e,t,i,o,a,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ep("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mc extends E0{data(e={}){return super.data(e)}}class DA{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new sl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mc(this._firestore,this._userDataWriter,i.key,i,new sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new mc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new mc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),w=h.indexOf(d.doc.key)),{type:VA(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){n=ri(n,vn);const e=ri(n.firestore,ia);return cA(fp(e),n._key).then(t=>UA(e,n,t))}class T0 extends xA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function bA(n){n=ri(n,ra);const e=ri(n.firestore,ia),t=fp(e),i=new T0(e);return AA(n._query),hA(t,n._query).then(o=>new DA(e,i,n,o))}function OA(n,e,t,...i){n=ri(n,vn);const o=ri(n.firestore,ia),a=vp(o);let h;return h=typeof(e=Ft(e))=="string"||e instanceof uh?EA(a,"updateDoc",n._key,e,t,i):wA(a,"updateDoc",n._key,e),Ip(o,[h.toMutation(n._key,or.exists(!0))])}function MA(n){return Ip(ri(n.firestore,ia),[new Jf(n._key,or.none())])}function FA(n,e){const t=ri(n.firestore,ia),i=lh(n),o=NA(n.converter,e);return Ip(t,[_A(vp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function Ip(n,e){return function(i,o){const a=new Xr;return i.asyncQueue.enqueueAndForget(async()=>J1(await uA(i),o,a)),a.promise}(fp(n),e)}function UA(n,e,t){const i=t.docs.get(e._key),o=new T0(n);return new E0(n,o,e._key,i,new sl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Zo=o})(Jo),qo(new Os("firestore",(i,{instanceIdentifier:o,options:a})=>{const h=i.getProvider("app").getImmediate(),d=new ia(new RI(i.getProvider("auth-internal")),new xI(i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(y.options.projectId,w)}(h,o),h);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),$i(gy,"4.7.5",e),$i(gy,"4.7.5","esm2017")})();const Rn={getTimeInMillis:function(n,e){const t=n.split("-"),i=e.split(":");return Date.UTC(t[0],t[1]-1,t[2],i[0],i[1],i[2]||0,0)},getTimeInString:function(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error("Invalid timestamp");const t=e.toISOString().split("T")[0],i=e.toISOString().split("T")[1].slice(0,5);return{date:t,time:i}},convertTimeIn12Hour:function(n){const[e,t,i]=n.split(":").map(Number),o=e%12||12,a=e>=12?"PM":"AM",h=String(o).padStart(2,"0"),d=String(t).padStart(2,"0"),p=String(i).padStart(2,"0");return`${h}:${d}:${p} ${a}`},currentIndianTimeInMillis:function(){return Date.now()+(5*3600+1800)*1e3}},Vl=pA(Zv);async function jA(n){return(await FA(f0(Vl,"tasks"),n)).id}async function zA(n){const e=lh(Vl,"tasks",n);return LA(e)}async function BA(n,e){const t=lh(Vl,"tasks",n);return OA(t,e)}async function $A(n){const e=n.map(t=>MA(lh(Vl,"tasks",t)));return Promise.allSettled(e)}async function I0(n){return bA(CA(f0(Vl,"tasks"),kA(...n)))}function qA(n,e,t,i){const o=Rn.getTimeInMillis(n,e);return((Rn.getTimeInMillis(t,i)-o)/36e5).toFixed(1)}async function HA(n){const e=await I0(n),t=[];e.docs.forEach(o=>t.push(o.data()));const i={total:0,completed:{count:0,totalTimePerCompletedTask:0},pending:{count:0,totalTimelapsed:0,totalTimeToFinish:0,priority:[null,{priority:1,count:0,timeLapsed:0,timeToFinish:0},{priority:2,count:0,timeLapsed:0,timeToFinish:0},{priority:3,count:0,timeLapsed:0,timeToFinish:0},{priority:4,count:0,timeLapsed:0,timeToFinish:0},{priority:5,count:0,timeLapsed:0,timeToFinish:0}]}};return t.forEach(o=>{if(i.total+=1,o.completed)i.completed.count+=1,i.completed.totalTimePerCompletedTask+=Rn.getTimeInMillis(o.endDate,o.endTime)-Rn.getTimeInMillis(o.startDate,o.startTime);else{let a=Math.max(0,Rn.getTimeInMillis(o.endDate,o.endTime)-Rn.currentIndianTimeInMillis()),h=Rn.currentIndianTimeInMillis()-Rn.getTimeInMillis(o.startDate,o.startTime);i.pending.count+=1,i.pending.totalTimeToFinish+=a,i.pending.totalTimelapsed+=h,i.pending.priority[o.priority].count+=1,i.pending.priority[o.priority].timeLapsed+=h,i.pending.priority[o.priority].timeToFinish+=a}}),i}const WA=({taskToEdit:n,onClose:e,onUpdate:t})=>{const[i,o]=G.useState(null);return G.useEffect(function(){zA(n).then(a=>{a.exists()?o({...a.data(),id:n}):console.log("data not exists")}).catch(a=>{console.error("Error while fetching data inside editform from db :: ",a)})},[]),P.jsxs(P.Fragment,{children:[P.jsx("h2",{className:"text-4xl font-bold",children:"Edit Task"}),P.jsxs("p",{className:"text-sm font-light",children:["Task Id: ",n]}),P.jsxs("form",{className:"flex flex-col mt-5",onSubmit:a=>{if(a.preventDefault(),i.completed){const{date:h,time:d}=Rn.getTimeInString(Rn.currentIndianTimeInMillis());t({...i,endDate:h,endTime:d})}else t(i)},children:[P.jsxs("div",{className:"w-full",children:[P.jsx("label",{className:"block text-sm font-bold",children:"Title:"}),P.jsx("input",{className:"rounded-md w-full",type:"text",placeholder:"Title",required:!0,value:i==null?void 0:i.title,onChange:a=>o({...i,title:a.target.value})})]}),P.jsxs("div",{className:"mt-2",children:[P.jsx("label",{className:"block text-sm font-bold",children:"Priority:"}),P.jsx("input",{className:"rounded-md w-full",type:"number",min:1,max:5,value:i==null?void 0:i.priority,onChange:a=>o({...i,priority:Number(a.target.value)})})]}),P.jsx("div",{className:"mt-2",children:P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold",children:"Status:"}),P.jsxs("div",{className:"flex justify-stretch",children:[P.jsxs("div",{children:[P.jsx("input",{className:"rounded-md",type:"radio",name:"completed",checked:!(i!=null&&i.completed),onChange:a=>{o({...i,completed:!1})}})," Pending"]}),P.jsxs("div",{children:[P.jsx("input",{className:"ml-2 rounded-md",type:"radio",name:"completed",checked:i==null?void 0:i.completed,onChange:a=>{o({...i,completed:!0})}})," Completed"]})]})]})}),P.jsxs("div",{className:"mt-2",children:[P.jsx("label",{className:"block text-sm font-bold",children:"Start Date & Time:"}),P.jsxs("div",{children:[P.jsx("input",{className:"rounded-md me-2",type:"date",required:!0,value:i==null?void 0:i.startDate,onChange:a=>{o({...i,startDate:a.target.value})}}),P.jsx("input",{className:"rounded-md",type:"time",required:!0,value:i==null?void 0:i.startTime,onChange:a=>{o({...i,startTime:a.target.value})}})]})]}),P.jsxs("div",{className:"mt-2",children:[P.jsx("label",{className:"block text-sm font-bold",children:"End Date & Time:"}),P.jsxs("div",{children:[P.jsx("input",{className:"rounded-md me-2",type:"date",value:i==null?void 0:i.endDate,required:!0,onChange:a=>{o({...i,endDate:a.target.value})}}),P.jsx("input",{className:"rounded-md",type:"time",required:!0,value:i==null?void 0:i.endTime,onChange:a=>{o({...i,endTime:a.target.value})}})]})]}),P.jsxs("div",{className:"flex flex-row justify-center",children:[P.jsx("button",{type:"submit",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-blue-700 hover:bg-blue-500  text-white",children:"Update"}),P.jsx("button",{type:"button",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-gray-700 hover:bg-gray-500  text-white",onClick:a=>{a.stopPropagation(),e()},children:"Cancel"})]})]})]})};function Sp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KA=S0,A0=new Il("auth","Firebase",S0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Bf("@firebase/auth");function GA(n,...e){Uc.logLevel<=Be.WARN&&Uc.warn(`Auth (${Jo}): ${n}`,...e)}function gc(n,...e){Uc.logLevel<=Be.ERROR&&Uc.error(`Auth (${Jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw Ap(n,...e)}function Pr(n,...e){return Ap(n,...e)}function R0(n,e,t){const i=Object.assign(Object.assign({},KA()),{[e]:t});return new Il("auth","Firebase",i).create(e,{appName:n.name})}function Jr(n){return R0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return A0.create(n,...e)}function ke(n,e,...t){if(!n)throw Ap(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gc(e),new Error(e)}function ii(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function QA(){return rv()==="http:"||rv()==="https:"}function rv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QA()||tT()||"connection"in navigator)?navigator.onLine:!0}function XA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=JE()||nT()}get(){return YA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Ll(3e4,6e4);function Zi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function es(n,e,t,i,o={}){return k0(n,o,async()=>{let a={},h={};i&&(e==="GET"?h=i:a={body:JSON.stringify(i)});const d=Sl(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return eT()||(y.referrerPolicy="no-referrer"),C0.fetch()(P0(n,n.config.apiHost,t,d),y)})}async function k0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},JA),e);try{const o=new tR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await a.json();if("needConfirmation"in h)throw lc(n,"account-exists-with-different-credential",h);if(a.ok&&!("errorMessage"in h))return h;{const d=a.ok?h.errorMessage:h.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw lc(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw lc(n,"user-disabled",h);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R0(n,w,y);lr(n,w)}}catch(o){if(o instanceof si)throw o;lr(n,"network-request-failed",{message:String(o)})}}async function bl(n,e,t,i,o={}){const a=await es(n,e,t,i,o);return"mfaPendingCredential"in a&&lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function P0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Rp(n.config,o):`${n.config.apiScheme}://${o}`}function eR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Pr(this.auth,"network-request-failed")),ZA.get())})}}function lc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Pr(n,e,i);return o.customData._tokenResponse=t,o}function iv(n){return n!==void 0&&n.enterprise!==void 0}class nR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rR(n,e){return es(n,"GET","/v2/recaptchaConfig",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(n,e){return es(n,"POST","/v1/accounts:delete",e)}async function x0(n,e){return es(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sR(n,e=!1){const t=Ft(n),i=await t.getIdToken(e),o=Cp(i);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,h=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:hl(sf(o.auth_time)),issuedAtTime:hl(sf(o.iat)),expirationTime:hl(sf(o.exp)),signInProvider:h||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sf(n){return Number(n)*1e3}function Cp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$v(t);return o?JSON.parse(o):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function sv(n){const e=Cp(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof si&&oR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function oR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await wl(n,x0(t,{idToken:i}));ke(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const h=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?N0(a.providerUserInfo):[],d=uR(n.providerData,h),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),w=p?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new bf(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function lR(n){const e=Ft(n);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function N0(n){return n.map(e=>{var{providerId:t}=e,i=Sp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(n,e){const t=await k0(n,{},async()=>{const i=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,h=P0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",C0.fetch()(h,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hR(n,e){return es(n,"POST","/v2/accounts:revokeToken",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=sv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await cR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,h=new zo;return i&&(ke(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(ke(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),a&&(ke(typeof a=="number","internal-error",{appName:e}),h.expirationTime=a),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new bf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await wl(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sR(this,e)}reload(){return lR(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await wl(this,iR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,h,d,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,L=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(d=t.tenantId)!==null&&d!==void 0?d:void 0,F=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:se,emailVerified:de,isAnonymous:ne,providerData:fe,stsTokenManager:x}=t;ke(se&&x,e,"internal-error");const S=zo.fromJSON(this.name,x);ke(typeof se=="string",e,"internal-error"),Vi(T,e.name),Vi(I,e.name),ke(typeof de=="boolean",e,"internal-error"),ke(typeof ne=="boolean",e,"internal-error"),Vi(L,e.name),Vi(O,e.name),Vi(H,e.name),Vi(F,e.name),Vi(Q,e.name),Vi(Y,e.name);const C=new Qr({uid:se,auth:e,email:I,emailVerified:de,displayName:T,isAnonymous:ne,photoURL:O,phoneNumber:L,tenantId:H,stsTokenManager:S,createdAt:Q,lastLoginAt:Y});return fe&&Array.isArray(fe)&&(C.providerData=fe.map(k=>Object.assign({},k))),F&&(C._redirectEventId=F),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new zo;o.updateFromServerResponse(t);const a=new Qr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await jc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?N0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new zo;d.updateFromIdToken(i);const p=new Qr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function Yr(n){ii(n instanceof Function,"Expected a class definition");let e=ov.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ov.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}D0.type="NONE";const av=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n,e,t){return`firebase:${n}:${e}:${t}`}class Bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=yc(this.userKey,o.apiKey,a),this.fullPersistenceKey=yc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bo(Yr(av),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Yr(av);const h=yc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const w=await y._get(h);if(w){const T=Qr._fromJSON(e,w);y!==a&&(d=T),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Bo(a,e,i):(a=p[0],d&&await a._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(h)}catch{}})),new Bo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F0(e))return"Blackberry";if(U0(e))return"Webos";if(L0(e))return"Safari";if((e.includes("chrome/")||b0(e))&&!e.includes("edge/"))return"Chrome";if(M0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function V0(n=en()){return/firefox\//i.test(n)}function L0(n=en()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b0(n=en()){return/crios\//i.test(n)}function O0(n=en()){return/iemobile/i.test(n)}function M0(n=en()){return/android/i.test(n)}function F0(n=en()){return/blackberry/i.test(n)}function U0(n=en()){return/webos/i.test(n)}function kp(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dR(n=en()){var e;return kp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fR(){return rT()&&document.documentMode===10}function j0(n=en()){return kp(n)||M0(n)||U0(n)||F0(n)||/windows phone/i.test(n)||O0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n,e=[]){let t;switch(n){case"Browser":t=lv(en());break;case"Worker":t=`${lv(en())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((h,d)=>{try{const p=e(a);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(n,e={}){return es(n,"GET","/v2/passwordPolicy",Zi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=6;class yR{constructor(e){var t,i,o,a;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:gR,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new pR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await x0(this,{idToken:e}),i=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ar(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(Jr(this));const t=e?Ft(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mR(this),t=new yR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await hR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yr(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{h||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bs(n){return Ft(n)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=hT(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _R(n){hh=n}function B0(n){return hh.loadJS(n)}function wR(){return hh.recaptchaEnterpriseScript}function ER(){return hh.gapiScript}function TR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IR{constructor(){this.enterprise=new SR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AR="recaptcha-enterprise",$0="NO_RECAPTCHA";class RR{constructor(e){this.type=AR,this.auth=Bs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(h,d)=>{rR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new nR(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,h(y.siteKey)}}).catch(p=>{d(p)})})}function o(a,h,d){const p=window.grecaptcha;iv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{h(y)}).catch(()=>{h($0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IR().execute("siteKey",{action:"verify"}):new Promise((a,h)=>{i(this.auth).then(d=>{if(!t&&iv(window.grecaptcha))o(d,a,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wR();p.length!==0&&(p+=d),B0(p).then(()=>{o(d,a,h)}).catch(y=>{h(y)})}}).catch(d=>{h(d)})})}}async function cv(n,e,t,i=!1,o=!1){const a=new RR(n);let h;if(o)h=$0;else try{h=await a.verify(t)}catch{h=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Of(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await cv(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n,e){const t=qf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Cc(a,e??{}))return o;lr(o,"already-initialized")}return t.initialize({options:e})}function kR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Yr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function PR(n,e,t){const i=Bs(n);ke(i._canInitEmulator,i,"emulator-config-failed"),ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=q0(e),{host:h,port:d}=xR(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),NR()}function q0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xR(n){const e=q0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:hv(i.substr(a.length+1))}}else{const[a,h]=i.split(":");return{host:a,port:hv(h)}}}function hv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function DR(n,e){return es(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return bl(n,"POST","/v1/accounts:signInWithPassword",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(n,e){return bl(n,"POST","/v1/accounts:signInWithEmailLink",Zi(n,e))}async function bR(n,e){return bl(n,"POST","/v1/accounts:signInWithEmailLink",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Pp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new El(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new El(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Of(e,t,"signInWithPassword",VR);case"emailLink":return LR(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Of(e,i,"signUpPassword",DR);case"emailLink":return bR(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e){return bl(n,"POST","/v1/accounts:signInWithIdp",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="http://localhost";class Fs extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Sp(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Fs(i,o);return h.idToken=a.idToken||void 0,h.accessToken=a.accessToken||void 0,h.secret=a.secret,h.nonce=a.nonce,h.pendingToken=a.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$o(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:OR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FR(n){const e=el(tl(n)).link,t=e?el(tl(e)).deep_link_id:null,i=el(tl(n)).deep_link_id;return(i?el(tl(i)).link:null)||i||t||e||n}class xp{constructor(e){var t,i,o,a,h,d;const p=el(tl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,T=MR((o=p.mode)!==null&&o!==void 0?o:null);ke(y&&w&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=w,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=FR(e);try{return new xp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,t){return El._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=xp.parseLink(t);return ke(i,"argument-error"),El._fromEmailAndCode(e,i.code,i.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends H0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ol{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Oi.credential(t,i)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ol{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ol{constructor(){super("twitter.com")}static credential(e,t){return Fs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Fi.credential(t,i)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n,e){return bl(n,"POST","/v1/accounts:signUp",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Qr._fromIdTokenResponse(e,i,o),h=dv(i);return new Us({user:a,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=dv(i);return new Us({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function dv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends si{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new zc(e,t,i,o)}}function W0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(n,a,e,i):a})}async function jR(n,e,t=!1){const i=await wl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Us._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e,t=!1){const{auth:i}=n;if(Ar(i.app))return Promise.reject(Jr(i));const o="reauthenticate";try{const a=await wl(n,W0(i,o,e,n),t);ke(a.idToken,i,"internal-error");const h=Cp(a.idToken);ke(h,i,"internal-error");const{sub:d}=h;return ke(n.uid===d,i,"user-mismatch"),Us._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(n,e,t=!1){if(Ar(n.app))return Promise.reject(Jr(n));const i="signIn",o=await W0(n,i,e),a=await Us._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function BR(n,e){return K0(Bs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(n){const e=Bs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $R(n,e,t){if(Ar(n.app))return Promise.reject(Jr(n));const i=Bs(n),h=await Of(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&G0(n),p}),d=await Us._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(d.user),d}function qR(n,e,t){return Ar(n.app)?Promise.reject(Jr(n)):BR(Ft(n),sa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&G0(n),i})}function HR(n,e,t,i){return Ft(n).onIdTokenChanged(e,t,i)}function WR(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function KR(n,e,t,i){return Ft(n).onAuthStateChanged(e,t,i)}function GR(n){return Ft(n).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1e3,YR=10;class Y0 extends Q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},a=this.storage.getItem(i);fR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y0.type="LOCAL";const XR=Y0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}X0.type="SESSION";const J0=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new dh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,a)),p=await JR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,h;return new Promise((d,p)=>{const y=Np("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function eC(n){xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function tC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rC(){return Z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",iC=1,$c="firebaseLocalStorage",tw="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fh(n,e){return n.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function sC(){const n=indexedDB.deleteDatabase(ew);return new Ml(n).toPromise()}function Mf(){const n=indexedDB.open(ew,iC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($c,{keyPath:tw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($c)?e(i):(i.close(),await sC(),e(await Mf()))})})}async function fv(n,e,t){const i=fh(n,!0).put({[tw]:e,value:t});return new Ml(i).toPromise()}async function oC(n,e){const t=fh(n,!1).get(e),i=await new Ml(t).toPromise();return i===void 0?null:i.value}function pv(n,e){const t=fh(n,!0).delete(e);return new Ml(t).toPromise()}const aC=800,lC=3;class nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>lC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new ZR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mf();return await fv(e,Bc,"1"),await pv(e,Bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>oC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=fh(o,!1).getAll();return new Ml(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nw.type="LOCAL";const uC=nw;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n,e){return e?Yr(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hC(n){return K0(n.auth,new Dp(n),n.bypassAuthState)}function dC(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),zR(t,new Dp(n),n.bypassAuthState)}async function fC(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),jR(t,new Dp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return dC;default:lr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Ll(2e3,1e4);class Uo extends rw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pC.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="pendingRedirect",vc=new Map;class gC extends rw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const i=await yC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yC(n,e){const t=wC(e),i=_C(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function vC(n,e){vc.set(n._key(),e)}function _C(n){return Yr(n._redirectPersistence)}function wC(n){return yc(mC,n.config.apiKey,n.name)}async function EC(n,e,t=!1){if(Ar(n.app))return Promise.reject(Jr(n));const i=Bs(n),o=cC(i,e),h=await new gC(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=10*60*1e3;class IC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!iw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(mv(e))}saveEventToCache(e){this.cachedEventUids.add(mv(e)),this.lastProcessedEventTime=Date.now()}}function mv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(n,e={}){return es(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CC=/^https?/;async function kC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AC(n);for(const t of e)try{if(PC(t))return}catch{}lr(n,"unauthorized-domain")}function PC(n){const e=Lf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!CC.test(t))return!1;if(RC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Ll(3e4,6e4);function gv(){const n=xr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NC(n){return new Promise((e,t)=>{var i,o,a;function h(){gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gv(),t(Pr(n,"network-request-failed"))},timeout:xC.get()})}if(!((o=(i=xr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=xr().gapi)===null||a===void 0)&&a.load)h();else{const d=TR("iframefcb");return xr()[d]=()=>{gapi.load?h():t(Pr(n,"network-request-failed"))},B0(`${ER()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw _c=null,e})}let _c=null;function DC(n){return _c=_c||NC(n),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Ll(5e3,15e3),LC="__/auth/iframe",bC="emulator/auth/iframe",OC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Rp(e,bC):`https://${n.config.authDomain}/${LC}`,i={apiKey:e.apiKey,appName:n.name,v:Jo},o=MC.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Sl(i).slice(1)}`}async function UC(n){const e=await DC(n),t=xr().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:FC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OC,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const h=Pr(n,"network-request-failed"),d=xr().setTimeout(()=>{a(h)},VC.get());function p(){xr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,BC=600,$C="_blank",qC="http://localhost";class yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HC(n,e,t,i=zC,o=BC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},jC),{width:i.toString(),height:o.toString(),top:a,left:h}),y=en().toLowerCase();t&&(d=b0(y)?$C:t),V0(y)&&(e=e||qC,p.scrollbars="yes");const w=Object.entries(p).reduce((I,[L,O])=>`${I}${L}=${O},`,"");if(dR(y)&&d!=="_self")return WC(e||"",d),new yv(null);const T=window.open(e||"",d,w);ke(T,n,"popup-blocked");try{T.focus()}catch{}return new yv(T)}function WC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__/auth/handler",GC="emulator/auth/handler",QC=encodeURIComponent("fac");async function vv(n,e,t,i,o,a){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Jo,eventId:o};if(e instanceof H0){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",cT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof Ol){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const p=await n._getAppCheckToken(),y=p?`#${QC}=${encodeURIComponent(p)}`:"";return`${YC(n)}?${Sl(d).slice(1)}${y}`}function YC({config:n}){return n.emulator?Rp(n,GC):`https://${n.authDomain}/${KC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=EC,this._overrideRedirectResult=vC}async _openPopup(e,t,i,o){var a;ii((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const h=await vv(e,t,i,Lf(),o);return HC(e,h,Np())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await vv(e,t,i,Lf(),o);return eC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ii(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await UC(e),i=new IC(e);return t.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(of,{type:of},o=>{var a;const h=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[of];h!==void 0&&t(!!h),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j0()||L0()||kp()}}const JC=XC;var _v="@firebase/auth",wv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tk(n){qo(new Os("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;ke(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(n)},y=new vR(i,o,a,p);return kR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),qo(new Os("auth-internal",e=>{const t=Bs(e.getProvider("auth").getImmediate());return(i=>new ZC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(_v,wv,ek(n)),$i(_v,wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=5*60,rk=Wv("authIdTokenMaxAge")||nk;let Ev=null;const ik=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>rk)return;const o=t==null?void 0:t.token;Ev!==o&&(Ev=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sk(n=Yv()){const e=qf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CR(n,{popupRedirectResolver:JC,persistence:[uC,XR,J0]}),i=Wv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const h=ik(a.toString());WR(t,h,()=>h(t.currentUser)),HR(t,d=>h(d))}}const o=qv("auth");return o&&PR(t,`http://${o}`),t}function ok(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_R({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Pr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",ok().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tk("Browser");const sw=G.createContext(null),ts=()=>G.useContext(sw),ak=({children:n})=>{const[e,t]=G.useState(null),i=sk(Zv);async function o(p,y){return await $R(i,p,y)}async function a(p,y){return await qR(i,p,y)}async function h(){return await GR(i),console.log("Sign Out Success"),!0}G.useEffect(()=>{KR(i,p=>{t(p||null)})},[]);const d={"auth/email-already-in-use":"User already exist","auth/invalid-credential":"Email or password is wrong.","auth/weak-password":"Password should be at least 6 characters.","auth/invalid-email":"Email is invalid.","auth/password-does-not-meet-requirements":"Password must contain at least 8 characters, a lower case character, an upper case character, a non-alphanumeric character."};return P.jsx(sw.Provider,{value:{signup:o,signin:a,signout:h,appUser:e,ERROR_CODES:d},children:n})},lk=({onClose:n,onAddTask:e})=>{const{appUser:t}=ts(),{date:i,time:o}=Rn.getTimeInString(Date.now()+(5*3600+1800)*1e3),[a,h]=G.useState({user:t.email,title:"",priority:1,completed:!1,startDate:i,startTime:o,endDate:i,endTime:o});return P.jsxs(P.Fragment,{children:[P.jsx("h2",{className:"text-4xl font-bold",children:"Add Task"}),P.jsxs("form",{className:"flex flex-col mt-5",onSubmit:d=>{d.preventDefault(),d.stopPropagation(),e(a)},children:[P.jsxs("div",{className:"w-full",children:[P.jsx("label",{className:"block text-sm font-bold",children:"Title:"}),P.jsx("input",{className:"rounded-md w-full",type:"text",placeholder:"Title",required:!0,value:a.id,onChange:d=>h({...a,title:d.target.value})})]}),P.jsxs("div",{className:"mt-2",children:[P.jsx("label",{className:"block text-sm font-bold",children:"Priority:"}),P.jsx("input",{className:"rounded-md w-full",type:"number",min:1,max:5,value:a.priority,onChange:d=>h({...a,priority:Number(d.target.value)})})]}),P.jsx("div",{className:"mt-2",children:P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-bold",children:"Status:"}),P.jsxs("div",{className:"flex justify-stretch",children:[P.jsxs("div",{children:[P.jsx("input",{className:"rounded-md",type:"radio",name:"completed",checked:!a.completed,onChange:d=>{h({...a,completed:!1})}})," Pending"]}),P.jsxs("div",{children:[P.jsx("input",{className:"ml-2 rounded-md",type:"radio",name:"completed",checked:a.completed,onChange:d=>{h({...a,completed:!0})}})," Completed"]})]})]})}),P.jsxs("div",{className:"mt-2",children:[P.jsx("label",{className:"block text-sm font-bold",children:"Start Date & Time:"}),P.jsxs("div",{children:[P.jsx("input",{className:"rounded-md me-2",type:"date",required:!0,value:a.startDate,onChange:d=>{h({...a,startDate:d.target.value})}}),P.jsx("input",{className:"rounded-md",type:"time",required:!0,value:a.startTime,onChange:d=>{h({...a,startTime:d.target.value})}})]})]}),P.jsxs("div",{className:"mt-2",children:[P.jsx("label",{className:"block text-sm font-bold",children:"End Date & Time:"}),P.jsxs("div",{children:[P.jsx("input",{className:"rounded-md me-2",type:"date",value:a.endDate,required:!0,onChange:d=>{h({...a,endDate:d.target.value})}}),P.jsx("input",{className:"rounded-md",type:"time",required:!0,value:a.endTime,onChange:d=>{h({...a,endTime:d.target.value})}})]})]}),P.jsxs("div",{className:"flex flex-row justify-center",children:[P.jsx("button",{type:"submit",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-blue-700 hover:bg-blue-500  text-white",children:"Add"}),P.jsx("button",{type:"button",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-gray-700 hover:bg-gray-500  text-white",onClick:d=>{d.preventDefault(),n()},children:"Cancel"})]})]})]})},uk=({selectedTasks:n,onClose:e,onDelete:t})=>P.jsxs("div",{className:"flex flex-col gap-2",children:[P.jsx("i",{className:"fa-solid fa-trash fa-2xl text-6xl text-center",style:{color:"#ff0000"}}),P.jsx("h2",{className:"text-2xl text-center",children:"Are you sure?"}),P.jsxs("p",{className:"text-lg text-center font-light",children:["You are about to delete (",n.size,") tasks."]}),P.jsxs("div",{className:"flex flex-row justify-center",children:[P.jsx("button",{type:"button",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-red-700 hover:bg-red-500  text-white",onClick:i=>{t()},children:"Delete"}),P.jsx("button",{type:"button",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-gray-700 hover:bg-gray-500  text-white",onClick:i=>{i.preventDefault(),e()},children:"Cancel"})]})]}),ow=({columns:n,matrix:e})=>P.jsxs("table",{className:"m-5 table-fixed font-medium border border-collapse border-slate-500",children:[P.jsx(ck,{children:P.jsx(af,{children:n==null?void 0:n.map((t,i)=>P.jsx(dk,{className:"p-2 border border-slate-600 bg-slate-500 text-white",children:t},i))})}),P.jsxs(hk,{children:[e.map((t,i)=>P.jsx(af,{children:t.map((o,a)=>P.jsx(Tv,{className:"text-center border p-2 border-slate-600",children:o},a))},i)),e.length===0&&P.jsx(af,{children:P.jsx(Tv,{className:"text-center border p-2 border-slate-600",colSpan:n.length,children:"No Data Available"})})]})]});function ck({children:n,className:e}){return P.jsx("thead",{className:e,children:n})}function hk({children:n,className:e}){return P.jsx("tbody",{className:e,children:n})}function af({children:n,className:e}){return P.jsxs("tr",{className:e,children:[" ",n," "]})}function Tv({children:n,className:e,colSpan:t=1}){return P.jsxs("td",{className:e,colSpan:t,children:[" ",n]})}function dk({children:n,className:e}){return P.jsx("th",{className:e,children:n})}function wc({open:n=!1,onClose:e,children:t}){return P.jsx("div",{className:`
        fixed inset-0 flex justify-center items-center transition-colors ${n?"visible bg-black/80":"invisible"}
      `,children:P.jsxs("div",{onClick:i=>{i.stopPropagation()},className:`
          bg-white rounded-xl shadow-lg p-6 transition-shadow
          ${n?"scale-100 opacity-100 w-1/2":"scale-125 opacity-0"}
        `,children:[P.jsx("button",{onClick:i=>{i.stopPropagation(),e()},className:"absolute top-2 right-2 p-1 rounded-lg text-gray-400 bg-white hover:bg-gray-50 hover:text-gray-600",children:P.jsx("i",{className:"fa-solid fa-xmark fa-xl"})}),t]})})}function fk(n){const{appUser:e}=ts(),[t,i]=G.useState([cl("user","==",e.email)]),[o,a]=G.useState(!0),[h,d]=G.useState([]),[p,y]=G.useState(null);return G.useEffect(()=>{o&&(console.log("Fetching tasks starts"),I0(t).then(w=>{const T=[];w.forEach(I=>T.push({...I.data(),id:I.id})),console.log("Fetching tasks starts :: success :: ",T),d(T),y(null)}).catch(w=>{console.error("Fetching tasks starts :: failed :: ",w),y(w)}).finally(()=>{a(!1)}))},[o]),{data:h,error:p,refresh:o,setRefresh:a,setQuery:i}}const aw=()=>P.jsx("div",{className:"fixed inset-0 flex justify-center items-center transition-colors visible bg-black/80",children:P.jsx("div",{className:"border-gray-300 h-20 w-20 animate-spin rounded-full border-8 border-t-blue-600"})}),pk=()=>{const n={priority:{key:"priority",options:[1,2,3,4,5]},completed:{key:"completed",options:[!0,!1]}},[e,t]=G.useState(new Set([])),[i,o]=G.useState(null),[a,h]=G.useState(!1),[d,p]=G.useState(!1),[y,w]=G.useState(n),{data:T,error:I,refresh:L,setRefresh:O,setQuery:H}=fk();G.useEffect(()=>{const ne=[cl("user","==",F.email)];y.priority.options.length===1&&ne.push(cl("priority","==",y.priority.options.at(0))),y.completed.options.length===1&&ne.push(cl("completed","==",y.completed.options.at(0))),H(ne),O(!0)},[y]);const{appUser:F}=ts();async function Q(ne){try{console.log("insert new task :: starts :: ",ne);const fe=await jA(ne);console.log("insert task :: success :: id :: ",fe),h(x=>x=!1),O(!0)}catch{console.error("insert new task :: failed :: ",err),h(fe=>!1)}}async function Y(ne){try{console.log("update task :: starts :: id :: data :: ",i,ne);const fe=await BA(i,ne);console.log("update task :: success :: ",i),o(x=>x=null),O(!0)}catch(fe){console.error("update task :: failed :: id :: ",i," :: ",fe),o(x=>null)}}async function se(){try{console.log("deleteing selected task :: starts :: ",e);const ne=$A([...e]);console.log("deleteing task :: success :: ",ne),p(!1),t(new Set([])),O(!0)}catch(ne){console.error("deleting task :: failed :: ",ne),o(fe=>null)}}function de(ne,fe){ne==="priority"?Number(fe.target.value)===-1?w({...y,priority:{key:"priority",options:[1,2,3,4,5]}}):w({...y,priority:{key:"priority",options:[Number(fe.target.value)]}}):ne==="completed"&&(Number(fe.target.value)===-1?w({...y,completed:{key:"completed",options:[!0,!1]}}):w({...y,completed:{key:"completed",options:[fe.target.value==!0]}}))}return L?P.jsx(aw,{}):P.jsxs("div",{className:"flex-grow",children:[P.jsx("h2",{className:"m-5 text-4xl font-bold",children:"Task List"}),P.jsx("div",{className:"m-5 flex flex-row p-2 text-white justify-between",children:P.jsxs("div",{className:"flex flex-row w-full",children:[P.jsxs("button",{className:"me-5 p-2 font-medium rounded-md cursor-pointer border border-blue-700 text-blue-700",onClick:()=>{h(!0)},children:[P.jsx("i",{className:"fa-solid fa-circle-plus fa-sm mr-1",style:{color:"#005eff"}}),"Add Task"]}),P.jsxs("button",{className:"p-2 font-medium rounded-md cursor-pointer border border-red-700 text-red-700",onClick:ne=>p(!0),hidden:e.size===0,children:[P.jsx("i",{className:"fa-solid fa-trash fa-sm text-center mr-1",style:{color:"#ff0000"}}),"Delete Selected"]}),P.jsxs("div",{className:"ml-auto flex gap-2",children:[P.jsxs("select",{className:"text-black rounded-md",name:"priority",value:y.priority.options.length===5?-1:y.priority.options[0],onChange:ne=>{de("priority",ne)},children:[P.jsx("option",{value:-1,children:"Priority: All"})," // -1",P.jsx("option",{value:1,children:"Priority: 1"})," // 1",P.jsx("option",{value:2,children:"Priority: 2"})," //",P.jsx("option",{value:3,children:"Priority: 3"}),P.jsx("option",{value:4,children:"Priority: 4"}),P.jsx("option",{value:5,children:"Priority: 5"})]}),P.jsxs("select",{className:"text-black rounded-md",name:"completed",value:y.completed.options.length===2?-1:y.completed.options.includes(!1)?0:1,onChange:ne=>{de("completed",ne)},children:[P.jsx("option",{value:-1,children:"Status: All"}),P.jsx("option",{value:0,children:"Status: Pending"}),P.jsx("option",{value:1,children:"Status: Finished"})]})]})]})}),T&&P.jsx(ow,{columns:[P.jsx("input",{type:"checkbox",onChange:ne=>{if(!ne.target.checked)t(new Set([]));else{const fe=T.map(x=>x.id);t(new Set(fe))}},checked:e.size===T.length&&T.length!==0}),"Title","Priority","Status","Start Time","End Time","Time To Finish(hrs)","Edit"],matrix:T.map(ne=>[P.jsx("input",{type:"checkbox",checked:e.has(ne.id),onChange:fe=>{fe.target.checked?e.add(ne.id):e.delete(ne.id),t(new Set(e))},color:"black"}),ne.title,ne.priority,ne.completed?"Finished":"Pending",`${ne.startDate} ${Rn.convertTimeIn12Hour(ne.startTime+":00")}`,`${ne.endDate} ${Rn.convertTimeIn12Hour(ne.endTime+":00")}`,qA(ne.startDate,ne.startTime,ne.endDate,ne.endTime),P.jsx("i",{className:"fa-solid fa-pencil",onClick:()=>{o(ne.id)}})])}),P.jsx(wc,{open:i!==null,onClose:()=>o(null),tasktoEdit:i,children:i&&P.jsx(WA,{taskToEdit:i,onUpdate:Y,onClose:()=>o(null)})}),P.jsx(wc,{open:a===!0,onClose:()=>h(!1),children:a&&P.jsx(lk,{onAddTask:Q,onClose:()=>h(!1)})}),P.jsx(wc,{open:d===!0,onClose:()=>h(!1),children:d&&P.jsx(uk,{selectedTasks:e,onDelete:se,onClose:()=>p(!1)})})]})};var Ya={},Iv;function mk(){if(Iv)return Ya;Iv=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.parse=h,Ya.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,L){const O=new a,H=I.length;if(H<2)return O;const F=(L==null?void 0:L.decode)||w;let Q=0;do{const Y=I.indexOf("=",Q);if(Y===-1)break;const se=I.indexOf(";",Q),de=se===-1?H:se;if(Y>de){Q=I.lastIndexOf(";",Y-1)+1;continue}const ne=d(I,Q,Y),fe=p(I,Y,ne),x=I.slice(ne,fe);if(O[x]===void 0){let S=d(I,Y+1,de),C=p(I,de,S);const k=F(I.slice(S,C));O[x]=k}Q=de+1}while(Q<H);return O}function d(I,L,O){do{const H=I.charCodeAt(L);if(H!==32&&H!==9)return L}while(++L<O);return O}function p(I,L,O){for(;L>O;){const H=I.charCodeAt(--L);if(H!==32&&H!==9)return L+1}return O}function y(I,L,O){const H=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const F=H(L);if(!e.test(F))throw new TypeError(`argument val is invalid: ${L}`);let Q=I+"="+F;if(!O)return Q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);Q+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);Q+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);Q+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);Q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(Q+="; HttpOnly"),O.secure&&(Q+="; Secure"),O.partitioned&&(Q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return Q}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return Ya}mk();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sv="popstate";function gk(n={}){function e(i,o){let{pathname:a,search:h,hash:d}=i.location;return Ff("",{pathname:a,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Tl(o)}return vk(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yk(){return Math.random().toString(36).substring(2,10)}function Av(n,e){return{usr:n.state,key:n.key,idx:e}}function Ff(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:t,key:e&&e.key||i||yk()}}function Tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function oa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function vk(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,h=o.history,d="POP",p=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function T(){d="POP";let F=w(),Q=F==null?null:F-y;y=F,p&&p({action:d,location:H.location,delta:Q})}function I(F,Q){d="PUSH";let Y=Ff(H.location,F,Q);y=w()+1;let se=Av(Y,y),de=H.createHref(Y);try{h.pushState(se,"",de)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(de)}a&&p&&p({action:d,location:H.location,delta:1})}function L(F,Q){d="REPLACE";let Y=Ff(H.location,F,Q);y=w();let se=Av(Y,y),de=H.createHref(Y);h.replaceState(se,"",de),a&&p&&p({action:d,location:H.location,delta:0})}function O(F){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof F=="string"?F:Tl(F);return Y=Y.replace(/ $/,"%20"),dt(Q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,Q)}let H={get action(){return d},get location(){return n(o,h)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sv,T),p=F,()=>{o.removeEventListener(Sv,T),p=null}},createHref(F){return e(o,F)},createURL:O,encodeLocation(F){let Q=O(F);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:L,go(F){return h.go(F)}};return H}function lw(n,e,t="/"){return _k(n,e,t,!1)}function _k(n,e,t,i){let o=typeof e=="string"?oa(e):e,a=Yi(o.pathname||"/",t);if(a==null)return null;let h=uw(n);wk(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=Nk(a);d=Pk(h[p],y,i)}return d}function uw(n,e=[],t=[],i=""){let o=(a,h,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:h,route:a};p.relativePath.startsWith("/")&&(dt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Zr([i,p.relativePath]),w=t.concat(p);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uw(a.children,e,w,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:Ck(y,a.index),routesMeta:w})};return n.forEach((a,h)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,h);else for(let p of cw(a.path))o(a,h,p)}),e}function cw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let h=cw(i.join("/")),d=[];return d.push(...h.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...h),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function wk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Ek=/^:[\w-]+$/,Tk=3,Ik=2,Sk=1,Ak=10,Rk=-2,Rv=n=>n==="*";function Ck(n,e){let t=n.split("/"),i=t.length;return t.some(Rv)&&(i+=Rk),e&&(i+=Ik),t.filter(o=>!Rv(o)).reduce((o,a)=>o+(Ek.test(a)?Tk:a===""?Sk:Ak),i)}function kk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Pk(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,w=a==="/"?e:e.slice(a.length)||"/",T=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),I=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Zr([a,T.pathname]),pathnameBase:bk(Zr([a,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(a=Zr([a,T.pathnameBase]))}return h}function qc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=xk(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],h=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:T},I)=>{if(w==="*"){let O=d[I]||"";h=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const L=d[I];return T&&!L?y[w]=void 0:y[w]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:h,pattern:n}}function xk(n,e=!1,t=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Nk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Yi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Dk(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?oa(n):n;return{pathname:t?t.startsWith("/")?t:Vk(t,e):e,search:Ok(i),hash:Mk(o)}}function Vk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function lf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vp(n){let e=Lk(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Lp(n,e,t,i=!1){let o;typeof n=="string"?o=oa(n):(o={...n},dt(!o.pathname||!o.pathname.includes("?"),lf("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),lf("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),lf("#","search","hash",o)));let a=n===""||o.pathname==="",h=a?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let p=Dk(o,d),y=h&&h!=="/"&&h.endsWith("/"),w=(a||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var Zr=n=>n.join("/").replace(/\/\/+/g,"/"),bk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Mk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Fk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hw=["POST","PUT","PATCH","DELETE"];new Set(hw);var Uk=["GET",...hw];new Set(Uk);var aa=G.createContext(null);aa.displayName="DataRouter";var ph=G.createContext(null);ph.displayName="DataRouterState";var dw=G.createContext({isTransitioning:!1});dw.displayName="ViewTransition";var jk=G.createContext(new Map);jk.displayName="Fetchers";var zk=G.createContext(null);zk.displayName="Await";var ur=G.createContext(null);ur.displayName="Navigation";var Fl=G.createContext(null);Fl.displayName="Location";var cr=G.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var bp=G.createContext(null);bp.displayName="RouteError";function Bk(n,{relative:e}={}){dt(la(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=G.useContext(ur),{hash:o,pathname:a,search:h}=jl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Zr([t,a])),i.createHref({pathname:d,search:h,hash:o})}function la(){return G.useContext(Fl)!=null}function ns(){return dt(la(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Fl).location}var fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(n){G.useContext(ur).static||G.useLayoutEffect(n)}function Ul(){let{isDataRoute:n}=G.useContext(cr);return n?rP():$k()}function $k(){dt(la(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(aa),{basename:e,navigator:t}=G.useContext(ur),{matches:i}=G.useContext(cr),{pathname:o}=ns(),a=JSON.stringify(Vp(i)),h=G.useRef(!1);return pw(()=>{h.current=!0}),G.useCallback((p,y={})=>{if(oi(h.current,fw),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=Lp(p,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Zr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,a,o,n])}var qk=G.createContext(null);function Hk(n){let e=G.useContext(cr).outlet;return e&&G.createElement(qk.Provider,{value:n},e)}function jl(n,{relative:e}={}){let{matches:t}=G.useContext(cr),{pathname:i}=ns(),o=JSON.stringify(Vp(t));return G.useMemo(()=>Lp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function Wk(n,e){return mw(n,e)}function mw(n,e,t,i){var H;dt(la(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(ur),{matches:a}=G.useContext(cr),h=a[a.length-1],d=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let y=ns(),w;if(e){let F=typeof e=="string"?oa(e):e;dt(p==="/"||((H=F.pathname)==null?void 0:H.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=y;let T=w.pathname||"/",I=T;if(p!=="/"){let F=p.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(F.length).join("/")}let L=lw(n,{pathname:I}),O=Xk(L&&L.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Zr([p,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Zr([p,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,t,i);return e&&O?G.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function Kk(){let n=nP(),e=Fk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,null)}var Gk=G.createElement(Kk,null),Qk=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?G.createElement(cr.Provider,{value:this.props.routeContext},G.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yk({routeContext:n,match:e,children:t}){let i=G.useContext(aa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(cr.Provider,{value:n},t)}function Xk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:w,errors:T}=t,I=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let T,I=!1,L=null,O=null;t&&(T=a&&y.route.id?a[y.route.id]:void 0,L=y.route.errorElement||Gk,h&&(d<0&&w===0?(iP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):d===w&&(I=!0,O=y.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,w+1)),F=()=>{let Q;return T?Q=L:I?Q=O:y.route.Component?Q=G.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,G.createElement(Yk,{match:y,routeContext:{outlet:p,matches:H,isDataRoute:t!=null},children:Q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?G.createElement(Qk,{location:t.location,revalidation:t.revalidation,component:L,error:T,children:F(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):F()},null)}function Op(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jk(n){let e=G.useContext(aa);return dt(e,Op(n)),e}function Zk(n){let e=G.useContext(ph);return dt(e,Op(n)),e}function eP(n){let e=G.useContext(cr);return dt(e,Op(n)),e}function Mp(n){let e=eP(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tP(){return Mp("useRouteId")}function nP(){var i;let n=G.useContext(bp),e=Zk("useRouteError"),t=Mp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function rP(){let{router:n}=Jk("useNavigate"),e=Mp("useNavigate"),t=G.useRef(!1);return pw(()=>{t.current=!0}),G.useCallback(async(o,a={})=>{oi(t.current,fw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Cv={};function iP(n,e,t){Cv[n]||(Cv[n]=!0,oi(!1,t))}G.memo(sP);function sP({routes:n,future:e,state:t}){return mw(n,void 0,t,e)}function Ec({to:n,replace:e,state:t,relative:i}){dt(la(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(ur);oi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=G.useContext(cr),{pathname:h}=ns(),d=Ul(),p=Lp(n,Vp(a),h,i==="path"),y=JSON.stringify(p);return G.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:i})},[d,y,i,e,t]),null}function oP(n){return Hk(n.context)}function Li(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){dt(!la(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=G.useMemo(()=>({basename:h,navigator:o,static:a,future:{}}),[h,o,a]);typeof t=="string"&&(t=oa(t));let{pathname:p="/",search:y="",hash:w="",state:T=null,key:I="default"}=t,L=G.useMemo(()=>{let O=Yi(p,h);return O==null?null:{location:{pathname:O,search:y,hash:w,state:T,key:I},navigationType:i}},[h,p,y,w,T,I,i]);return oi(L!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:G.createElement(ur.Provider,{value:d},G.createElement(Fl.Provider,{children:e,value:L}))}function lP({children:n,location:e}){return Wk(Uf(n),e)}function Uf(n,e=[]){let t=[];return G.Children.forEach(n,(i,o)=>{if(!G.isValidElement(i))return;let a=[...e,o];if(i.type===G.Fragment){t.push.apply(t,Uf(i.props.children,a));return}dt(i.type===Li,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Uf(i.props.children,a)),t.push(h)}),t}var Tc="get",Ic="application/x-www-form-urlencoded";function mh(n){return n!=null&&typeof n.tagName=="string"}function uP(n){return mh(n)&&n.tagName.toLowerCase()==="button"}function cP(n){return mh(n)&&n.tagName.toLowerCase()==="form"}function hP(n){return mh(n)&&n.tagName.toLowerCase()==="input"}function dP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fP(n,e){return n.button===0&&(!e||e==="_self")&&!dP(n)}var uc=null;function pP(){if(uc===null)try{new FormData(document.createElement("form"),0),uc=!1}catch{uc=!0}return uc}var mP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uf(n){return n!=null&&!mP.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):n}function gP(n,e){let t,i,o,a,h;if(cP(n)){let d=n.getAttribute("action");i=d?Yi(d,e):null,t=n.getAttribute("method")||Tc,o=uf(n.getAttribute("enctype"))||Ic,a=new FormData(n)}else if(uP(n)||hP(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Yi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Tc,o=uf(n.getAttribute("formenctype"))||uf(d.getAttribute("enctype"))||Ic,a=new FormData(d,n),!pP()){let{name:y,type:w,value:T}=n;if(w==="image"){let I=y?`${y}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else y&&a.append(y,T)}}else{if(mh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,i=null,o=Ic,h=n}return a&&o==="text/plain"&&(h=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:h}}function Fp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _P(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let h=await yP(a,t);return h.links?h.links():[]}return[]}));return IP(i.flat(1).filter(vP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(n,e,t,i,o,a){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var w;return t[y].pathname!==p.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):a==="data"?e.filter((p,y)=>{var T;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function wP(n,e){return EP(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function EP(n){return[...new Set(n)]}function TP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function IP(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(TP(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function SP(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function AP(){let n=G.useContext(aa);return Fp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RP(){let n=G.useContext(ph);return Fp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Up=G.createContext(void 0);Up.displayName="FrameworkContext";function gw(){let n=G.useContext(Up);return Fp(n,"You must render this element inside a <HydratedRouter> element"),n}function CP(n,e){let t=G.useContext(Up),[i,o]=G.useState(!1),[a,h]=G.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,I=G.useRef(null);G.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let H=Q=>{Q.forEach(Y=>{h(Y.isIntersecting)})},F=new IntersectionObserver(H,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[n]),G.useEffect(()=>{if(i){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[i]);let L=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:Xa(d,L),onBlur:Xa(p,O),onMouseEnter:Xa(y,L),onMouseLeave:Xa(w,O),onTouchStart:Xa(T,L)}]:[!1,I,{}]}function Xa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kP({page:n,...e}){let{router:t}=AP(),i=G.useMemo(()=>lw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?G.createElement(xP,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function PP(n){let{manifest:e,routeModules:t}=gw(),[i,o]=G.useState([]);return G.useEffect(()=>{let a=!1;return _P(n,e,t).then(h=>{a||o(h)}),()=>{a=!0}},[n,e,t]),i}function xP({page:n,matches:e,...t}){let i=ns(),{manifest:o,routeModules:a}=gw(),{loaderData:h,matches:d}=RP(),p=G.useMemo(()=>kv(n,e,d,o,i,"data"),[n,e,d,o,i]),y=G.useMemo(()=>kv(n,e,d,o,i,"assets"),[n,e,d,o,i]),w=G.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let L=new Set,O=!1;if(e.forEach(F=>{var Y;let Q=o.routes[F.route.id];!Q||!Q.hasLoader||(!p.some(se=>se.route.id===F.route.id)&&F.route.id in h&&((Y=a[F.route.id])!=null&&Y.shouldRevalidate)||Q.hasClientLoader?O=!0:L.add(F.route.id))}),L.size===0)return[];let H=SP(n);return O&&L.size>0&&H.searchParams.set("_routes",e.filter(F=>L.has(F.route.id)).map(F=>F.route.id).join(",")),[H.pathname+H.search]},[h,i,o,p,e,n,a]),T=G.useMemo(()=>wP(y,o),[y,o]),I=PP(y);return G.createElement(G.Fragment,null,w.map(L=>G.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),T.map(L=>G.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),I.map(({key:L,link:O})=>G.createElement("link",{key:L,...O})))}function NP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yw&&(window.__reactRouterVersion="7.0.1")}catch{}function DP({basename:n,children:e,window:t}){let i=G.useRef();i.current==null&&(i.current=gk({window:t,v5Compat:!0}));let o=i.current,[a,h]=G.useState({action:o.action,location:o.location}),d=G.useCallback(p=>{G.startTransition(()=>h(p))},[h]);return G.useLayoutEffect(()=>o.listen(d),[o,d]),G.createElement(aP,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gh=G.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:h,state:d,target:p,to:y,preventScrollReset:w,viewTransition:T,...I},L){let{basename:O}=G.useContext(ur),H=typeof y=="string"&&vw.test(y),F,Q=!1;if(typeof y=="string"&&H&&(F=y,yw))try{let C=new URL(window.location.href),k=y.startsWith("//")?new URL(C.protocol+y):new URL(y),M=Yi(k.pathname,O);k.origin===C.origin&&M!=null?y=M+k.search+k.hash:Q=!0}catch{oi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Bk(y,{relative:o}),[se,de,ne]=CP(i,I),fe=bP(y,{replace:h,state:d,target:p,preventScrollReset:w,relative:o,viewTransition:T});function x(C){e&&e(C),C.defaultPrevented||fe(C)}let S=G.createElement("a",{...I,...ne,href:F||Y,onClick:Q||a?e:x,ref:NP(L,de),target:p,"data-discover":!H&&t==="render"?"true":void 0});return se&&!H?G.createElement(G.Fragment,null,S,G.createElement(kP,{page:Y})):S});gh.displayName="Link";var Fo=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:h,viewTransition:d,children:p,...y},w){let T=jl(h,{relative:y.relative}),I=ns(),L=G.useContext(ph),{navigator:O,basename:H}=G.useContext(ur),F=L!=null&&jP(T)&&d===!0,Q=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,Y=I.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),se=se?se.toLowerCase():null,Q=Q.toLowerCase()),se&&H&&(se=Yi(se,H)||se);const de=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ne=Y===Q||!o&&Y.startsWith(Q)&&Y.charAt(de)==="/",fe=se!=null&&(se===Q||!o&&se.startsWith(Q)&&se.charAt(Q.length)==="/"),x={isActive:ne,isPending:fe,isTransitioning:F},S=ne?e:void 0,C;typeof i=="function"?C=i(x):C=[i,ne?"active":null,fe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(x):a;return G.createElement(gh,{...y,"aria-current":S,className:C,ref:w,style:k,to:h,viewTransition:d},typeof p=="function"?p(x):p)});Fo.displayName="NavLink";var VP=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:h=Tc,action:d,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:T,...I},L)=>{let O=FP(),H=UP(d,{relative:y}),F=h.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&vw.test(d),Y=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let de=se.nativeEvent.submitter,ne=(de==null?void 0:de.getAttribute("formmethod"))||h;O(de||se.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:T})};return G.createElement("form",{ref:L,method:F,action:H,onSubmit:i?p:Y,...I,"data-discover":!Q&&n==="render"?"true":void 0})});VP.displayName="Form";function LP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(n){let e=G.useContext(aa);return dt(e,LP(n)),e}function bP(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:h}={}){let d=Ul(),p=ns(),y=jl(n,{relative:a});return G.useCallback(w=>{if(fP(w,e)){w.preventDefault();let T=t!==void 0?t:Tl(p)===Tl(y);d(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:h})}},[p,d,y,t,i,e,n,o,a,h])}var OP=0,MP=()=>`__${String(++OP)}__`;function FP(){let{router:n}=_w("useSubmit"),{basename:e}=G.useContext(ur),t=tP();return G.useCallback(async(i,o={})=>{let{action:a,method:h,encType:d,formData:p,body:y}=gP(i,e);if(o.navigate===!1){let w=o.fetcherKey||MP();await n.fetch(w,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function UP(n,{relative:e}={}){let{basename:t}=G.useContext(ur),i=G.useContext(cr);dt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...jl(n||".",{relative:e})},h=ns();if(n==null){a.search=h.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(w=>w==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let w=d.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Zr([t,a.pathname])),Tl(a)}function jP(n,e={}){let t=G.useContext(dw);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_w("useViewTransitionState"),o=jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Yi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Yi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return qc(o.pathname,h)!=null||qc(o.pathname,a)!=null}new TextEncoder;const Pv=({stats:n})=>P.jsx("section",{className:"p-6 dark:bg-gray-100 dark:text-gray-800",children:P.jsx("div",{className:"container mx-auto grid justify-center grid-cols-2 text-center lg:grid-cols-5",children:n.map(({value:e,label:t},i)=>P.jsx(zP,{value:e,label:t},i))})}),zP=({value:n,label:e})=>P.jsxs("div",{className:"flex flex-col justify-start m-2 lg:m-6",children:[P.jsx("p",{className:"text-4xl font-bold leading-none lg:text-5xl text-purple-600",children:n}),P.jsx("p",{className:"text-sm sm:text-base",children:e})]}),BP=()=>{const[n,e]=G.useState(),{appUser:t}=ts();return G.useEffect(()=>{HA([cl("user","==",t.email)]).then(i=>{e(i)})},[]),n?P.jsxs("div",{className:"flex-grow",children:[P.jsx("h2",{className:"m-5 text-3xl font-bold",children:"Summery"}),P.jsx(Pv,{stats:[{value:`${n.total}`,label:"Total Tasks"},{value:`${Math.round(n.completed.count*100/(n.total||1))} %`,label:"Tasks Completed"},{value:`${Math.round(n.pending.count*100/(n.total||1))} %`,label:"Tasks Pending"},{value:`${Math.round(n.completed.totalTimePerCompletedTask/((n.completed.count||1)*36e5))} hrs`,label:"Average time per completed task"}]}),P.jsx("h2",{className:"m-5 text-3xl font-bold",children:"Pending Task Summary"}),P.jsx(Pv,{stats:[{value:`${n.pending.count}`,label:"Pending Tasks"},{value:`${Math.round(n.pending.totalTimelapsed/36e5)} hrs`,label:"Total time lapsed"},{value:`${Math.round(n.pending.totalTimeToFinish/36e5)} hrs`,label:"Total time to finish estimated based on endtime"}]}),P.jsx(ow,{columns:["Task Priority","Pending Tasks","Time lapsed(hrs)","Time to finish(hrs)"],matrix:n.pending.priority.filter(i=>i!==null).map(i=>[i.priority,i.count,Math.round(i.timeLapsed/36e5),Math.round(i.timeToFinish/36e5)])})]}):P.jsx(aw,{})};var zl=n=>n.type==="checkbox",Vs=n=>n instanceof Date,on=n=>n==null;const ww=n=>typeof n=="object";var Et=n=>!on(n)&&!Array.isArray(n)&&ww(n)&&!Vs(n),$P=n=>Et(n)&&n.target?zl(n.target)?n.target.checked:n.target.value:n,qP=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,HP=(n,e)=>n.has(qP(e)),WP=n=>{const e=n.constructor&&n.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},jp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(jp&&(n instanceof Blob||n instanceof FileList))&&(t||Et(n)))if(e=t?[]:{},!t&&!WP(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=jn(n[i]));else return n;return e}var yh=n=>Array.isArray(n)?n.filter(Boolean):[],_t=n=>n===void 0,_e=(n,e,t)=>{if(!e||!Et(n))return t;const i=yh(e.split(/[,[\].]+?/)).reduce((o,a)=>on(o)?o:o[a],n);return _t(i)||i===n?_t(n[e])?t:n[e]:i},Ir=n=>typeof n=="boolean",zp=n=>/^\w*$/.test(n),Ew=n=>yh(n.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(n,e,t)=>{let i=-1;const o=zp(e)?[e]:Ew(e),a=o.length,h=a-1;for(;++i<a;){const d=o[i];let p=t;if(i!==h){const y=n[d];p=Et(y)||Array.isArray(y)?y:isNaN(+o[i+1])?{}:[]}if(d==="__proto__")return;n[d]=p,n=n[d]}return n};const xv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},sr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};zn.createContext(null);var KP=(n,e,t,i=!0)=>{const o={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(o,a,{get:()=>{const h=a;return e._proxyFormState[h]!==sr.all&&(e._proxyFormState[h]=!i||sr.all),n[h]}});return o},mn=n=>Et(n)&&!Object.keys(n).length,GP=(n,e,t,i)=>{t(n);const{name:o,...a}=n;return mn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(h=>e[h]===sr.all)},Sc=n=>Array.isArray(n)?n:[n];function QP(n){const e=zn.useRef(n);e.current=n,zn.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var Rr=n=>typeof n=="string",YP=(n,e,t,i,o)=>Rr(n)?(i&&e.watch.add(n),_e(t,n,o)):Array.isArray(n)?n.map(a=>(i&&e.watch.add(a),_e(t,a))):(i&&(e.watchAll=!0),t),XP=(n,e,t,i,o)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:o||!0}}:{},Nv=n=>({isOnSubmit:!n||n===sr.onSubmit,isOnBlur:n===sr.onBlur,isOnChange:n===sr.onChange,isOnAll:n===sr.all,isOnTouch:n===sr.onTouched}),Dv=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const dl=(n,e,t,i)=>{for(const o of t||Object.keys(n)){const a=_e(n,o);if(a){const{_f:h,...d}=a;if(h){if(h.refs&&h.refs[0]&&e(h.refs[0],o)&&!i)return!0;if(h.ref&&e(h.ref,h.name)&&!i)return!0;if(dl(d,e))break}else if(Et(d)&&dl(d,e))break}}};var JP=(n,e,t)=>{const i=Sc(_e(n,t));return lt(i,"root",e[t]),lt(n,t,i),n},Bp=n=>n.type==="file",Sr=n=>typeof n=="function",Hc=n=>{if(!jp)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ac=n=>Rr(n),$p=n=>n.type==="radio",Wc=n=>n instanceof RegExp;const Vv={value:!1,isValid:!1},Lv={value:!0,isValid:!0};var Tw=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!_t(n[0].attributes.value)?_t(n[0].value)||n[0].value===""?Lv:{value:n[0].value,isValid:!0}:Lv:Vv}return Vv};const bv={isValid:!1,value:null};var Iw=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,bv):bv;function Ov(n,e,t="validate"){if(Ac(n)||Array.isArray(n)&&n.every(Ac)||Ir(n)&&!n)return{type:t,message:Ac(n)?n:"",ref:e}}var Vo=n=>Et(n)&&!Wc(n)?n:{value:n,message:""},Mv=async(n,e,t,i,o)=>{const{ref:a,refs:h,required:d,maxLength:p,minLength:y,min:w,max:T,pattern:I,validate:L,name:O,valueAsNumber:H,mount:F,disabled:Q}=n._f,Y=_e(e,O);if(!F||Q)return{};const se=h?h[0]:a,de=V=>{i&&se.reportValidity&&(se.setCustomValidity(Ir(V)?"":V||""),se.reportValidity())},ne={},fe=$p(a),x=zl(a),S=fe||x,C=(H||Bp(a))&&_t(a.value)&&_t(Y)||Hc(a)&&a.value===""||Y===""||Array.isArray(Y)&&!Y.length,k=XP.bind(null,O,t,ne),M=(V,A,be,Ye=Kr.maxLength,nt=Kr.minLength)=>{const Oe=V?A:be;ne[O]={type:V?Ye:nt,message:Oe,ref:a,...k(V?Ye:nt,Oe)}};if(o?!Array.isArray(Y)||!Y.length:d&&(!S&&(C||on(Y))||Ir(Y)&&!Y||x&&!Tw(h).isValid||fe&&!Iw(h).isValid)){const{value:V,message:A}=Ac(d)?{value:!!d,message:d}:Vo(d);if(V&&(ne[O]={type:Kr.required,message:A,ref:se,...k(Kr.required,A)},!t))return de(A),ne}if(!C&&(!on(w)||!on(T))){let V,A;const be=Vo(T),Ye=Vo(w);if(!on(Y)&&!isNaN(Y)){const nt=a.valueAsNumber||Y&&+Y;on(be.value)||(V=nt>be.value),on(Ye.value)||(A=nt<Ye.value)}else{const nt=a.valueAsDate||new Date(Y),Oe=he=>new Date(new Date().toDateString()+" "+he),ae=a.type=="time",Te=a.type=="week";Rr(be.value)&&Y&&(V=ae?Oe(Y)>Oe(be.value):Te?Y>be.value:nt>new Date(be.value)),Rr(Ye.value)&&Y&&(A=ae?Oe(Y)<Oe(Ye.value):Te?Y<Ye.value:nt<new Date(Ye.value))}if((V||A)&&(M(!!V,be.message,Ye.message,Kr.max,Kr.min),!t))return de(ne[O].message),ne}if((p||y)&&!C&&(Rr(Y)||o&&Array.isArray(Y))){const V=Vo(p),A=Vo(y),be=!on(V.value)&&Y.length>+V.value,Ye=!on(A.value)&&Y.length<+A.value;if((be||Ye)&&(M(be,V.message,A.message),!t))return de(ne[O].message),ne}if(I&&!C&&Rr(Y)){const{value:V,message:A}=Vo(I);if(Wc(V)&&!Y.match(V)&&(ne[O]={type:Kr.pattern,message:A,ref:a,...k(Kr.pattern,A)},!t))return de(A),ne}if(L){if(Sr(L)){const V=await L(Y,e),A=Ov(V,se);if(A&&(ne[O]={...A,...k(Kr.validate,A.message)},!t))return de(A.message),ne}else if(Et(L)){let V={};for(const A in L){if(!mn(V)&&!t)break;const be=Ov(await L[A](Y,e),se,A);be&&(V={...be,...k(A,be.message)},de(be.message),t&&(ne[O]=V))}if(!mn(V)&&(ne[O]={ref:se,...V},!t))return ne}}return de(!0),ne};function ZP(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=_t(n)?i++:n[e[i++]];return n}function ex(n){for(const e in n)if(n.hasOwnProperty(e)&&!_t(n[e]))return!1;return!0}function xt(n,e){const t=Array.isArray(e)?e:zp(e)?[e]:Ew(e),i=t.length===1?n:ZP(n,t),o=t.length-1,a=t[o];return i&&delete i[a],o!==0&&(Et(i)&&mn(i)||Array.isArray(i)&&ex(i))&&xt(n,t.slice(0,-1)),n}var cf=()=>{let n=[];return{get observers(){return n},next:o=>{for(const a of n)a.next&&a.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(a=>a!==o)}}),unsubscribe:()=>{n=[]}}},jf=n=>on(n)||!ww(n);function Ui(n,e){if(jf(n)||jf(e))return n===e;if(Vs(n)&&Vs(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const o of t){const a=n[o];if(!i.includes(o))return!1;if(o!=="ref"){const h=e[o];if(Vs(a)&&Vs(h)||Et(a)&&Et(h)||Array.isArray(a)&&Array.isArray(h)?!Ui(a,h):a!==h)return!1}}return!0}var Sw=n=>n.type==="select-multiple",tx=n=>$p(n)||zl(n),hf=n=>Hc(n)&&n.isConnected,Aw=n=>{for(const e in n)if(Sr(n[e]))return!0;return!1};function Kc(n,e={}){const t=Array.isArray(n);if(Et(n)||t)for(const i in n)Array.isArray(n[i])||Et(n[i])&&!Aw(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Kc(n[i],e[i])):on(n[i])||(e[i]=!0);return e}function Rw(n,e,t){const i=Array.isArray(n);if(Et(n)||i)for(const o in n)Array.isArray(n[o])||Et(n[o])&&!Aw(n[o])?_t(e)||jf(t[o])?t[o]=Array.isArray(n[o])?Kc(n[o],[]):{...Kc(n[o])}:Rw(n[o],on(e)?{}:e[o],t[o]):t[o]=!Ui(n[o],e[o]);return t}var Ja=(n,e)=>Rw(n,e,Kc(e)),Cw=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>_t(n)?n:e?n===""?NaN:n&&+n:t&&Rr(n)?new Date(n):i?i(n):n;function df(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return Bp(e)?e.files:$p(e)?Iw(n.refs).value:Sw(e)?[...e.selectedOptions].map(({value:t})=>t):zl(e)?Tw(n.refs).value:Cw(_t(e.value)?n.ref.value:e.value,n)}var nx=(n,e,t,i)=>{const o={};for(const a of n){const h=_e(e,a);h&&lt(o,a,h._f)}return{criteriaMode:t,names:[...n],fields:o,shouldUseNativeValidation:i}},Za=n=>_t(n)?n:Wc(n)?n.source:Et(n)?Wc(n.value)?n.value.source:n.value:n;const Fv="AsyncFunction";var rx=n=>(!n||!n.validate)&&!!(Sr(n.validate)&&n.validate.constructor.name===Fv||Et(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Fv)),ix=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function Uv(n,e,t){const i=_e(n,t);if(i||zp(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const a=o.join("."),h=_e(e,a),d=_e(n,a);if(h&&!Array.isArray(h)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:t}}var sx=(n,e,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||n):(t?i.isOnBlur:o.isOnBlur)?!n:(t?i.isOnChange:o.isOnChange)?n:!0,ox=(n,e)=>!yh(_e(n,e)).length&&xt(n,e);const ax={mode:sr.onSubmit,reValidateMode:sr.onChange,shouldFocusError:!0};function lx(n={}){let e={...ax,...n},t={submitCount:0,isDirty:!1,isLoading:Sr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},o=Et(e.defaultValues)||Et(e.values)?jn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:jn(o),h={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},T={values:cf(),array:cf(),state:cf()},I=Nv(e.mode),L=Nv(e.reValidateMode),O=e.criteriaMode===sr.all,H=N=>$=>{clearTimeout(y),y=setTimeout(N,$)},F=async N=>{if(!e.disabled&&(w.isValid||N)){const $=e.resolver?mn((await S()).errors):await k(i,!0);$!==t.isValid&&T.state.next({isValid:$})}},Q=(N,$)=>{!e.disabled&&(w.isValidating||w.validatingFields)&&((N||Array.from(d.mount)).forEach(K=>{K&&($?lt(t.validatingFields,K,$):xt(t.validatingFields,K))}),T.state.next({validatingFields:t.validatingFields,isValidating:!mn(t.validatingFields)}))},Y=(N,$=[],K,ce,le=!0,ie=!0)=>{if(ce&&K&&!e.disabled){if(h.action=!0,ie&&Array.isArray(_e(i,N))){const Se=K(_e(i,N),ce.argA,ce.argB);le&&lt(i,N,Se)}if(ie&&Array.isArray(_e(t.errors,N))){const Se=K(_e(t.errors,N),ce.argA,ce.argB);le&&lt(t.errors,N,Se),ox(t.errors,N)}if(w.touchedFields&&ie&&Array.isArray(_e(t.touchedFields,N))){const Se=K(_e(t.touchedFields,N),ce.argA,ce.argB);le&&lt(t.touchedFields,N,Se)}w.dirtyFields&&(t.dirtyFields=Ja(o,a)),T.state.next({name:N,isDirty:V(N,$),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else lt(a,N,$)},se=(N,$)=>{lt(t.errors,N,$),T.state.next({errors:t.errors})},de=N=>{t.errors=N,T.state.next({errors:t.errors,isValid:!1})},ne=(N,$,K,ce)=>{const le=_e(i,N);if(le){const ie=_e(a,N,_t(K)?_e(o,N):K);_t(ie)||ce&&ce.defaultChecked||$?lt(a,N,$?ie:df(le._f)):Ye(N,ie),h.mount&&F()}},fe=(N,$,K,ce,le)=>{let ie=!1,Se=!1;const De={name:N};if(!e.disabled){const Ue=!!(_e(i,N)&&_e(i,N)._f&&_e(i,N)._f.disabled);if(!K||ce){w.isDirty&&(Se=t.isDirty,t.isDirty=De.isDirty=V(),ie=Se!==De.isDirty);const je=Ue||Ui(_e(o,N),$);Se=!!(!Ue&&_e(t.dirtyFields,N)),je||Ue?xt(t.dirtyFields,N):lt(t.dirtyFields,N,!0),De.dirtyFields=t.dirtyFields,ie=ie||w.dirtyFields&&Se!==!je}if(K){const je=_e(t.touchedFields,N);je||(lt(t.touchedFields,N,K),De.touchedFields=t.touchedFields,ie=ie||w.touchedFields&&je!==K)}ie&&le&&T.state.next(De)}return ie?De:{}},x=(N,$,K,ce)=>{const le=_e(t.errors,N),ie=w.isValid&&Ir($)&&t.isValid!==$;if(n.delayError&&K?(p=H(()=>se(N,K)),p(n.delayError)):(clearTimeout(y),p=null,K?lt(t.errors,N,K):xt(t.errors,N)),(K?!Ui(le,K):le)||!mn(ce)||ie){const Se={...ce,...ie&&Ir($)?{isValid:$}:{},errors:t.errors,name:N};t={...t,...Se},T.state.next(Se)}},S=async N=>{Q(N,!0);const $=await e.resolver(a,e.context,nx(N||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return Q(N),$},C=async N=>{const{errors:$}=await S(N);if(N)for(const K of N){const ce=_e($,K);ce?lt(t.errors,K,ce):xt(t.errors,K)}else t.errors=$;return $},k=async(N,$,K={valid:!0})=>{for(const ce in N){const le=N[ce];if(le){const{_f:ie,...Se}=le;if(ie){const De=d.array.has(ie.name),Ue=le._f&&rx(le._f);Ue&&w.validatingFields&&Q([ce],!0);const je=await Mv(le,a,O,e.shouldUseNativeValidation&&!$,De);if(Ue&&w.validatingFields&&Q([ce]),je[ie.name]&&(K.valid=!1,$))break;!$&&(_e(je,ie.name)?De?JP(t.errors,je,ie.name):lt(t.errors,ie.name,je[ie.name]):xt(t.errors,ie.name))}!mn(Se)&&await k(Se,$,K)}}return K.valid},M=()=>{for(const N of d.unMount){const $=_e(i,N);$&&($._f.refs?$._f.refs.every(K=>!hf(K)):!hf($._f.ref))&&Fe(N)}d.unMount=new Set},V=(N,$)=>!e.disabled&&(N&&$&&lt(a,N,$),!Ui(U(),o)),A=(N,$,K)=>YP(N,d,{...h.mount?a:_t($)?o:Rr(N)?{[N]:$}:$},K,$),be=N=>yh(_e(h.mount?a:o,N,n.shouldUnregister?_e(o,N,[]):[])),Ye=(N,$,K={})=>{const ce=_e(i,N);let le=$;if(ce){const ie=ce._f;ie&&(!ie.disabled&&lt(a,N,Cw($,ie)),le=Hc(ie.ref)&&on($)?"":$,Sw(ie.ref)?[...ie.ref.options].forEach(Se=>Se.selected=le.includes(Se.value)):ie.refs?zl(ie.ref)?ie.refs.length>1?ie.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(le)?!!le.find(De=>De===Se.value):le===Se.value)):ie.refs[0]&&(ie.refs[0].checked=!!le):ie.refs.forEach(Se=>Se.checked=Se.value===le):Bp(ie.ref)?ie.ref.value="":(ie.ref.value=le,ie.ref.type||T.values.next({name:N,values:{...a}})))}(K.shouldDirty||K.shouldTouch)&&fe(N,le,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&he(N)},nt=(N,$,K)=>{for(const ce in $){const le=$[ce],ie=`${N}.${ce}`,Se=_e(i,ie);(d.array.has(N)||Et(le)||Se&&!Se._f)&&!Vs(le)?nt(ie,le,K):Ye(ie,le,K)}},Oe=(N,$,K={})=>{const ce=_e(i,N),le=d.array.has(N),ie=jn($);lt(a,N,ie),le?(T.array.next({name:N,values:{...a}}),(w.isDirty||w.dirtyFields)&&K.shouldDirty&&T.state.next({name:N,dirtyFields:Ja(o,a),isDirty:V(N,ie)})):ce&&!ce._f&&!on(ie)?nt(N,ie,K):Ye(N,ie,K),Dv(N,d)&&T.state.next({...t}),T.values.next({name:h.mount?N:void 0,values:{...a}})},ae=async N=>{h.mount=!0;const $=N.target;let K=$.name,ce=!0;const le=_e(i,K),ie=()=>$.type?df(le._f):$P(N),Se=De=>{ce=Number.isNaN(De)||Vs(De)&&isNaN(De.getTime())||Ui(De,_e(a,K,De))};if(le){let De,Ue;const je=ie(),Ut=N.type===xv.BLUR||N.type===xv.FOCUS_OUT,is=!ix(le._f)&&!e.resolver&&!_e(t.errors,K)&&!le._f.deps||sx(Ut,_e(t.touchedFields,K),t.isSubmitted,L,I),Pn=Dv(K,d,Ut);lt(a,K,je),Ut?(le._f.onBlur&&le._f.onBlur(N),p&&p(0)):le._f.onChange&&le._f.onChange(N);const $n=fe(K,je,Ut,!1),Dr=!mn($n)||Pn;if(!Ut&&T.values.next({name:K,type:N.type,values:{...a}}),is)return w.isValid&&(n.mode==="onBlur"?Ut&&F():F()),Dr&&T.state.next({name:K,...Pn?{}:$n});if(!Ut&&Pn&&T.state.next({...t}),e.resolver){const{errors:li}=await S([K]);if(Se(je),ce){const ss=Uv(t.errors,i,K),ui=Uv(li,i,ss.name||K);De=ui.error,K=ui.name,Ue=mn(li)}}else Q([K],!0),De=(await Mv(le,a,O,e.shouldUseNativeValidation))[K],Q([K]),Se(je),ce&&(De?Ue=!1:w.isValid&&(Ue=await k(i,!0)));ce&&(le._f.deps&&he(le._f.deps),x(K,Ue,De,$n))}},Te=(N,$)=>{if(_e(t.errors,$)&&N.focus)return N.focus(),1},he=async(N,$={})=>{let K,ce;const le=Sc(N);if(e.resolver){const ie=await C(_t(N)?N:le);K=mn(ie),ce=N?!le.some(Se=>_e(ie,Se)):K}else N?(ce=(await Promise.all(le.map(async ie=>{const Se=_e(i,ie);return await k(Se&&Se._f?{[ie]:Se}:Se)}))).every(Boolean),!(!ce&&!t.isValid)&&F()):ce=K=await k(i);return T.state.next({...!Rr(N)||w.isValid&&K!==t.isValid?{}:{name:N},...e.resolver||!N?{isValid:K}:{},errors:t.errors}),$.shouldFocus&&!ce&&dl(i,Te,N?le:d.mount),ce},U=N=>{const $={...h.mount?a:o};return _t(N)?$:Rr(N)?_e($,N):N.map(K=>_e($,K))},X=(N,$)=>({invalid:!!_e(($||t).errors,N),isDirty:!!_e(($||t).dirtyFields,N),error:_e(($||t).errors,N),isValidating:!!_e(t.validatingFields,N),isTouched:!!_e(($||t).touchedFields,N)}),Ie=N=>{N&&Sc(N).forEach($=>xt(t.errors,$)),T.state.next({errors:N?t.errors:{}})},Le=(N,$,K)=>{const ce=(_e(i,N,{_f:{}})._f||{}).ref,le=_e(t.errors,N)||{},{ref:ie,message:Se,type:De,...Ue}=le;lt(t.errors,N,{...Ue,...$,ref:ce}),T.state.next({name:N,errors:t.errors,isValid:!1}),K&&K.shouldFocus&&ce&&ce.focus&&ce.focus()},Me=(N,$)=>Sr(N)?T.values.subscribe({next:K=>N(A(void 0,$),K)}):A(N,$,!0),Fe=(N,$={})=>{for(const K of N?Sc(N):d.mount)d.mount.delete(K),d.array.delete(K),$.keepValue||(xt(i,K),xt(a,K)),!$.keepError&&xt(t.errors,K),!$.keepDirty&&xt(t.dirtyFields,K),!$.keepTouched&&xt(t.touchedFields,K),!$.keepIsValidating&&xt(t.validatingFields,K),!e.shouldUnregister&&!$.keepDefaultValue&&xt(o,K);T.values.next({values:{...a}}),T.state.next({...t,...$.keepDirty?{isDirty:V()}:{}}),!$.keepIsValid&&F()},Ke=({disabled:N,name:$,field:K,fields:ce,value:le})=>{if(Ir(N)&&h.mount||N){const ie=N?void 0:_t(le)?df(K?K._f:_e(ce,$)._f):le;lt(a,$,ie),fe($,ie,!1,!1,!0)}},qe=(N,$={})=>{let K=_e(i,N);const ce=Ir($.disabled)||Ir(e.disabled);return lt(i,N,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:N}},name:N,mount:!0,...$}}),d.mount.add(N),K?Ke({field:K,disabled:Ir($.disabled)?$.disabled:e.disabled,name:N,value:$.value}):ne(N,!0,$.value),{...ce?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:Za($.min),max:Za($.max),minLength:Za($.minLength),maxLength:Za($.maxLength),pattern:Za($.pattern)}:{},name:N,onChange:ae,onBlur:ae,ref:le=>{if(le){qe(N,$),K=_e(i,N);const ie=_t(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Se=tx(ie),De=K._f.refs||[];if(Se?De.find(Ue=>Ue===ie):ie===K._f.ref)return;lt(i,N,{_f:{...K._f,...Se?{refs:[...De.filter(hf),ie,...Array.isArray(_e(o,N))?[{}]:[]],ref:{type:ie.type,name:N}}:{ref:ie}}}),ne(N,!1,void 0,ie)}else K=_e(i,N,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(HP(d.array,N)&&h.action)&&d.unMount.add(N)}}},et=()=>e.shouldFocusError&&dl(i,Te,d.mount),Tt=N=>{Ir(N)&&(T.state.next({disabled:N}),dl(i,($,K)=>{const ce=_e(i,K);ce&&($.disabled=ce._f.disabled||N,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(le=>{le.disabled=ce._f.disabled||N}))},0,!1))},kn=(N,$)=>async K=>{let ce;if(K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist()),e.disabled){$&&await $({...t.errors},K);return}let le=jn(a);if(T.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:Se}=await S();t.errors=ie,le=Se}else await k(i);if(xt(t.errors,"root"),mn(t.errors)){T.state.next({errors:{}});try{await N(le,K)}catch(ie){ce=ie}}else $&&await $({...t.errors},K),et(),setTimeout(et);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mn(t.errors)&&!ce,submitCount:t.submitCount+1,errors:t.errors}),ce)throw ce},ai=(N,$={})=>{_e(i,N)&&(_t($.defaultValue)?Oe(N,jn(_e(o,N))):(Oe(N,$.defaultValue),lt(o,N,jn($.defaultValue))),$.keepTouched||xt(t.touchedFields,N),$.keepDirty||(xt(t.dirtyFields,N),t.isDirty=$.defaultValue?V(N,jn(_e(o,N))):V()),$.keepError||(xt(t.errors,N),w.isValid&&F()),T.state.next({...t}))},Bn=(N,$={})=>{const K=N?jn(N):o,ce=jn(K),le=mn(N),ie=le?o:ce;if($.keepDefaultValues||(o=K),!$.keepValues){if($.keepDirtyValues){const Se=new Set([...d.mount,...Object.keys(Ja(o,a))]);for(const De of Array.from(Se))_e(t.dirtyFields,De)?lt(ie,De,_e(a,De)):Oe(De,_e(ie,De))}else{if(jp&&_t(N))for(const Se of d.mount){const De=_e(i,Se);if(De&&De._f){const Ue=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(Hc(Ue)){const je=Ue.closest("form");if(je){je.reset();break}}}}i={}}a=n.shouldUnregister?$.keepDefaultValues?jn(o):{}:jn(ie),T.array.next({values:{...ie}}),T.values.next({values:{...ie}})}d={mount:$.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!w.isValid||!!$.keepIsValid||!!$.keepDirtyValues,h.watch=!!n.shouldUnregister,T.state.next({submitCount:$.keepSubmitCount?t.submitCount:0,isDirty:le?!1:$.keepDirty?t.isDirty:!!($.keepDefaultValues&&!Ui(N,o)),isSubmitted:$.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:le?{}:$.keepDirtyValues?$.keepDefaultValues&&a?Ja(o,a):t.dirtyFields:$.keepDefaultValues&&N?Ja(o,N):$.keepDirty?t.dirtyFields:{},touchedFields:$.keepTouched?t.touchedFields:{},errors:$.keepErrors?t.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},hr=(N,$)=>Bn(Sr(N)?N(a):N,$);return{control:{register:qe,unregister:Fe,getFieldState:X,handleSubmit:kn,setError:Le,_executeSchema:S,_getWatch:A,_getDirty:V,_updateValid:F,_removeUnmounted:M,_updateFieldArray:Y,_updateDisabledField:Ke,_getFieldArray:be,_reset:Bn,_resetDefaultValues:()=>Sr(e.defaultValues)&&e.defaultValues().then(N=>{hr(N,e.resetOptions),T.state.next({isLoading:!1})}),_updateFormState:N=>{t={...t,...N}},_disableForm:Tt,_subjects:T,_proxyFormState:w,_setErrors:de,get _fields(){return i},get _formValues(){return a},get _state(){return h},set _state(N){h=N},get _defaultValues(){return o},get _names(){return d},set _names(N){d=N},get _formState(){return t},set _formState(N){t=N},get _options(){return e},set _options(N){e={...e,...N}}},trigger:he,register:qe,handleSubmit:kn,watch:Me,setValue:Oe,getValues:U,reset:hr,resetField:ai,clearErrors:Ie,unregister:Fe,setError:Le,setFocus:(N,$={})=>{const K=_e(i,N),ce=K&&K._f;if(ce){const le=ce.refs?ce.refs[0]:ce.ref;le.focus&&(le.focus(),$.shouldSelect&&Sr(le.select)&&le.select())}},getFieldState:X}}function kw(n={}){const e=zn.useRef(),t=zn.useRef(),[i,o]=zn.useState({isDirty:!1,isValidating:!1,isLoading:Sr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Sr(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...lx(n),formState:i});const a=e.current.control;return a._options=n,QP({subject:a._subjects.state,next:h=>{GP(h,a._proxyFormState,a._updateFormState)&&o({...a._formState})}}),zn.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),zn.useEffect(()=>{if(a._proxyFormState.isDirty){const h=a._getDirty();h!==i.isDirty&&a._subjects.state.next({isDirty:h})}},[a,i.isDirty]),zn.useEffect(()=>{n.values&&!Ui(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,o(h=>({...h}))):a._resetDefaultValues()},[n.values,a]),zn.useEffect(()=>{n.errors&&a._setErrors(n.errors)},[n.errors,a]),zn.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),zn.useEffect(()=>{n.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[n.shouldUnregister,a]),e.current.formState=KP(i,a),e.current}const Ls=({className:n,message:e})=>P.jsx("snap",{className:`text-red-700 font-light ${n}`,role:"alert",children:e}),ux=()=>{var T,I,L,O;const{register:n,handleSubmit:e,reset:t,watch:i,formState:{errors:o}}=kw(),[a,h]=G.useState(null),{ERROR_CODES:d,signin:p}=ts(),y=Ul();function w(H){const{email:F,password:Q,signedInUser:Y}=H;p(F,Q).then(se=>{console.log("signed in user set via observer :: ",Y),y("/dashboard")}).catch(se=>{console.log("error while login :: ",{code:se.code,message:se.message}),h(d[se.code]||"Something Went Wrong")})}return P.jsxs("div",{className:"flex flex-col flex-grow items-center justify-center gap-10",children:[P.jsx("h2",{className:"font-bold text-3xl md:text-5xl text-blue-800",children:"Welcome Back!!"}),P.jsxs("form",{onSubmit:e(w),className:"flex flex-col w-full px-4 md:w-1/3 md:px-0 gap-2",children:[a&&P.jsx(Ls,{className:"mx-auto",message:a}),P.jsx("input",{className:"rounded-md",type:"email",placeholder:"Email",...n("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Email is not valid"}})}),((T=o==null?void 0:o.email)==null?void 0:T.message)&&P.jsx(Ls,{message:(I=o==null?void 0:o.email)==null?void 0:I.message}),P.jsx("input",{className:"rounded-md",type:"password",placeholder:"Password",...n("password",{onChange:H=>console.log(H.target.value),required:"Password is required",pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9]).{8,}$/i,message:"Password not matching following requirements: Password must contain at least 8 characters, a lower case character, an upper case character, a non-alphanumeric character."}})}),((L=o==null?void 0:o.password)==null?void 0:L.message)&&P.jsx(Ls,{message:(O=o==null?void 0:o.password)==null?void 0:O.message}),P.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between",children:[P.jsxs("button",{className:"p-2 rounded-md bg-blue-700 hover:bg-blue-500  text-white w-full md:w-fit",children:["Log In  ",P.jsx("i",{className:"fa-solid fa-arrow-right",style:{color:"#ffffff"}})]}),P.jsx(gh,{className:"p-2 rounded-md  text-black font-bold w-full md:w-fit text-center",onClick:()=>t(),children:"Reset"})]})]})]})},cx=()=>{var I,L,O,H,F,Q;const{register:n,handleSubmit:e,reset:t,watch:i,formState:{errors:o}}=kw(),a=Ul(),{ERROR_CODES:h,signup:d}=ts(),[p,y]=G.useState(null),w=i("password"),T=Y=>{const{email:se,password:de,confirmPassword:ne}=Y;console.log(Y),d(se,de).then(fe=>{a("/dashboard")}).catch(fe=>{y(h[fe.code]||"Something Went Wrong")})};return P.jsxs("div",{className:"flex flex-col flex-grow items-center justify-center gap-10",children:[P.jsx("h2",{className:"font-bold text-4xl text-blue-800",children:"Let's Get Started"}),P.jsxs("form",{onSubmit:e(T),className:"flex flex-col w-full px-4 md:w-1/3 md:px-0 gap-2",children:[p&&P.jsx(Ls,{className:"mx-auto",message:p}),P.jsx("input",{className:"rounded-md",type:"email",placeholder:"Email",...n("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Email is not valid"}})}),((I=o==null?void 0:o.email)==null?void 0:I.message)&&P.jsx(Ls,{message:(L=o==null?void 0:o.email)==null?void 0:L.message}),P.jsx("input",{className:"rounded-md",type:"password",placeholder:"Password",...n("password",{onChange:Y=>console.log(Y.target.value),required:"Password is required",pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9]).{8,}$/i,message:"Password not matching following requirements: Password must contain at least 8 characters, a lower case character, an upper case character, a non-alphanumeric character."}})}),((O=o==null?void 0:o.password)==null?void 0:O.message)&&P.jsx(Ls,{message:(H=o==null?void 0:o.password)==null?void 0:H.message}),P.jsx("input",{className:"rounded-md",type:"password",placeholder:"Confirm Password",...n("confirmPassword",{required:"Confirm Password is required",validate:Y=>Y===w||"Confirm Password is not matching with Password"})}),((F=o==null?void 0:o.confirmPassword)==null?void 0:F.message)&&P.jsx(Ls,{message:(Q=o==null?void 0:o.confirmPassword)==null?void 0:Q.message}),P.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between",children:[P.jsxs("button",{className:"p-2 rounded-md bg-blue-700 hover:bg-blue-500  text-white w-full md:w-fit",children:["Sign Up  ",P.jsx("i",{className:"fa-solid fa-arrow-right",style:{color:"#ffffff"}})]}),P.jsx(gh,{className:"p-2 rounded-md  text-black font-bold w-full md:w-fit text-center",onClick:()=>{t(),y(null)},children:"Reset"})]})]})]})},hx=()=>P.jsx("div",{children:"ErrorPage"}),dx=({user:n,onSignUp:e,onLogIn:t,onLogOut:i})=>P.jsxs("nav",{className:"flex flex-row bg-blue-700 text-lg font-semibold",children:[P.jsxs("div",{className:"flex flex-row gap-x-12",children:[P.jsx(Fo,{className:({isActive:o})=>`cursor-pointer ${o?"text-white":"text-slate-300"} hover:text-white ml-5 py-4`,to:"/dashboard",children:"Dashboard"}),P.jsx(Fo,{className:({isActive:o})=>`cursor-pointer ${o?"text-white":"text-slate-300"} hover:text-white py-4`,to:"/tasks",children:"Tasks"})]}),P.jsxs("div",{className:"ml-auto flex flex-row gap-x-12 ",children:[P.jsx(Fo,{className:({isActive:o})=>`cursor-pointer ${o?"text-white":"text-slate-300"} hover:text-white py-4`,to:"/signup",hidden:!!n,children:"Sign Up"}),P.jsx(Fo,{className:({isActive:o})=>`cursor-pointer ${o?"text-white":"text-slate-300"} hover:text-white mr-12 py-4`,to:"/login",hidden:!!n,children:"Log In"}),P.jsx("span",{className:"text-white hover:text-white py-4 px-2",hidden:!n,children:n==null?void 0:n.email}),P.jsx(Fo,{className:"cursor-pointer text-white hover:text-white py-4 px-4",onClick:()=>i&&i(),hidden:!n,children:"Log Out"})]})]}),fx=({onClose:n,onLogout:e})=>P.jsxs("div",{className:"flex flex-col gap-2",children:[P.jsx("i",{className:"fa-solid fa-right-from-bracket text-6xl text-center"}),P.jsx("h2",{className:"text-2xl text-center",children:"Are you sure you want to logout?"}),P.jsxs("div",{className:"flex flex-row justify-center",children:[P.jsx("button",{type:"button",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-red-700 hover:bg-red-500  text-white",onClick:t=>{t.preventDefault(),n()},children:"Cancel"}),P.jsx("button",{type:"button",className:"p-2 mx-2 mt-4 w-1/4 rounded-md bg-gray-700 hover:bg-gray-500  text-white",onClick:t=>{e()},children:"Yes"})]})]}),px=()=>{const{appUser:n,signout:e}=ts(),t=Ul(),[i,o]=G.useState(!1);function a(){e().then(h=>{o(!1),t("/login"),console.log("Redirecting to Login Page")}).catch(h=>{console.error("Error while signout :: ",h)})}return P.jsxs("div",{className:"w-full h-screen flex flex-col",children:[P.jsx(dx,{user:n,onLogIn:()=>t("/login"),onLogOut:()=>o(!0),onSignUp:()=>t("/signup")}),P.jsx(oP,{}),P.jsx(wc,{open:i,onClose:()=>o(!1),children:P.jsx(fx,{onLogout:a,onClose:()=>o(!1)})})]})};function mx(){const{appUser:n}=ts();return P.jsx(P.Fragment,{children:P.jsxs(lP,{children:[P.jsxs(Li,{path:"/",element:P.jsx(px,{}),children:[P.jsx(Li,{path:"",element:P.jsx(Ec,{to:n?"/dashboard":"/login"})}),P.jsx(Li,{path:"login",element:n?P.jsx(Ec,{to:"/dashboard"}):P.jsx(ux,{})}),P.jsx(Li,{path:"signup",element:n?P.jsx(Ec,{to:"/dashboard"}):P.jsx(cx,{})}),P.jsx(Li,{path:"dashboard",element:P.jsxs(jv,{appUser:n,children:[" ",P.jsx(BP,{})," "]})}),P.jsx(Li,{path:"tasks",element:P.jsx(jv,{appUser:n,children:P.jsx(pk,{})})})]}),P.jsx(Li,{path:"*",element:P.jsx(hx,{})})]})})}function jv({appUser:n,children:e}){return n?P.jsx(P.Fragment,{children:e}):(console.log("Redirecting to login lage due user is not signed in into app"),P.jsx(P.Fragment,{children:P.jsx(Ec,{to:"/login"})}))}zE.createRoot(document.getElementById("root")).render(P.jsx(DP,{children:P.jsx(ak,{children:P.jsx(mx,{})})}));
